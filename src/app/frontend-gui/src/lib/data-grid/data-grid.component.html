<mat-toolbar>
  <button type="button"
          id="deleteChangesButton"
          matTooltip="{{ 'cancel' | translate }}"
          mat-mini-fab class="add-half-gap"
          *ngIf="discardChangesButton"
          (click)="deleteChanges()"
          [disabled]="changeCounter <= 0 && (!someStatusHasChangedToDelete || discardNonReverseStatus  )">
    <mat-icon fontSet="material-icons-round"> close</mat-icon>
  </button>
  <button type="button"
          id="undo"
          matTooltip="{{ 'undo' | translate }}"
          mat-mini-fab class="add-half-gap"
          *ngIf="undoButton && someColumnIsEditable"
          (click)="undo()"
          [disabled]="changeCounter <= 0">
    <mat-icon fontSet="material-icons-round"> undo</mat-icon>
  </button>
  <button type="button"
          id="redo"
          matTooltip="{{ 'redo' | translate }}"
          mat-mini-fab class="add-half-gap"
          *ngIf="redoButton && someColumnIsEditable"
          (click)="redo()"
          [disabled]="redoCounter <= 0">
    <mat-icon fontSet="material-icons-round"> redo</mat-icon>
  </button>
  <button type="button"
          id="applyChangesButton"
          matTooltip="{{ 'accept' | translate }}"
          mat-mini-fab class="add-half-gap"
          *ngIf="applyChangesButton"
          (click)="applyChanges()"
          [disabled]="changeCounter <= 0">
    <mat-icon fontSet="material-icons-round"> check</mat-icon>
  </button>
  <mat-form-field subscriptSizing="dynamic" class="spacer add-half-gap">
    <mat-label [translate]="'search'"></mat-label>
    <input matInput type="text" placeholder="" (keyup)="quickSearch($event)">
  </mat-form-field>

  <ng-container *ngIf="!hideReplaceButton">
    <mat-form-field subscriptSizing="dynamic" class="spacer add-half-gap">
      <mat-label [translate]="'replace'"></mat-label>
      <input matInput type="text" placeholder="" [(ngModel)]="replaceValue">
    </mat-form-field>

    <button type="button"
            matTooltip="{{ 'replace' | translate }}"
            mat-mini-fab class="add-half-gap"
            (click)="replaceSelected()"
            [disabled]="!areRowsSelected() || !replaceValue">
      <mat-icon fontSet="material-icons-round">find_replace</mat-icon>
    </button>
  </ng-container>

  <button type="button"
          mat-mini-fab class="add-half-gap"
          *ngIf="!hideExportButton"
          [disabled]="!areRowsSelected()"
          matTooltip="{{ 'export' | translate }}"
          (click)="exportData()">
    <mat-icon fontSet="material-icons-round"> file_download</mat-icon>
  </button>
  <button type="button"
          matTooltip="{{ 'remove' | translate }}"
          mat-mini-fab class="add-half-gap"
          *ngIf="deleteButton"
          (click)="removeData()"
          [disabled]="!areRowsSelected()">
    <mat-icon fontSet="material-icons-round"> delete</mat-icon>
  </button>
  <button type="button"
          mat-mini-fab class="add-half-gap"
          matTooltip="{{ 'duplicate' | translate }}"
          *ngIf="!hideDuplicateButton"
          [disabled]="!oneRowSelected()"
          (click)="onDuplicateButtonClicked()">
    <mat-icon fontSet="material-icons-round"> content_copy</mat-icon>
  </button>

  <button type="button"
          *ngIf="newButton"
          mat-mini-fab class="add-half-gap"
          matTooltip="{{ 'new' | translate }}"
          (click)="newData()">
    <mat-icon fontSet="material-icons-round"> add_circle_outline</mat-icon>
  </button>
  <button type="button"
          *ngIf="addButton"
          mat-mini-fab class="add-half-gap"
          matTooltip="{{ 'add' | translate }}"
          (click)="onAddButtonClicked()">
    <mat-icon fontSet="material-icons-round"> add_circle_outline</mat-icon>
  </button>
  <button type="button"
          *ngIf="registerButton"
          matTooltip="{{ 'register' | translate }}"
          mat-mini-fab class="add-half-gap"
          (click)="modifyStatusSelected()">
    <mat-icon fontSet="material-icons-round"> add_circle_outline</mat-icon>
  </button>

</mat-toolbar>

<mat-card appearance="outlined">
  <mat-card-content #dataGrid>
    <ag-grid-angular class="ag-theme-material" style="width: 100%; height: 100%;"
                     [rowData]="rowData"
                     [columnDefs]="columnDefs"
                     [gridOptions]="gridOptions"
                     [animateRows]="true"
                     [pagination]="false"
                     [undoRedoCellEditing]="true"
                     [undoRedoCellEditingLimit]=200
                     [suppressRowClickSelection]=true
                     [components]="components"
                     rowSelection="multiple"
                     multiSortKey="key"
                     (filterModified)="onFilterModified()"
                     (cellEditingStopped)="onCellEditingStopped($event)"
                     (cellValueChanged)="onCellValueChanged($event)"
                     (firstDataRendered)="firstDataRendered()"
                     [domLayout]="'autoHeight'">
    </ag-grid-angular>
  </mat-card-content>
</mat-card>
