!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@ag-grid-community/all-modules"),require("@ngx-translate/core"),require("@angular/material/dialog"),require("@angular/forms"),require("@angular/common"),require("@angular/common/http"),require("@angular/platform-browser/animations"),require("@angular/router"),require("@angular/common/locales/ca"),require("@angular/common/locales/es"),require("@ag-grid-community/angular"),require("@angular/cdk/a11y"),require("@angular/cdk/drag-drop"),require("@angular/cdk/portal"),require("@angular/cdk/scrolling"),require("@angular/cdk/stepper"),require("@angular/cdk/table"),require("@angular/cdk/tree"),require("@angular/material/autocomplete"),require("@angular/material/badge"),require("@angular/material/bottom-sheet"),require("@angular/material/button"),require("@angular/material/button-toggle"),require("@angular/material/card"),require("@angular/material/checkbox"),require("@angular/material/chips"),require("@angular/material/stepper"),require("@angular/material/datepicker"),require("@angular/material/divider"),require("@angular/material/expansion"),require("@angular/material/grid-list"),require("@angular/material/icon"),require("@angular/material/input"),require("@angular/material/list"),require("@angular/material/menu"),require("@angular/material/core"),require("@angular/material/paginator"),require("@angular/material/progress-bar"),require("@angular/material/progress-spinner"),require("@angular/material/radio"),require("@angular/material/select"),require("@angular/material/sidenav"),require("@angular/material/slider"),require("@angular/material/slide-toggle"),require("@angular/material/snack-bar"),require("@angular/material/sort"),require("@angular/material/table"),require("@angular/material/tabs"),require("@angular/material/toolbar"),require("@angular/material/tooltip"),require("@angular/material/tree"),require("@angular/material/form-field"),require("@ngx-translate/http-loader"),require("rxjs"),require("@angular/cdk/collections"),require("@angular/platform-browser"),require("d3")):"function"==typeof define&&define.amd?define("@sitmun/frontend-gui",["exports","@angular/core","@ag-grid-community/all-modules","@ngx-translate/core","@angular/material/dialog","@angular/forms","@angular/common","@angular/common/http","@angular/platform-browser/animations","@angular/router","@angular/common/locales/ca","@angular/common/locales/es","@ag-grid-community/angular","@angular/cdk/a11y","@angular/cdk/drag-drop","@angular/cdk/portal","@angular/cdk/scrolling","@angular/cdk/stepper","@angular/cdk/table","@angular/cdk/tree","@angular/material/autocomplete","@angular/material/badge","@angular/material/bottom-sheet","@angular/material/button","@angular/material/button-toggle","@angular/material/card","@angular/material/checkbox","@angular/material/chips","@angular/material/stepper","@angular/material/datepicker","@angular/material/divider","@angular/material/expansion","@angular/material/grid-list","@angular/material/icon","@angular/material/input","@angular/material/list","@angular/material/menu","@angular/material/core","@angular/material/paginator","@angular/material/progress-bar","@angular/material/progress-spinner","@angular/material/radio","@angular/material/select","@angular/material/sidenav","@angular/material/slider","@angular/material/slide-toggle","@angular/material/snack-bar","@angular/material/sort","@angular/material/table","@angular/material/tabs","@angular/material/toolbar","@angular/material/tooltip","@angular/material/tree","@angular/material/form-field","@ngx-translate/http-loader","rxjs","@angular/cdk/collections","@angular/platform-browser","d3"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).sitmun=t.sitmun||{},t.sitmun["frontend-gui"]={}),t.ng.core,t.allModules,t.core$1,t.ng.material.dialog,t.ng.forms,t.ng.common,t.ng.common.http,t.ng.platformBrowser.animations,t.ng.router,t.ng.common.locales.ca,t.ng.common.locales.es,t.angular,t.ng.cdk.a11y,t.ng.cdk.dragDrop,t.ng.cdk.portal,t.ng.cdk.scrolling,t.ng.cdk.stepper,t.ng.cdk.table,t.ng.cdk.tree,t.ng.material.autocomplete,t.ng.material.badge,t.ng.material.bottomSheet,t.ng.material.button,t.ng.material.buttonToggle,t.ng.material.card,t.ng.material.checkbox,t.ng.material.chips,t.ng.material.stepper,t.ng.material.datepicker,t.ng.material.divider,t.ng.material.expansion,t.ng.material.gridList,t.ng.material.icon,t.ng.material.input,t.ng.material.list,t.ng.material.menu,t.ng.material.core,t.ng.material.paginator,t.ng.material.progressBar,t.ng.material.progressSpinner,t.ng.material.radio,t.ng.material.select,t.ng.material.sidenav,t.ng.material.slider,t.ng.material.slideToggle,t.ng.material.snackBar,t.ng.material.sort,t.ng.material.table,t.ng.material.tabs,t.ng.material.toolbar,t.ng.material.tooltip,t.ng.material.tree,t.ng.material.formField,t.httpLoader,t.rxjs,t.ng.cdk.collections,t.ng.platformBrowser,t.d3)}(this,(function(t,e,n,a,r,i,o,l,s,d,u,c,p,g,h,m,f,b,v,y,C,S,x,w,A,D,M,I,k,N,R,E,B,O,F,T,q,_,V,G,P,H,L,z,j,W,J,U,K,Q,X,Y,Z,tt,et,nt,at,rt,it){"use strict";function ot(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function lt(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var st=ot(u),dt=ot(c),ut=lt(it);Object.create;function ct(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],a=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var a,r,i=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}function gt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pt(arguments[e]));return t}Object.create;"function"==typeof SuppressedError&&SuppressedError;var ht=function(){function t(){}return t.prototype.agInit=function(t){this.params=t},t.prototype.refresh=function(t){return!0},t.prototype.btnClickedHandler=function(t){this.params.clicked(this.params.value)},t.prototype.getParams=function(){return this.params},t.prototype.ngOnDestroy=function(){},t}();ht.decorators=[{type:e.Component,args:[{selector:"app-btn-edit-rendered",template:'<button mat-mini-fab class="buttonEdit"  type="button"  (click)="btnClickedHandler($event)" >\r\n  <mat-icon class="iconEdit"   fontSet="material-icons-round" > edit </mat-icon>\r\n</button> ',styles:[".buttonEdit{color:#000;background-color:#ddd;width:20px;margin-top:3px;height:20px;box-shadow:none}.iconEdit{font-size:13px;margin-top:-10px;margin-left:-2px}"]}]}];var mt=function(){function t(){}return t.prototype.agInit=function(t){this.params=t},t.prototype.refresh=function(t){return this.params=t,!0},t.prototype.invokeParentMethod=function(){this.params.context.componentParent.methodFromParent("Row: "+this.params.node.rowIndex+", Col: "+this.params.colDef.headerName)},t.prototype.btnCheckedHandler=function(t){if(this.params.colDef.editable){var e=!t.target.firstElementChild.checked,n=this.params.column.colId;this.params.value=e,this.params.api.undoRedoService.isFilling=!0,this.params.node.setDataValue(n,e)}else t.preventDefault()},t.prototype.getParams=function(){return this.params},t.prototype.ngOnDestroy=function(){},t}();mt.decorators=[{type:e.Component,args:[{selector:"app-btn-checkbox-rendered",template:'<mat-checkbox (click)="btnCheckedHandler($event)" [value]="params.value" [checked]="params.value"> </mat-checkbox>',styles:[""]}]}];var ft=function(){function t(){this.text=""}return t.prototype.agInit=function(t){this.params=t,this.valueGetter=t.filterParams.valueGetter,this.params.suppressFilterButton=!0},t.prototype.isFilterActive=function(){return null!=this.text&&""!==this.text},t.prototype.doesFilterPass=function(t){var e=this;return this.text.toLowerCase().split(" ").every((function(n){return e.valueGetter(t.node).toString().toLowerCase().indexOf(n)>=0}))},t.prototype.getModel=function(){return{value:this.text}},t.prototype.setModel=function(t){this.text=t?t.value:""},t.prototype.onChange=function(t){this.params.parentFilterInstance((function(e){e.onFloatingFilterChanged("contains",t)}))},t.prototype.onParentModelChanged=function(t){this.currentValue=t?t.filter:0},t}();ft.decorators=[{type:e.Component,args:[{selector:"app-btn-checkbox-filter",template:'<select  #filterSelect  (change)=\'onChange(filterSelect.value)\'>\r\n    <option value="">{{"selectAll" | translate}}</option>\r\n    <option value="true">{{"enabled" | translate}}</option>\r\n    <option value="false">{{"disabled" | translate}}</option>\r\n  </select>',host:{class:"hostClass"},styles:[".hostClass{width:100%}"]}]}],ft.propDecorators={input:[{type:e.ViewChild,args:["input",{read:e.ViewContainerRef}]}]};var bt=function(){function t(t){this.dialogRef=t,this.hideCancelButton=!1}return t.prototype.ngOnInit=function(){},t.prototype.doAccept=function(){this.dialogRef.close({event:"Accept"})},t.prototype.closeDialog=function(){this.dialogRef.close({event:"Cancel"})},t}();bt.decorators=[{type:e.Component,args:[{selector:"app-dialog-message",template:'<h5 mat-dialog-title class="titleDialog">{{title}}</h5>\r\n<mat-dialog-content class="mat-typography">\r\n  <p>\r\n    {{message}}\r\n  </p>\r\n</mat-dialog-content>\r\n<mat-dialog-actions align="end">\r\n  <button mat-flat-button class="returnButton"  *ngIf="!hideCancelButton" (click)="closeDialog()">{{"cancel" | translate}}</button>\r\n  <button mat-flat-button class="saveButton"  (click)="doAccept()" cdkFocusInitial>{{"accept" | translate}}</button>\r\n</mat-dialog-actions>',styles:[".titleDialog{margin-top:inherit!important;margin-bottom:15px!important}"]}]}],bt.ctorParameters=function(){return[{type:r.MatDialogRef}]};var vt=function(){function t(t,a,r){var i=this;this.dialog=t,this.translate=a,this.elRef=r,this.modules=n.AllCommunityModules,this.statusColumn=!1,this.someColumnIsEditable=!1,this.changesMap=new Map,this.modificationChange=!1,this.undoNoChanges=!1,this.someStatusHasChangedToDelete=!1,this.currentData=null,this.translate=a,this.frameworkComponents={btnEditRendererComponent:ht,btnCheckboxRendererComponent:mt,btnCheckboxFilterComponent:ft},this.components={datePicker:this.getDatePicker()},this.remove=new e.EventEmitter,this.new=new e.EventEmitter,this.add=new e.EventEmitter,this.discardChanges=new e.EventEmitter,this.sendChanges=new e.EventEmitter,this.getSelectedRows=new e.EventEmitter,this.duplicate=new e.EventEmitter,this.getAllRows=new e.EventEmitter,this.gridModified=new e.EventEmitter,this.changeCounter=0,this.previousChangeCounter=0,this.redoCounter=0,this.gridOptions={defaultColDef:{sortable:!0,flex:1,filter:!0,editable:!this.nonEditable,suppressMenu:!0,resizable:!0,cellStyle:function(t){return t.value&&t.colDef.editable&&i.changesMap.has(t.node.id)&&i.changesMap.get(t.node.id).has(t.colDef.field)?{"background-color":"#E8F1DE"}:{"background-color":"white"}}},rowSelection:"multiple",singleClickEdit:!0,localeTextFunc:function(t,e){var n=i.translate.instant(t);return n===t?e:n}}}return t.prototype.ngOnInit=function(){var t=this;this.eventRefreshSubscription&&(this._eventRefreshSubscription=this.eventRefreshSubscription.subscribe((function(){t.changesMap.clear(),t.someStatusHasChangedToDelete=!1,t.changeCounter=0,t.previousChangeCounter=0,t.redoCounter=0,t.getElements()}))),this.eventGetSelectedRowsSubscription&&(this._eventGetSelectedRowsSubscription=this.eventGetSelectedRowsSubscription.subscribe((function(){t.emitSelectedRows()}))),this.eventGetAllRowsSubscription&&(this._eventGetAllRowsSubscription=this.eventGetAllRowsSubscription.subscribe((function(e){t.emitAllRows(e)}))),this.eventSaveAgGridStateSubscription&&(this._eventSaveAgGridStateSubscription=this.eventSaveAgGridStateSubscription.subscribe((function(){t.saveAgGridState()}))),this.eventModifyStatusOfSelectedCells&&(this._eventModifyStatusOfSelectedCells=this.eventModifyStatusOfSelectedCells.subscribe((function(e){t.modifyStatusSelected(e)}))),this.eventAddItemsSubscription&&this.eventAddItemsSubscription.subscribe((function(e){t.addItems(e)}))},t.prototype.firstDataRendered=function(){if(null!=localStorage.agGridState){var t=JSON.parse(localStorage.agGridState);null!=t.idAgGrid&&t.idAgGrid==this.id?(this.gridApi.setFilterModel(t.filterState),this.gridColumnApi.setColumnState(t.colState),this.gridApi.setSortModel(t.sortState),this.searchValue=t.valueSearchGeneric,this.quickSearch(),this.removeAgGridState()):null!=this.id&&this.removeAgGridState()}},t.prototype.onGridReady=function(t){var e,n;this.singleSelection&&(this.gridOptions.rowSelection="single"),this.params=t,this.gridApi=t.api,this.gridColumnApi=t.columnApi;try{for(var a=ct(this.columnDefs),r=a.next();!r.done;r=a.next()){var i=r.value;!this.someColumnIsEditable&&i.editable&&(this.someColumnIsEditable=!0),"status"===i.field&&(this.statusColumn=!0)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}if(this.getElements(),console.log(this.columnDefs),this.defaultColumnSorting)if(Array.isArray(this.defaultColumnSorting)){var o=[];this.defaultColumnSorting.forEach((function(t){o.push({colId:t,sort:"asc"})})),this.gridApi.setSortModel(o)}else{var l=[{colId:this.defaultColumnSorting,sort:"asc"}];this.gridApi.setSortModel(l)}null!=this.defaultHeight&&null!=this.defaultHeight&&this.changeHeight(this.defaultHeight)},t.prototype.getDatePicker=function(){function t(){}return t.prototype.init=function(t){this.eInput=document.createElement("input"),this.eInput.value=t.value,this.eInput.classList.add("ag-input"),this.eInput.style.height="100%",$(this.eInput).datepicker({dateFormat:"mm/dd/yy"})},t.prototype.getGui=function(){return this.eInput},t.prototype.afterGuiAttached=function(){this.eInput.focus(),this.eInput.select()},t.prototype.getValue=function(){return this.eInput.value},t.prototype.destroy=function(){},t.prototype.isPopup=function(){return!1},t},t.prototype.areRowsSelected=function(){return null!=this.gridApi&&this.gridApi.getSelectedNodes().length>0},t.prototype.emitSelectedRows=function(){var t=this.gridApi.getSelectedNodes().map((function(t){return t.data}));this.getSelectedRows.emit(t)},t.prototype.emitAllRows=function(t){this.getAllRows.emit({data:this.getAllCurrentData(),event:t})},t.prototype.getAllCurrentData=function(){var t=[];return this.gridApi.forEachNode((function(e){return t.push(e.data)})),t},t.prototype.modifyStatusSelected=function(t){var e=t||this.newStatusRegister;this.gridApi.getSelectedNodes().map((function(t){t.data.status=e,t.selected=!1})),this.gridApi.redrawRows()},t.prototype.saveAgGridState=function(){var t={idAgGrid:this.id,colState:this.gridColumnApi.getColumnState(),filterState:this.gridApi.getFilterModel(),sortState:this.gridApi.getSortModel(),valueSearchGeneric:this.searchValue};localStorage.setItem("agGridState",JSON.stringify(t))},t.prototype.removeAgGridState=function(){localStorage.removeItem("agGridState")},t.prototype.getColumnKeysAndHeaders=function(t){var e=[];return 0==this.columnDefs.length?"":(this.gridOptions.columnApi.getAllDisplayedColumns().forEach((function(n){""!==n.userProvidedColDef.headerName&&(t.push(n.userProvidedColDef.field),e.push(n.userProvidedColDef.headerName))})),e.join(","))},t.prototype.exportData=function(){var t=[],e={onlySelected:!0,columnKeys:t,customHeader:this.getColumnKeysAndHeaders(t),skipHeader:!0};this.gridApi.exportDataAsCsv(e)},t.prototype.quickSearch=function(){this.gridApi.setQuickFilter(this.searchValue)},t.prototype.getElements=function(){var t=this;this.getAll().subscribe((function(e){var n=t.allNewElements?"pendingCreation":"statusOK",a=[],r=t.addFieldRestriction?t.addFieldRestriction:"id";e.forEach((function(e){t.statusColumn&&("notAvailable"!=e.status&&"pendingCreation"!=e.status&&"pendingRegistration"!=e.status&&"unregisteredLayer"!=e.status&&(e.status=n),t.allNewElements&&(e.new=!0)),t.currentData&&t.checkElementAllowedToAdd(r,e,t.currentData)&&a.push(e)})),t.rowData=t.currentData?a:e,t.gridApi.setRowData(t.rowData),t.setSize(),console.log(t.rowData)}))},t.prototype.setSize=function(){var t=[],e=this.gridOptions.columnApi.getAllColumns();e.forEach((function(e){t.push(e.colId)})),this.gridOptions.columnApi.autoSizeColumns(t);var n=this.gridOptions.api,a=n.gridPanel.eBodyViewport.clientWidth;n.gridPanel.columnController.getWidthOfColsInList(e)<a&&n.sizeColumnsToFit()},t.prototype.addItems=function(t){var e=this;console.log(t);var n=[],a=this.addFieldRestriction?this.addFieldRestriction:"id";t.forEach((function(t){e.checkElementAllowedToAdd(a,t,e.rowData)?(e.statusColumn&&(t.status="pendingCreation",t.newItem=!0),n.push(t),e.rowData.push(t)):console.log("Item already exists")})),this.gridApi.updateRowData({add:n}),console.log(this.columnDefs)},t.prototype.checkElementAllowedToAdd=function(t,e,n){var a,r,i,o,l=this,s=!0;if(Array.isArray(t)){try{for(var d=ct(n),u=d.next();!u.done;u=d.next()){var c=u.value,p=!1;try{for(var g=(i=void 0,ct(t)),h=g.next();!h.done;h=g.next()){var m=h.value;if(c[m]!=e[m]){p=!0;break}}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}if(!p){s=!1;break}}}catch(t){a={error:t}}finally{try{u&&!u.done&&(r=d.return)&&r.call(d)}finally{if(a)throw a.error}}return s}return this.fieldRestrictionWithDifferentName?null==e[t]||null==n.find((function(n){return n[l.fieldRestrictionWithDifferentName]==e[t]})):null==e[t]||null==n.find((function(n){return n[t]==e[t]}))},t.prototype.changeHeight=function(t){var e="";e="5"===t?"200px":"10"===t?"315px":"20"===t?"630px":"1550px",this.elRef.nativeElement.parentElement.style.height=e},t.prototype.removeData=function(){var t,e;this.gridApi.stopEditing(!1);var n=this.gridApi.getSelectedNodes(),a=n.map((function(t){return t.data}));if(this.remove.emit(a),this.statusColumn){var r=n.map((function(t){return t.id}));r.length>0&&(this.someStatusHasChangedToDelete=!0);try{for(var i=ct(r),o=i.next();!o.done;o=i.next()){var l=o.value;this.gridApi.getRowNode(l).data.status="pendingDelete"}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.gridOptions.api.refreshCells()}this.gridOptions.api.deselectAll()},t.prototype.newData=function(){this.gridApi.stopEditing(!1),this.new.emit(-1)},t.prototype.onAddButtonClicked=function(){this.gridApi.stopEditing(!1),this.add.emit(this.getAllCurrentData())},t.prototype.onDuplicateButtonClicked=function(){var t=this;if(this.gridApi.stopEditing(!1),this.changeCounter>0){var e=this.dialog.open(bt);e.componentInstance.title=this.translate.instant("caution"),e.componentInstance.message=this.translate.instant("duplicateMessage"),e.afterClosed().subscribe((function(e){if(e&&"Accept"===e.event){var n=t.gridApi.getSelectedNodes().map((function(t){return t.data}));t.duplicate.emit(n)}}))}else{var n=this.gridApi.getSelectedNodes().map((function(t){return t.data}));this.duplicate.emit(n),this.gridOptions.api.deselectAll()}},t.prototype.applyChanges=function(){var t,e,n=[];this.gridApi.stopEditing(!1);try{for(var a=ct(this.changesMap.keys()),r=a.next();!r.done;r=a.next()){var i=r.value;n.push(this.gridApi.getRowNode(i).data)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}this.sendChanges.emit(n),this.gridModified.emit(!1),this.changesMap.clear(),this.changeCounter=0,this.previousChangeCounter=0,this.redoCounter=0,this.someStatusHasChangedToDelete=!1,this.gridApi.redrawRows()},t.prototype.deleteChanges=function(){this.gridApi.stopEditing(!1);for(var t=this.allNewElements;this.changeCounter>0;)this.undo();if(this.changesMap.clear(),this.redoCounter=0,this.statusColumn&&!this.discardNonReverseStatus){var e=[];this.gridApi.forEachNode((function(n){"pendingModify"!==n.data.status&&"pendingDelete"!==n.data.status||("pendingDelete"===n.data.status&&e.push(n.data),n.data.newItem||t?n.data.status="pendingCreation":n.data.status="statusOK")})),this.someStatusHasChangedToDelete=!1,this.discardChanges.emit(e),this.gridModified.emit(!1)}this.gridApi.redrawRows()},t.prototype.onFilterModified=function(){this.deleteChanges()},t.prototype.undo=function(){this.gridApi.stopEditing(!1),this.gridApi.undoCellEditing(),this.changeCounter-=1,0==this.changeCounter&&this.gridModified.emit(!1),this.redoCounter+=1},t.prototype.redo=function(){this.gridApi.stopEditing(!1),this.gridApi.redoCellEditing(),this.changeCounter+=1,this.redoCounter-=1},t.prototype.onCellEditingStopped=function(t){this.modificationChange&&(this.changeCounter++,1==this.changeCounter&&this.gridModified.emit(!0),this.redoCounter=0,this.onCellValueChanged(t),this.modificationChange=!1)},t.prototype.onCellValueChanged=function(t){if(this.params=t,this.changeCounter>this.previousChangeCounter){if(t.oldValue!==t.value&&(null!=t.oldValue||""!==t.value)){if(this.changesMap.has(t.node.id))if(this.changesMap.get(t.node.id).has(t.colDef.field)){var e=this.changesMap.get(t.node.id).get(t.colDef.field);this.changesMap.get(t.node.id).set(t.colDef.field,e+1)}else this.changesMap.get(t.node.id).set(t.colDef.field,1);else{var n=new Map;n.set(t.colDef.field,1),this.changesMap.set(t.node.id,n),this.statusColumn&&(this.gridApi.getRowNode(t.node.id).data.status="pendingModify")}this.paintCells(t,this.changesMap),this.previousChangeCounter++}}else if(this.changeCounter<this.previousChangeCounter){e=-1;if(this.changesMap.has(t.node.id)&&(e=this.changesMap.get(t.node.id).get(t.colDef.field)),1===e)if(this.changesMap.get(t.node.id).delete(t.colDef.field),0===this.changesMap.get(t.node.id).size){this.changesMap.delete(t.node.id);var a=this.gridApi.getDisplayedRowAtIndex(t.rowIndex);this.statusColumn&&"pendingCreation"!==this.gridApi.getRowNode(t.node.id).data.status&&(this.gridApi.getRowNode(t.node.id).data.status="statusOK"),this.gridApi.redrawRows({rowNodes:[a]})}else this.paintCells(t,this.changesMap);else e>1&&(this.changesMap.get(t.node.id).set(t.colDef.field,e-1),this.paintCells(t,this.changesMap));this.previousChangeCounter--}else if(null!=t.oldValue||""!==t.value){var r=void 0;if(r=null==t.value?"":t.value.toString(),null!=t.oldValue&&null!=t.oldValue&&t.oldValue.toString()!==r.toString()||(null==t.oldValue||null==t.oldValue)&&null!=r){if(this.modificationChange=!0,"btnCheckboxRendererComponent"==t.colDef.cellRenderer){var i={cellValueChanges:this.gridApi.undoRedoService.cellValueChanges};this.gridApi.undoRedoService.pushActionsToUndoStack(i),this.gridApi.undoRedoService.isFilling=!1,this.onCellEditingStopped(t)}}else this.modificationWithoutChanges(t)}else this.modificationWithoutChanges(t)},t.prototype.modificationWithoutChanges=function(t){this.changesMap.has(t.node.id)?this.undoNoChanges?this.undoNoChanges=!1:(this.gridApi.undoCellEditing(),this.undoNoChanges=!0,this.paintCells(t,this.changesMap)):this.undoNoChanges?this.undoNoChanges=!1:(this.gridApi.undoCellEditing(),this.undoNoChanges=!0)},t.prototype.getColumnIndexByColId=function(t,e){return t.getAllColumns().findIndex((function(t){return t.getColId()===e}))},t.prototype.paintCells=function(t,e){var n=this.gridApi.getDisplayedRowAtIndex(t.rowIndex);this.gridApi.redrawRows({rowNodes:[n]})},t}();vt.decorators=[{type:e.Component,args:[{selector:"app-data-grid",template:'<div id=grup1 class="editDivBtns">\r\n    <span *ngIf="title" [translate]="title"> </span>\r\n    <button type="button" title="{{ \'cancel\' | translate }}" mat-mini-fab class="mini-fab mat-red" *ngIf="discardChangesButton"\r\n        id="deleteChangesButton" type="button" (click)="deleteChanges()" [disabled]="changeCounter <= 0 && (!someStatusHasChangedToDelete || discardNonReverseStatus  )">\r\n        <mat-icon fontSet="material-icons-round"> close </mat-icon>\r\n    </button>\r\n    <button type="button" title="{{ \'undo\' | translate }}" mat-mini-fab class="mini-fab mat-orange" *ngIf="undoButton && someColumnIsEditable"\r\n        id="undo" (click)="undo()" [disabled]="changeCounter <= 0">\r\n        <mat-icon fontSet="material-icons-round"> undo </mat-icon>\r\n    </button>\r\n    <button type="button" title="{{ \'redo\' | translate }}" mat-mini-fab class="mini-fab mat-orange" *ngIf="redoButton && someColumnIsEditable"\r\n        id="redo" (click)="redo()" [disabled]="redoCounter <= 0">\r\n        <mat-icon fontSet="material-icons-round"> redo </mat-icon>\r\n    </button>\r\n    <button type="button" title="{{ \'accept\' | translate }}" mat-mini-fab class="mini-fab mat-green"\r\n        *ngIf="applyChangesButton" id="applyChangesButton" (click)="applyChanges()" [disabled]="changeCounter <= 0">\r\n        <mat-icon fontSet="material-icons-round"> check </mat-icon>\r\n    </button>\r\n</div>\r\n\r\n<div id=grup2 class="actionsDivBtns">\r\n    <label *ngIf="globalSearch" [translate]="\'search\'"> </label>\r\n    <input *ngIf="globalSearch" type="text" class="searchGenericInput" placeholder="" (keyup)="quickSearch()"\r\n        [(ngModel)]="searchValue" ml-2>\r\n    <label *ngIf="changeHeightButton" [translate]="\'rowsToShow\'"> </label>\r\n    <mat-button-toggle-group *ngIf="changeHeightButton" class="toogleButton" name="fontStyle" aria-label="Font Style"  value="5">\r\n        <mat-button-toggle value="5" (change)="changeHeight($event.value)">5</mat-button-toggle>\r\n        <mat-button-toggle value="20" (change)="changeHeight($event.value)">20</mat-button-toggle>\r\n        <mat-button-toggle value="50" (change)="changeHeight($event.value)">50</mat-button-toggle>\r\n    </mat-button-toggle-group>\r\n\r\n    <button type="button" *ngIf="deleteButton" mat-flat-button id="deleteButton" class="deleteButton"\r\n        (click)="removeData()" [disabled]="!areRowsSelected()">\r\n        <mat-icon fontSet="material-icons-round"> delete </mat-icon>\r\n        <span [translate]="\'remove\'"> </span>\r\n\r\n    </button>\r\n    <button type="button" *ngIf="actionButton" mat-flat-button [matMenuTriggerFor]="menu" id="actionButton"\r\n        class="actionButton">\r\n        <span [translate]="\'actions\'"> </span>\r\n        <mat-icon fontSet="material-icons-round"> keyboard_arrow_down </mat-icon>\r\n    </button>\r\n    <mat-menu #menu="matMenu">\r\n        <button type="button" mat-menu-item *ngIf="!hideExportButton" [disabled]="!areRowsSelected()" (click)="exportData()"> {{"export" | translate}}\r\n        </button>\r\n        <button type="button" mat-menu-item *ngIf="!hideDuplicateButton" [disabled]="!areRowsSelected()" (click)="onDuplicateButtonClicked()">\r\n            {{"duplicate" |\r\n            translate}}</button>\r\n        <button type="button" mat-menu-item *ngIf="!hideSearchReplaceButton && false"> {{"search/replace" | translate}}</button>\r\n    </mat-menu>\r\n\r\n    <button type="button" *ngIf="newButton" mat-flat-button class="newButton" (click)="newData()">\r\n        <mat-icon fontSet="material-icons-round"> add_circle_outline </mat-icon>\r\n        <span [translate]="\'new\'"> </span>\r\n    </button>\r\n    <button type="button" *ngIf="addButton" mat-flat-button class="newButton" (click)="onAddButtonClicked()">\r\n        <mat-icon fontSet="material-icons-round"> add_circle_outline </mat-icon>\r\n        <span [translate]="\'add\'"> </span>\r\n    </button>\r\n    <button type="button" *ngIf="registerButton" mat-flat-button class="newButton" (click)="modifyStatusSelected()">\r\n        <mat-icon fontSet="material-icons-round"> add_circle_outline </mat-icon>\r\n        <span [translate]="\'register\'"> </span>\r\n    </button>\r\n\r\n</div>\r\n\r\n<div class="row" style=" height: 100%">\r\n    <div id="myGrid" style=" width:100%; height: 100%">\r\n        <ag-grid-angular style="width: 100%; height: 100%;min-height: 200px;" [class]="themeGrid"\r\n            [floatingFilter]="true" [rowData]="rowData" [columnDefs]="columnDefs" [gridOptions]="gridOptions"\r\n            [animateRows]="true" [pagination]="false" [modules]="modules" [undoRedoCellEditing]="true"\r\n            [undoRedoCellEditingLimit]=200 [suppressRowClickSelection]=true [frameworkComponents]="frameworkComponents" [components]="components"\r\n            rowSelection="multiple" multiSortKey="key" (filterModified)="onFilterModified()"\r\n            (cellEditingStopped)="onCellEditingStopped($event)" (cellValueChanged)="onCellValueChanged($event)"\r\n            (gridReady)="onGridReady($event)" (firstDataRendered)="firstDataRendered()">\r\n        </ag-grid-angular>\r\n    </div>\r\n</div>',styles:['@charset "UTF-8";input,label{display:inline-block;margin:5px 5px 5px 10px}.mat-flat-button.mat-orange,.mat-icon.mat-orange,.mat-mini-fab.mat-orange,.mat-raised-button.mat-orange{background-color:#ff9300!important;color:#fff!important}.mat-flat-button.mat-orange:disabled,.mat-icon.mat-orange:disabled,.mat-mini-fab.mat-orange:disabled,.mat-raised-button.mat-orange:disabled{background:#ffc97f!important;color:#fff!important}.mat-flat-button.mat-green,.mat-icon.mat-green,.mat-mini-fab.mat-green,.mat-raised-button.mat-green{background-color:#68a225!important;color:#fff!important}.mat-flat-button.mat-green:disabled,.mat-icon.mat-green:disabled,.mat-mini-fab.mat-green:disabled,.mat-raised-button.mat-green:disabled{background-color:#83976c!important;color:#fff!important}.mat-flat-button.mat-red,.mat-icon.mat-red,.mat-mini-fab.mat-red,.mat-raised-button.mat-red{background-color:#bf0000!important;color:#fff!important}.mat-flat-button.mat-red:disabled,.mat-icon.mat-red:disabled,.mat-mini-fab.mat-red:disabled,.mat-raised-button.mat-red:disabled{background-color:#da8c8e!important;color:#fff!important}.validateButton{background-color:#ff9300;color:#fff;min-width:85px;margin-top:34px!important}.deleteButton,.validateButton{height:40px;justify-self:right!important}.deleteButton{color:#bf0000;border:1px solid #bf0000!important;min-width:85px!important;float:inherit!important}.deleteButton:disabled{background-color:inherit!important;border:1px solid rgba(0,0,0,.26)!important;color:rgba(0,0,0,.26) solid 1px!important}.actionButton,.returnButton{color:#ff9300;border:1px solid #ff9300!important}.actionButton,.newButton,.returnButton,.saveButton{min-width:85px!important;height:40px;justify-self:right!important;float:inherit!important}.newButton,.saveButton{background-color:#68a225;color:#fff}.editDivBtns{margin-left:10px;text-align:start;width:130px;height:30px!important;line-height:30px!important}.actionsDivBtns{text-align:end;width:calc(100% - 140px);height:50px}.actionsDivBtns,.editDivBtns{display:inline-block!important}.actionsDivBtns .searchGenericInput{height:41px!important;width:45%!important;display:inline-block!important;margin:0 5px 5px 10px!important}.ag-body-viewport.ag-layout-normal ::-webkit-scrollbar-thumb{background:#eee}​ .ag-body-viewport.ag-layout-normal ::-webkit-scrollbar{width:2em;height:2em}.ag-body-viewport.ag-layout-normal ::-webkit-scrollbar-button{background:#ccc}.ag-body-viewport.ag-layout-normal::-webkit-scrollbar-track-piece{background:#888}.mini-fab{width:28px!important;height:28px!important;line-height:22px!important;margin-top:7px!important;margin-right:3px!important}.mini-fab .mat-button-wrapper{padding:1px 0!important;line-height:22px!important;width:24px!important;height:24px!important}.mini-fab .mat-button-wrapper .mat-icon{font-size:20px;padding-right:0;line-height:22px}.toogleButton{height:40px;margin-right:10px;vertical-align:bottom;align-items:center}']}]}],vt.ctorParameters=function(){return[{type:r.MatDialog},{type:a.TranslateService},{type:e.ElementRef}]},vt.propDecorators={eventRefreshSubscription:[{type:e.Input}],eventGetSelectedRowsSubscription:[{type:e.Input}],eventGetAllRowsSubscription:[{type:e.Input}],eventSaveAgGridStateSubscription:[{type:e.Input}],eventModifyStatusOfSelectedCells:[{type:e.Input}],eventAddItemsSubscription:[{type:e.Input}],frameworkComponents:[{type:e.Input}],components:[{type:e.Input}],columnDefs:[{type:e.Input}],getAll:[{type:e.Input}],discardChangesButton:[{type:e.Input}],discardNonReverseStatus:[{type:e.Input}],id:[{type:e.Input}],undoButton:[{type:e.Input}],defaultColumnSorting:[{type:e.Input}],redoButton:[{type:e.Input}],applyChangesButton:[{type:e.Input}],deleteButton:[{type:e.Input}],newButton:[{type:e.Input}],actionButton:[{type:e.Input}],addButton:[{type:e.Input}],registerButton:[{type:e.Input}],newStatusRegister:[{type:e.Input}],globalSearch:[{type:e.Input}],changeHeightButton:[{type:e.Input}],defaultHeight:[{type:e.Input}],themeGrid:[{type:e.Input}],singleSelection:[{type:e.Input}],nonEditable:[{type:e.Input}],title:[{type:e.Input}],hideExportButton:[{type:e.Input}],hideDuplicateButton:[{type:e.Input}],hideSearchReplaceButton:[{type:e.Input}],addFieldRestriction:[{type:e.Input}],allNewElements:[{type:e.Input}],currentData:[{type:e.Input}],fieldRestrictionWithDifferentName:[{type:e.Input}],remove:[{type:e.Output}],new:[{type:e.Output}],add:[{type:e.Output}],discardChanges:[{type:e.Output}],sendChanges:[{type:e.Output}],duplicate:[{type:e.Output}],getSelectedRows:[{type:e.Output}],getAllRows:[{type:e.Output}],getAgGridState:[{type:e.Output}],gridModified:[{type:e.Output}]};var yt=function(){};yt.decorators=[{type:e.NgModule,args:[{exports:[g.A11yModule,b.CdkStepperModule,v.CdkTableModule,y.CdkTreeModule,h.DragDropModule,C.MatAutocompleteModule,S.MatBadgeModule,x.MatBottomSheetModule,w.MatButtonModule,A.MatButtonToggleModule,D.MatCardModule,M.MatCheckboxModule,I.MatChipsModule,k.MatStepperModule,N.MatDatepickerModule,r.MatDialogModule,R.MatDividerModule,E.MatExpansionModule,B.MatGridListModule,O.MatIconModule,F.MatInputModule,T.MatListModule,q.MatMenuModule,_.MatNativeDateModule,V.MatPaginatorModule,G.MatProgressBarModule,P.MatProgressSpinnerModule,H.MatRadioModule,_.MatRippleModule,L.MatSelectModule,z.MatSidenavModule,j.MatSliderModule,W.MatSlideToggleModule,J.MatSnackBarModule,U.MatSortModule,K.MatTableModule,Q.MatTabsModule,X.MatToolbarModule,Y.MatTooltipModule,Z.MatTreeModule,m.PortalModule,f.ScrollingModule,tt.MatFormFieldModule]}]}];var Ct=function(){function t(t){this.dialogRef=t,this.getAllRows=new nt.Subject,this.allRowsReceived=[],this.orderTable=[],this.addFieldRestriction=[],this.fieldRestrictionWithDifferentName=[],this.currentData=[],this.joinTables=new e.EventEmitter,this.tablesReceivedCounter=0}return t.prototype.ngOnInit=function(){var t=this;this.addButtonClickedSubscription&&(this._addButtonClickedSubscription=this.addButtonClickedSubscription.subscribe((function(){t.getAllSelectedRows()})))},t.prototype.getAllSelectedRows=function(){this.getAllRows.next(!0)},t.prototype.joinRowsReceived=function(t){this.allRowsReceived.push(t),this.tablesReceivedCounter++,this.tablesReceivedCounter===this.getAllsTable.length&&(this.doAdd(this.allRowsReceived),console.log(this.allRowsReceived))},t.prototype.doAdd=function(t){this.dialogRef.close({event:"Add",data:t})},t.prototype.closeDialog=function(){this.dialogRef.close({event:"Cancel"})},t}();Ct.decorators=[{type:e.Component,args:[{selector:"app-dialog-grid",template:'<h5 mat-dialog-title class="titleDialog">{{title}}</h5>\r\n<mat-dialog-content class="dialogConent">\r\n  <div *ngFor="let getAll of getAllsTable; let i = index" class="appDialogDataGridDiv"  [ngStyle]="{\'margin-top\': i>0?\'100px\':\'0px\'}">\r\n    <app-data-grid \r\n    [columnDefs]="columnDefsTable[i]" [themeGrid]=\'themeGrid\' [changeHeightButton]=\'changeHeightButton\' [defaultHeight]=\'heightByDefault\'  [getAll]=\'getAll\' [globalSearch]=true [singleSelection]="singleSelectionTable[i]"\r\n    [title]="titlesTable[i]" [defaultColumnSorting]=\'orderTable.length>=i?orderTable[i]:null\' [nonEditable]=\'nonEditable\'\r\n     [eventGetSelectedRowsSubscription]="getAllRows.asObservable()" [addFieldRestriction]=\'addFieldRestriction.length>=i?addFieldRestriction[i]:null\' \r\n     [currentData]=\'currentData.length>=i?currentData[i]:null\' [fieldRestrictionWithDifferentName]=\'fieldRestrictionWithDifferentName.length>=i?fieldRestrictionWithDifferentName[i]:null\' (getSelectedRows)=\'joinRowsReceived($event)\' >\r\n    </app-data-grid>\r\n  </div>\r\n</mat-dialog-content>\r\n<div mat-dialog-actions align="end">\r\n  <button mat-flat-button class="returnButton" (click)="closeDialog()">{{"cancel" | translate}}</button>\r\n  <button mat-flat-button class="saveButton" (click)="getAllSelectedRows()" cdkFocusInitial>{{"add" | translate}}</button>\r\n</div>\r\n\r\n',styles:[".dialogConent{margin:inherit!important;padding:inherit!important;max-height:60vh!important;height:100%;width:100%;overflow:auto}.titleDialog{margin-top:inherit!important;margin-bottom:15px!important}"]}]}],Ct.ctorParameters=function(){return[{type:r.MatDialogRef}]},Ct.propDecorators={joinTables:[{type:e.Output}]};var St=function(){function t(t,e,n){this.dialogRef=t,this.dialog=e,this.translate=n}return t.prototype.ngOnInit=function(){},t.prototype.doAdd=function(){if(this.form.valid)this.dialogRef.close({event:"Add"});else{var t=this.dialog.open(bt);t.componentInstance.title=this.translate.instant("atention"),t.componentInstance.message=this.translate.instant("requiredFieldMessage"),t.componentInstance.hideCancelButton=!0,t.afterClosed().subscribe()}},t.prototype.closeDialog=function(){this.dialogRef.close({event:"Cancel"})},t}();St.decorators=[{type:e.Component,args:[{selector:"app-dialog-form",template:'<h5 mat-dialog-title>{{title}}</h5>\r\n<mat-dialog-content class="mat-typography">\r\n  <ng-container *ngTemplateOutlet="HTMLReceived">\r\n  </ng-container> \r\n</mat-dialog-content>\r\n<mat-dialog-actions align="end">\r\n  <button mat-flat-button class="returnButton"  (click)="closeDialog()">{{"cancel" | translate}}</button>\r\n  <button mat-flat-button class="saveButton"  (click)="doAdd()" cdkFocusInitial>{{"accept" | translate}}</button>\r\n</mat-dialog-actions>',styles:[""]}]}],St.ctorParameters=function(){return[{type:r.MatDialogRef},{type:r.MatDialog},{type:a.TranslateService}]};var xt=function(){},wt=function(t,e,n,a,r,i){this.expandable=t,this.name=e,this.level=n,this.type=a,this.id=r,this.status=i},At=function(){function t(){this.dataChange=new nt.BehaviorSubject([])}return Object.defineProperty(t.prototype,"data",{get:function(){return this.dataChange.value},enumerable:!1,configurable:!0}),t.prototype.initialize=function(t,e){var n=this.buildFileTree(t,0,e);this.dataChange.next(n)},t.prototype.buildFileTree=function(t,e,n){var a={};if(0===t.length){a.root={isFolder:!0,name:"Root",type:"folder",isRoot:!0,order:0,children:[],id:0}}else t.forEach((function(t){var e=t;if(e.children=[],e.type=t.isFolder?"folder":"node",n&&(e.status="pendingCreation",e.id&&(e.id=-1*e.id),e.parent&&(e.parent=-1*e.parent)),a[e.id]){var r=a[e.id].children;a[e.id]=e,a[e.id].children=r}else a[e.id]=e;var i=e.parent||"root";a[i]||(a[i]={children:[]}),a[i].children.push(e)})),a.root.type="folder",a.root.name="Root",a.root.order=0,a.root.isFolder=!0,a.root.isRoot=!0;return a.root},t.prototype.deleteItem=function(t,e){this.deleteNode(e.children,t),this.dataChange.next(e)},t.prototype.deleteNode=function(t,e){var n=this,a=t.indexOf(e,0);a>-1?t.splice(a,1):t.forEach((function(t){t.children&&t.children.length>0&&n.deleteNode(t.children,e)}))},t.prototype.setOrder=function(t){for(var e=0;e<t.length;e++)t[e].order=e,t[e].status||(t[e].status="Modified");return t},t.prototype.copyPasteItem=function(t,e,n){return this.insertItem(e,t,n)},t.prototype.copyPasteItemAbove=function(t,e,n){return this.insertItemAbove(e,t,n)},t.prototype.copyPasteItemBelow=function(t,e,n){return this.insertItemBelow(e,t,n)},t.prototype.getNewItem=function(t){return{name:t.name,children:t.children,type:t.type,id:t.id,active:t.active,cartographyId:t.cartographyId,cartographyName:t.cartographyName,datasetURL:t.datasetURL,description:t.description,filterGetFeatureInfo:t.filterGetFeatureInfo,filterGetMap:t.filterGetMap,filterSelectable:t.filterSelectable,isFolder:t.isFolder,metadataURL:t.metadataURL,order:t.order,queryableActive:t.queryableActive,radio:t.radio,tooltip:t.tooltip,_links:t._links}},t.prototype.insertItem=function(t,e,n){t.children||(t.children=[]);var a=this.getNewItem(e);return a.parent=null==t||null==t.id?null:t.id,t.children.push(a),this.setOrder(t.children),this.dataChange.next(n),a},t.prototype.insertItemAbove=function(t,e,n){var a=this.getParentFromNodes(t,n),r=this.getNewItem(e);return r.parent=null==a||null==a.id?null:a.id,null!=a?(a.children.splice(a.children.indexOf(t),0,r),this.setOrder(a.children)):(n.children.splice(n.children.indexOf(t),0,r),this.setOrder(n.children)),this.dataChange.next(n),r},t.prototype.insertItemBelow=function(t,e,n){var a=this.getParentFromNodes(t,n),r=this.getNewItem(e);return r.parent=null==a||null==a.id?null:a.id,null!=a?(a.children.splice(a.children.indexOf(t)+1,0,r),this.setOrder(a.children)):(n.children.splice(n.children.indexOf(t)+1,0,r),this.setOrder(n.children)),this.dataChange.next(n),r},t.prototype.getParentFromNodes=function(t,e){for(var n=0;n<e.children.length;++n){var a=e.children[n],r=this.getParent(a,t);if(null!=r)return r}return null},t.prototype.getParent=function(t,e){if(t.children&&t.children.length>0)for(var n=0;n<t.children.length;++n){var a=t.children[n];if(a===e)return t;if(a.children&&a.children.length>0){var r=this.getParent(a,e);if(null!=r)return r}}return null},t}();At.decorators=[{type:e.Injectable}],At.ctorParameters=function(){return[]};var Dt=function(){function t(t){var n=this;this.database=t,this.expansionModel=new at.SelectionModel(!0),this.dragging=!1,this.expandDelay=1e3,this.validateDrop=!1,this.dragNodeExpandOverWaitTimeMs=1500,this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.transformer=function(t,e){var a=n.nestedNodeMap.get(t),r=a&&a.name===t.name?a:new wt(t.children&&t.children.length>0,t.name,e,t.type,t.id,t.status);return n.flatNodeMap.set(r,t),n.nestedNodeMap.set(t,r),r},this._getLevel=function(t){return t.level},this._isExpandable=function(t){return t.expandable},this._getChildren=function(t){return nt.of(t.children)},this.hasChild=function(t,e){return e.expandable},this.emitNode=new e.EventEmitter,this.createNode=new e.EventEmitter,this.createFolder=new e.EventEmitter,this.emitAllNodes=new e.EventEmitter,this.treeFlattener=new Z.MatTreeFlattener(this.transformer,this._getLevel,this._isExpandable,this._getChildren),this.treeControl=new y.FlatTreeControl(this._getLevel,this._isExpandable),this.dataSource=new Z.MatTreeFlatDataSource(this.treeControl,this.treeFlattener)}return t.prototype.ngOnInit=function(){var t=this;this.eventNodeUpdatedSubscription&&this.eventNodeUpdatedSubscription.subscribe((function(e){t.updateNode(e)})),this.eventCreateNodeSubscription&&this.eventCreateNodeSubscription.subscribe((function(e){e.isFolder?t.createNewFolder(e):t.createNewNode(e)})),this.eventGetAllRowsSubscription&&(this._eventGetAllRowsSubscription=this.eventGetAllRowsSubscription.subscribe((function(){t.emitAllRows()}))),this.eventRefreshSubscription&&(this._eventRefreshSubscription=this.eventRefreshSubscription.subscribe((function(){t.getElements()}))),this.getElements()},t.prototype.getElements=function(){var t=this;this.getAll().subscribe((function(e){t.treeData=e,t.database.initialize(t.treeData,t.allNewElements),t.database.dataChange.subscribe((function(e){return t.rebuildTreeForData([e])}))}))},t.prototype.visibleNodes=function(){var t=this,e=[];function n(t,a){e.push(t),-1!=a.indexOf(t.id)&&t.children.map((function(t){return n(t,a)}))}return this.dataSource.data.forEach((function(e){n(e,t.expansionModel.selected)})),e},t.prototype.findNodeSiblings=function(t,e){var n,a,r=this;return t.forEach((function(i,o){i.id===e?n=t:i.children&&(a=r.findNodeSiblings(i.children,e))&&(n=a)})),n},t.prototype.handleDragStart=function(t,e){t.dataTransfer.setData("foo","bar"),t.dataTransfer.setDragImage(this.emptyItem.nativeElement,0,0),this.dragNode=e,this.treeControl.collapse(e)},t.prototype.handleDragOver=function(t,e){t.preventDefault(),e===this.dragNodeExpandOverNode?this.dragNode===e||this.treeControl.isExpanded(e)||(new Date).getTime()-this.dragNodeExpandOverTime>this.dragNodeExpandOverWaitTimeMs&&this.treeControl.expand(e):(this.dragNodeExpandOverNode=e,this.dragNodeExpandOverTime=(new Date).getTime());t.offsetX,t.target.clientWidth;var n=t.offsetY/t.target.clientHeight;this.dragNodeExpandOverArea=n<.25?"above":n>.75?"below":"center"},t.prototype.handleDrop=function(t,e){var n=this;t.preventDefault();var a,r,i=JSON.parse(JSON.stringify(this.dataSource.data));if(a=void 0===e.id?i[0]:this.findNodeSiblings(i[0].children,e.id).find((function(t){return t.id===e.id})),r=void 0===this.dragNode.id?i[0]:this.findNodeSiblings(i[0].children,this.dragNode.id).find((function(t){return t.id===n.dragNode.id})),"pendingDelete"!=this.dragNode.status&&e!==this.dragNode&&("center"!==this.dragNodeExpandOverArea||"center"===this.dragNodeExpandOverArea&&a.isFolder)){var o=void 0;o="above"===this.dragNodeExpandOverArea?this.database.copyPasteItemAbove(r,a,i[0]):"below"===this.dragNodeExpandOverArea?this.database.copyPasteItemBelow(r,a,i[0]):this.database.copyPasteItem(r,a,i[0]);var l=this.treeControl.dataNodes.find((function(t){return t.id===r.id})).level;r.children.forEach((function(t){n.treeControl.dataNodes.find((function(e){return e.id===t.id})).level=l+1})),this.database.deleteItem(r,i[0]),this.treeControl.expandDescendants(this.nestedNodeMap.get(o))}this.dragNode=null,this.dragNodeExpandOverNode=null,this.dragNodeExpandOverTime=0},t.prototype.handleDragEnd=function(t){this.dragNode=null,this.dragNodeExpandOverNode=null,this.dragNodeExpandOverTime=0},t.prototype.sortByOrder=function(t){var e=this;t.sort((function(t,e){return t.order>e.order?1:e.order>t.order?-1:0})),t.forEach((function(t){t.children.length>0&&e.sortByOrder(t.children)}))},t.prototype.setOrder=function(t){for(var e=0;e<t.length;e++)t[e].order=e,t[e].status||(t[e].status="Modified");return t},t.prototype.rebuildTreeForData=function(t){var e=this;this.sortByOrder(t),this.dataSource.data=[],this.dataSource.data=t,this.treeControl.expansionModel.selected.forEach((function(t){if(t){var n=e.treeControl.dataNodes.find((function(e){return e.id===t.id}));e.treeControl.expand(n)}}))},t.prototype.getParentNode=function(t){var e=t.level;if(e<1)return null;for(var n=this.treeControl.dataNodes.indexOf(t)-1;n>=0;n--){var a=this.treeControl.dataNodes[n];if(a.level<e)return a}return null},t.prototype.updateNode=function(t){var e=JSON.parse(JSON.stringify(this.dataSource.data)),n=this.findNodeSiblings(e,t.id),a=n.findIndex((function(e){return e.id===t.id}));n[a]=t,this.rebuildTreeForData(e)},t.prototype.createNewFolder=function(t){t.type="folder";var e=JSON.parse(JSON.stringify(this.dataSource.data));if(null===t.parent)t.order=e[0].children.length,e[0].children.push(t);else{var n=this.findNodeSiblings(e,t.parent),a=n.findIndex((function(e){return e.id===t.parent}));t.order=n[a].children.length,n[a].children.push(t)}this.rebuildTreeForData(e)},t.prototype.createNewNode=function(t){t.type="node";var e=JSON.parse(JSON.stringify(this.dataSource.data));if(null===t.parent)t.order=e[0].children.length,e[0].children.push(t);else{var n=this.findNodeSiblings(e,t.parent),a=n.findIndex((function(e){return e.id===t.parent}));t.order=n[a].children.length,n[a].children.push(t)}this.rebuildTreeForData(e)},t.prototype.onButtonClicked=function(t,e){var n=JSON.parse(JSON.stringify(this.dataSource.data)),a=this.findNodeSiblings(n,t).find((function(e){return e.id===t}));"edit"===e?this.emitNode.emit(a):"newFolder"===e?this.createFolder.emit(a):"newNode"===e?this.createNode.emit(a):"delete"===e&&(this.deleteChildren(a.children),a.status="pendingDelete",this.rebuildTreeForData(n))},t.prototype.emitAllRows=function(){var t=JSON.parse(JSON.stringify(this.dataSource.data)),e=this.getAllChildren(t);this.emitAllNodes.emit(e)},t.prototype.getAllChildren=function(t){var e,n=this,a=[];return t.forEach((function(t,r){t.children.length>0&&(e=n.getAllChildren(t.children))&&a.push.apply(a,gt(e)),a.push(t)})),a},t.prototype.deleteChildren=function(t){var e=this;t.forEach((function(t,n){t.children.length>0&&e.deleteChildren(t.children),t.status="pendingDelete"}))},t}();Dt.decorators=[{type:e.Component,args:[{selector:"app-data-tree",template:'<button mat-flat-button type="button" (click)="treeControl.expandAll()" title="{{ \'expandAll\' | translate }}"  type="button" >\r\n\t<mat-icon fontSet="material-icons-round"> expand_more </mat-icon>\r\n\t{{ "expandAll" | translate }}\r\n</button>\r\n<button mat-flat-button type="button" (click)="treeControl.collapseAll()" title="{{ \'expandAll\' | translate }}"  type="button" >\r\n\t<mat-icon fontSet="material-icons-round"> expand_less </mat-icon>\r\n\t{{ "collapseAll" | translate }}\r\n</button>\r\n<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" >\r\n\t<mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding  draggable="true"\r\n\t(dragstart)="handleDragStart($event, node);" \t(dragover)="handleDragOver($event, node);"\r\n\t(drop)="handleDrop($event, node);" \t(dragend)="handleDragEnd($event);"                  \r\n\t  [ngClass]="{\'drop-above\': dragNodeExpandOverArea === \'above\' && dragNodeExpandOverNode === node,\r\n\t\'drop-below\': dragNodeExpandOverArea === \'below\' && dragNodeExpandOverNode === node,\r\n\t\'drop-center\': dragNodeExpandOverArea === \'center\' && dragNodeExpandOverNode === node,\r\n\t\'deletedNode\': node.status==\'pendingDelete\'}">\r\n\t\t<button mat-icon-button disabled></button>\r\n\t\t<mat-icon *ngIf="node.type ===\'folder\'&& node.status!=\'pendingDelete\'" class="type-icon" [attr.aria-label]="node.type + \'icon\'">\r\n\t\t\tfolder\r\n\t\t</mat-icon>\r\n\t\t<span *ngIf="node.status==\'pendingDelete\'">({{"pendingDelete" | translate}})-</span>\r\n\t\t{{node.name}}\r\n\t\r\n\t\t<button *ngIf="node.type ===\'folder\' && node.status!=\'pendingDelete\'" (click)="onButtonClicked(node.id, \'newFolder\')" mat-icon-button>\r\n\t\t\t<mat-icon>create_new_folder</mat-icon>\r\n\t\t</button>\r\n\t\t<button *ngIf="node.type ===\'folder\' && node.status!=\'pendingDelete\'" (click)="onButtonClicked(node.id, \'newNode\')" mat-icon-button>\r\n\t\t\t<mat-icon>playlist_add</mat-icon>\r\n\t\t</button>\r\n\t\t<button *ngIf="node.id !== undefined && node.status!=\'pendingDelete\'" mat-icon-button (click)="onButtonClicked(node.id, \'delete\')">\r\n\t\t\t<mat-icon>delete</mat-icon>\r\n\t\t</button>\r\n\t\t<button *ngIf="node.id !== undefined && node.status!=\'pendingDelete\'" mat-icon-button (click)="onButtonClicked(node.id, \'edit\')">\r\n\t\t\t<mat-icon>edit</mat-icon>\r\n\t\t</button>\r\n\r\n\t</mat-tree-node>\r\n\r\n\t<mat-tree-node *matTreeNodeDef="let node;when: hasChild" matTreeNodePadding  draggable="true"\r\n\t(dragstart)="handleDragStart($event, node);" \t(dragover)="handleDragOver($event, node);"\r\n\t(drop)="handleDrop($event, node);" \t(dragend)="handleDragEnd($event);"                  \r\n\t [ngClass]="{\'drop-above\': dragNodeExpandOverArea === \'above\' && dragNodeExpandOverNode === node,\r\n\t\'drop-below\': dragNodeExpandOverArea === \'below\' && dragNodeExpandOverNode === node,\r\n\t\'drop-center\': dragNodeExpandOverArea === \'center\' && dragNodeExpandOverNode === node,\r\n\t\'deletedNode\': node.status==\'pendingDelete\'}">\r\n\t\t<button mat-icon-button matTreeNodeToggle (click)="expansionModel.toggle(node.id)"\r\n\t\t\t[attr.aria-label]="\'toggle \' + node.name">\r\n\t\t\t<mat-icon class="mat-icon-rtl-mirror">\r\n\t\t\t\t{{treeControl.isExpanded(node) ? \'expand_more\' : \'chevron_right\'}}\r\n\t\t\t</mat-icon>\r\n\t\t</button>\r\n\t\t<mat-icon class="type-icon" [attr.aria-label]="node.type + \'icon\'">\r\n\t\t\tfolder\r\n\t\t</mat-icon>\r\n\t\t<span *ngIf="node.status==\'pendingDelete\'">({{"pendingDelete" | translate}})-</span>\r\n\t\t{{node.name}}\r\n\t\t<button *ngIf="node.type ===\'folder\' && node.status!=\'pendingDelete\'" (click)="onButtonClicked(node.id, \'newFolder\')" mat-icon-button>\r\n\t\t\t<mat-icon>create_new_folder</mat-icon>\r\n\t\t</button>\r\n\t\t<button *ngIf="node.type ===\'folder\' && node.status!=\'pendingDelete\'" (click)="onButtonClicked(node.id, \'newNode\')" mat-icon-button>\r\n\t\t\t<mat-icon>playlist_add</mat-icon>\r\n\t\t</button>\r\n\t\t<button *ngIf="node.id !== undefined && node.status!=\'pendingDelete\'" mat-icon-button (click)="onButtonClicked(node.id, \'delete\')">\r\n\t\t\t<mat-icon>delete</mat-icon>\r\n\t\t</button>\r\n\t\t<button *ngIf="node.id !== undefined && node.status!=\'pendingDelete\'"  mat-icon-button (click)="onButtonClicked(node.id, \'edit\')">\r\n\t\t\t<mat-icon>edit</mat-icon>\r\n\t\t</button>\r\n\t\t\r\n\t</mat-tree-node>\r\n</mat-tree>\r\n\r\n<span #emptyItem></span>\r\n',providers:[At],styles:[".mat-tree-node{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:move}.mat-tree-node.cdk-drag-preview{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-tree-node.cdk-drag-placeholder{opacity:0}.cdk-drop-list-dragging .mat-tree-node:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating{transition:transform .2s cubic-bezier(0,0,.2,1)}.drop-above{border-top:10px solid #ddd;margin-top:-10px}.drop-below{border-bottom:10px solid #ddd;margin-bottom:-10px}.drop-center{background-color:#ddd}.deletedNode{color:red;font-style:italic}"]}]}],Dt.ctorParameters=function(){return[{type:At}]},Dt.propDecorators={createNode:[{type:e.Output}],createFolder:[{type:e.Output}],emitNode:[{type:e.Output}],emitAllNodes:[{type:e.Output}],eventNodeUpdatedSubscription:[{type:e.Input}],eventCreateNodeSubscription:[{type:e.Input}],eventGetAllRowsSubscription:[{type:e.Input}],eventRefreshSubscription:[{type:e.Input}],getAll:[{type:e.Input}],allNewElements:[{type:e.Input}],emptyItem:[{type:e.ViewChild,args:["emptyItem"]}]};var Mt=function(){function t(t,e,n){this.dialogRef=t,this.matIconRegistry=e,this.domSanitizer=n,this.catalanAvailable=!1,this.spanishAvailable=!1,this.englishAvailable=!1,this.araneseAvailable=!1,this.frenchAvailable=!1,this.initializeTranslationForm(),this.matIconRegistry.addSvgIcon("icon_lang_ca",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/img/flag_ca.svg")),this.matIconRegistry.addSvgIcon("icon_lang_es",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/img/flag_es.svg")),this.matIconRegistry.addSvgIcon("icon_lang_en",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/img/flag_en.svg")),this.matIconRegistry.addSvgIcon("icon_lang_oc",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/img/flag_oc.svg")),this.matIconRegistry.addSvgIcon("icon_lang_fr",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/img/flag_fr.svg"))}return t.prototype.ngOnInit=function(){this.checkLanguagesAvailables(),this.checkTranslationsAlreadyDone()},t.prototype.checkLanguagesAvailables=function(){var t=this;this.languagesAvailables.forEach((function(e){"ca"==e.shortname&&"ca"!=t.languageByDefault&&(t.catalanAvailable=!0),"es"==e.shortname&&"es"!=t.languageByDefault&&(t.spanishAvailable=!0),"en"==e.shortname&&"en"!=t.languageByDefault&&(t.englishAvailable=!0),"oc-aranes"==e.shortname&&"oc-aranes"!=t.languageByDefault&&(t.araneseAvailable=!0),"fr"==e.shortname&&"fr"!=t.languageByDefault&&(t.frenchAvailable=!0)}))},t.prototype.checkTranslationsAlreadyDone=function(){var t=this;this.translationsMap.forEach((function(e,n){"ca"==n&&e&&e.translation&&t.translationForm.patchValue({catalanValue:e.translation}),"es"==n&&e&&e.translation&&t.translationForm.patchValue({spanishValue:e.translation}),"en"==n&&e&&e.translation&&t.translationForm.patchValue({englishValue:e.translation}),"oc-aranes"==n&&e&&e.translation&&t.translationForm.patchValue({araneseValue:e.translation}),"fr"==n&&e&&e.translation&&t.translationForm.patchValue({frenchValue:e.translation})}))},t.prototype.initializeTranslationForm=function(){this.translationForm=new i.FormGroup({catalanValue:new i.FormControl(null,[]),spanishValue:new i.FormControl(null,[]),englishValue:new i.FormControl(null,[]),araneseValue:new i.FormControl(null,[]),frenchValue:new i.FormControl(null,[])})},t.prototype.doAccept=function(){this.translationsMap.has("ca")&&this.translationForm.value.catalanValue&&(this.translationsMap.get("ca").translation=this.translationForm.value.catalanValue),this.translationsMap.has("es")&&this.translationForm.value.spanishValue&&(this.translationsMap.get("es").translation=this.translationForm.value.spanishValue),this.translationsMap.has("en")&&this.translationForm.value.englishValue&&(this.translationsMap.get("en").translation=this.translationForm.value.englishValue),this.translationsMap.has("oc-aranes")&&this.translationForm.value.araneseValue&&(this.translationsMap.get("oc-aranes").translation=this.translationForm.value.araneseValue),this.translationsMap.has("fr")&&this.translationForm.value.frenchValue&&(this.translationsMap.get("fr").translation=this.translationForm.value.frenchValue),this.dialogRef.close({event:"Accept",data:this.translationsMap})},t.prototype.closeDialog=function(){this.dialogRef.close({event:"Cancel"})},t}();Mt.decorators=[{type:e.Component,args:[{selector:"app-dialog-translation",template:'\r\n\r\n<form [formGroup]=\'translationForm\' #f="ngForm">\r\n\r\n\r\n        <div class="displayInline" *ngIf="catalanAvailable">\r\n            <label class="formLabelDialog">\r\n                {{\'Valor\'}}\r\n            </label>\r\n            <mat-form-field appearance="outline">\r\n            <input matInput type="text" formControlName="catalanValue" required>\r\n            </mat-form-field>\r\n            <mat-icon class="icon" svgIcon="icon_lang_ca"></mat-icon>\r\n        </div>\r\n\r\n        <div class="displayInline"  *ngIf="spanishAvailable">\r\n            <label class="formLabelDialog">\r\n                {{\'Valor\'}}\r\n            </label>\r\n\r\n            <mat-form-field appearance="outline">\r\n            <input matInput type="text" formControlName="spanishValue">\r\n            </mat-form-field>\r\n            <mat-icon class="icon" svgIcon="icon_lang_es"></mat-icon>\r\n        </div>\r\n\r\n        <div class="displayInline" *ngIf="englishAvailable" >\r\n            <label class="formLabelDialog">\r\n                {{\'Value\'}}\r\n            </label>\r\n            <mat-form-field appearance="outline">\r\n            <input matInput type="text" formControlName="englishValue">\r\n            </mat-form-field>\r\n            <mat-icon class="icon" svgIcon="icon_lang_en"></mat-icon>\r\n        </div>\r\n\r\n        <div class="displayInline" *ngIf="araneseAvailable" >\r\n            <label class="formLabelDialog">\r\n                {{\'Valor\'}}\r\n            </label>\r\n            <mat-form-field appearance="outline">\r\n            <input matInput type="text" formControlName="araneseValue">\r\n            </mat-form-field>\r\n            <mat-icon class="icon" svgIcon="icon_lang_oc"></mat-icon>\r\n        </div>\r\n        <div class="displayInline">\r\n            <label class="formLabelDialog" *ngIf="frenchAvailable">\r\n                {{\'Valeur\'}}\r\n            </label>\r\n            <mat-form-field appearance="outline">\r\n            <input matInput type="text" formControlName="frenchValue">\r\n            </mat-form-field>\r\n            <mat-icon class="icon" svgIcon="icon_lang_fr"></mat-icon>\r\n        </div>\r\n\r\n  </form>\r\n\r\n<div>\r\n    <div mat-dialog-actions >\r\n        <button  mat-flat-button class="returnButton" (click)="closeDialog()">{{"cancel" | translate}}</button>\r\n        <button  mat-flat-button class="saveButton"  (click)="doAccept()" cdkFocusInitial>{{"accept" | translate}}</button>\r\n    </div>\r\n</div>',styles:[".displayInline{display:flex!important}.mat-dialog-actions{justify-content:flex-end}.icon{height:50px!important;width:40px!important;margin-left:30px}.formLabelDialog{width:10%!important}.mat-dialog-container{height:-moz-max-content!important;height:max-content!important}"]}]}],Mt.ctorParameters=function(){return[{type:r.MatDialogRef},{type:O.MatIconRegistry},{type:rt.DomSanitizer}]};var It=function(){function t(){this.margin={top:20,bottom:60,left:40,right:40},this.margin2=80}return t.prototype.ngOnInit=function(){"bar"==this.type&&(this.createBarChart(),this.data&&this.updateBarChart())},t.prototype.ngOnChanges=function(){"bar"==this.type&&this.chart&&this.updateBarChart()},t.prototype.createBarChart=function(){var t=this,e=this.chartContainer.nativeElement;this.width=e.offsetWidth-this.margin.left-this.margin.right,this.height=e.offsetHeight-this.margin.top-this.margin.bottom;var n=ut.select(e).append("svg").attr("width","100%").attr("height","100%");this.chart=n.append("g").attr("class","bars").attr("transform","translate("+this.margin.left+", "+this.margin.top+")");var a=this.chart.selectAll().data(this.data).enter().append("g"),r=this.data.map((function(t){return t.index})),i=[0,ut.max(this.data,(function(t){return t.value}))];this.xScale=ut.scaleBand().padding(.3).domain(r).rangeRound([0,this.width]),this.yScale=ut.scaleLinear().domain(i).range([this.height,0]),a.append("text").attr("class","value").attr("x",(function(e){return t.xScale(e.index)+t.xScale.bandwidth()/2})).attr("y",(function(e){return t.yScale(e.value)-5})).attr("text-anchor","middle").style("font-size",9).style("fill","black").text((function(t){return""+t.value})),this.xAxis=n.append("g").attr("class","axis axis-x").attr("transform","translate("+this.margin.left+", "+(this.margin.top+this.height)+")").call(ut.axisBottom(this.xScale)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end").style("font-size",9).style("fill","black"),this.yAxis=n.append("g").attr("class","axis axis-y").attr("transform","translate("+this.margin.left+", "+this.margin.top+")").call(ut.axisLeft(this.yScale)).selectAll("text").style("font-size",9).style("fill","black")},t.prototype.updateBarChart=function(){var t=this;this.xScale.domain(this.data.map((function(t){return t.index}))),this.yScale.domain([0,ut.max(this.data,(function(t){return t.value}))]),this.xAxis.transition().call(ut.axisBottom(this.xScale)),this.yAxis.transition().call(ut.axisLeft(this.yScale));var e=this.chart.selectAll(".bar").data(this.data);e.exit().remove(),this.chart.selectAll(".bar").transition().attr("x",(function(e){return t.xScale(e.index)})).attr("y",(function(e){return t.yScale(e.value)})).attr("width",(function(e){return t.xScale.bandwidth()})).attr("height",(function(e){return t.height-t.yScale(e[1])})).style("fill","#be7d27"),e.enter().append("rect").attr("class","bar").attr("x",(function(e){return t.xScale(e.index)})).attr("y",(function(e){return t.yScale(e.value)})).attr("height",(function(e){return t.height-t.yScale(e.value)})).attr("width",this.xScale.bandwidth()).style("fill","#be7d27").transition().delay((function(t,e){return 10*e}))},t}();function kt(t){return new et.TranslateHttpLoader(t,"../assets/i18n/",".json")}It.decorators=[{type:e.Component,args:[{selector:"app-datagraph",template:'<div class="d3-chart" #chart></div>',styles:[".d3-chart{width:100%;height:400px;margin:auto;background-color:rgba(189,185,181,.6156862745)}.d3-chart .axis line,.d3-chart .axis path{stroke:#999}.d3-chart .axis text{fill:#999}body{font-family:Open Sans,sans-serif}div#layout{text-align:center}svg{width:100%;height:100%}.bar{fill:#be7d27}text{font-size:8px!important;fill:#fff}line,path{stroke:grey}line#limit{stroke:#fed966;stroke-width:3;stroke-dasharray:3 6}.grid path{stroke-width:0}.grid .tick line{stroke:#9faaae;stroke-opacity:.3}text.divergence{font-size:12px;fill:#2f4a6d}.bars.value{font-size:8px!important;z-index:132132132}text.title{font-size:22px;font-weight:600}text.label{font-weight:400}text.label,text.source{font-size:8px!important}"]}]}],It.ctorParameters=function(){return[]},It.propDecorators={chartContainer:[{type:e.ViewChild,args:["chart",{static:!0}]}],data:[{type:e.Input}],type:[{type:e.Input}]},o.registerLocaleData(st.default,"ca"),o.registerLocaleData(dt.default,"es");var Nt=kt,Rt=function(){};Rt.decorators=[{type:e.NgModule,args:[{imports:[d.RouterModule,l.HttpClientModule,o.CommonModule,i.FormsModule,s.NoopAnimationsModule,i.ReactiveFormsModule,s.BrowserAnimationsModule,p.AgGridModule,yt,a.TranslateModule.forRoot({loader:{provide:a.TranslateLoader,useFactory:Nt,deps:[l.HttpClient]}})],declarations:[vt,Dt,ht,mt,ft,Ct,St,bt,Mt,It],entryComponents:[],providers:[],exports:[l.HttpClientModule,o.CommonModule,i.FormsModule,s.NoopAnimationsModule,a.TranslateModule,i.ReactiveFormsModule,vt,Dt,Ct,St,bt,Mt,It]}]}],t.BtnCheckboxFilterComponent=ft,t.BtnCheckboxRenderedComponent=mt,t.BtnEditRenderedComponent=ht,t.DataGridComponent=vt,t.DataTreeComponent=Dt,t.DatagraphComponent=It,t.DialogFormComponent=St,t.DialogGridComponent=Ct,t.DialogMessageComponent=bt,t.DialogTranslationComponent=Mt,t.FileDatabase=At,t.FileFlatNode=wt,t.FileNode=xt,t.SitmunFrontendGuiModule=Rt,t.createTranslateLoader=kt,t["ɵ0"]=Nt,t["ɵa"]=yt,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=sitmun-frontend-gui.umd.min.js.map