{"version":3,"file":"sitmun-frontend-gui.umd.js","sources":["../../../node_modules/tslib/tslib.es6.mjs","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/btn-edit-rendered/btn-edit-rendered.component.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/btn-checkbox-rendered/btn-checkbox-rendered.component.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/btn-checkbox-filter/btn-checkbox-filter.component.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/dialog-message/dialog-message.component.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/data-grid/data-grid.component.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/material-module.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/dialog-grid/dialog-grid.component.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/dialog-form/dialog-form.component.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/data-tree/data-tree.component.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/dialog-translation/dialog-translation.component.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/data-graph/datagraph.component.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/sitmun-frontend-gui.module.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/public_api.ts","../../../src/main/angular-library/projects/sitmun-frontend-gui/src/lib/sitmun-frontend-gui.ts"],"sourcesContent":["/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { Component, OnDestroy } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-btn-edit-rendered',\r\n  templateUrl: './btn-edit-rendered.component.html',\r\n  styleUrls: ['./btn-edit-rendered.component.scss']\r\n})\r\nexport class BtnEditRenderedComponent implements ICellRendererAngularComp, OnDestroy {\r\n\r\n  public params: any;\r\n\r\n  agInit(params: any): void {\r\n    this.params = params;\r\n  }\r\n\r\n  refresh(params: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  btnClickedHandler($event) {\r\n    this.params.clicked(this.params.value);\r\n  }\r\n\r\n  getParams(){\r\n    return this.params;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // no need to remove the button click handler \r\n  }\r\n\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { Component, OnDestroy } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-btn-checkbox-rendered',\r\n  templateUrl: './btn-checkbox-rendered.component.html',\r\n  styleUrls: ['./btn-checkbox-rendered.component.scss']\r\n})\r\nexport class BtnCheckboxRenderedComponent implements ICellRendererAngularComp, OnDestroy {\r\n\r\n  public params: any;\r\n\r\n  agInit(params: any): void {\r\n    this.params = params;\r\n  }\r\n\r\n  refresh(params: any): boolean {\r\n    this.params = params;\r\n    \r\n    return true;\r\n  }\r\n\r\n  public invokeParentMethod() {\r\n    this.params.context.componentParent.methodFromParent(\r\n      `Row: ${this.params.node.rowIndex}, Col: ${this.params.colDef.headerName}`\r\n    );\r\n  }\r\n\r\n  btnCheckedHandler(event) {\r\n    if(this.params.colDef.editable){\r\n      let checked = !event.target.firstElementChild.checked;\r\n      let colId = this.params.column.colId;\r\n      this.params.value=checked;\r\n      this.params.api.undoRedoService.isFilling=true;\r\n      this.params.node.setDataValue(colId, checked);\r\n    }\r\n    else{\r\n      event.preventDefault();\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  getParams(){\r\n    return this.params;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // no need to remove the button click handler \r\n  }\r\n\r\n}\r\n","import { Component, ViewChild, ViewContainerRef } from '@angular/core';\r\nimport {FormControl, Validators} from '@angular/forms';\r\nimport {\r\n  IAfterGuiAttachedParams,\r\n  IDoesFilterPassParams,\r\n  IFilterParams,\r\n  RowNode,\r\n  IFloatingFilter,\r\n  NumberFilter,\r\n  NumberFilterModel,\r\n  IFloatingFilterParams,\r\n} from '@ag-grid-community/all-modules';\r\nimport { AgFrameworkComponent } from '@ag-grid-community/angular';\r\nimport { IFilterAngularComp } from '@ag-grid-community/angular';\r\n\r\n@Component({\r\n  selector: 'app-btn-checkbox-filter',\r\n  templateUrl: './btn-checkbox-filter.component.html',\r\n  styleUrls: ['./btn-checkbox-filter.component.scss'],\r\n  host: {'class': 'hostClass'}\r\n})\r\nexport class BtnCheckboxFilterComponent implements IFloatingFilter, AgFrameworkComponent<IFloatingFilterParams>   {\r\n  private params: IFloatingFilterParams;\r\n  private valueGetter: (rowNode: RowNode) => any;\r\n  public text: string = '';\r\n  public currentValue: number;\r\n  @ViewChild('input', { read: ViewContainerRef }) public input;\r\n\r\n  agInit(params: IFloatingFilterParams): void {\r\n    this.params = params;\r\n    this.valueGetter = params.filterParams.valueGetter;\r\n    this.params.suppressFilterButton=true;\r\n  }\r\n\r\n  isFilterActive(): boolean {\r\n    return this.text != null && this.text !== '';\r\n  }\r\n\r\n  doesFilterPass(params: IDoesFilterPassParams): boolean {\r\n    return this.text\r\n      .toLowerCase()\r\n      .split(' ')\r\n      .every(\r\n        (filterWord) =>\r\n          this.valueGetter(params.node)\r\n            .toString()\r\n            .toLowerCase()\r\n            .indexOf(filterWord) >= 0\r\n      );\r\n  }\r\n\r\n  getModel(): any {\r\n    return { value: this.text };\r\n  }\r\n\r\n  setModel(model: any): void {\r\n    this.text = model ? model.value : '';\r\n  }\r\n\r\n\r\n onChange(newValue): void {\r\n    this.params.parentFilterInstance(function (instance) {\r\n      (<NumberFilter>instance).onFloatingFilterChanged(\r\n        'contains',\r\n        newValue\r\n      );\r\n    });\r\n  }\r\n\r\n  onParentModelChanged(parentModel: any): void {\r\n    if (!parentModel) {\r\n      this.currentValue = 0;\r\n    } else {\r\n      // note that the filter could be anything here, but our purposes we're assuming a greater than filter only,\r\n      // so just read off the value and use that\r\n      this.currentValue = parentModel.filter;\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'app-dialog-message',\r\n  templateUrl: './dialog-message.component.html',\r\n  styleUrls: ['./dialog-message.component.scss']\r\n})\r\nexport class DialogMessageComponent implements OnInit {\r\n\r\n  title: string;\r\n  message: string;\r\n  hideCancelButton : boolean=false;\r\n\r\n  constructor(private dialogRef: MatDialogRef<DialogMessageComponent>){ }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  doAccept(){\r\n    this.dialogRef.close({event:'Accept'});\r\n  }\r\n\r\n  closeDialog(){\r\n    this.dialogRef.close({event:'Cancel'});\r\n  }\r\n\r\n}\r\n","import { AgGridModule } from '@ag-grid-community/angular';\r\nimport { Component, OnInit, NgModule, Input, Output, EventEmitter, ElementRef } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { AllCommunityModules, ColumnApi, Module } from '@ag-grid-community/all-modules';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BtnEditRenderedComponent } from '../btn-edit-rendered/btn-edit-rendered.component';\r\nimport { BtnCheckboxRenderedComponent } from '../btn-checkbox-rendered/btn-checkbox-rendered.component';\r\nimport { BtnCheckboxFilterComponent } from '../btn-checkbox-filter/btn-checkbox-filter.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { DialogMessageComponent } from '../dialog-message/dialog-message.component';\r\nimport { forEach } from 'jszip';\r\ndeclare let $: any;\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-data-grid',\r\n  templateUrl: './data-grid.component.html',\r\n  styleUrls: ['./data-grid.component.scss']\r\n})\r\nexport class DataGridComponent implements OnInit {\r\n\r\n  _eventRefreshSubscription: any;\r\n  _eventGetSelectedRowsSubscription: any;\r\n  _eventGetAllRowsSubscription: any;\r\n  _eventSaveAgGridStateSubscription: any;\r\n  _eventModifyStatusOfSelectedCells: any;\r\n  modules: Module[] = AllCommunityModules;\r\n\r\n\r\n  UndeRedoActions\r\n  searchValue: string;\r\n  gridApi: any;\r\n  gridColumnApi: any;\r\n  statusColumn = false;\r\n  someColumnIsEditable = false;\r\n  changesMap: Map<number, Map<string, number>> = new Map<number, Map<string, number>>();\r\n  // We will save the id of edited cells and the number of editions done.\r\n  params: any; // Last parameters of the grid (in case we do apply changes we will need it) \r\n  rowData: any[];\r\n  changeCounter: number; // Number of editions done above any cell \r\n  previousChangeCounter: number; // Number of ditions done after the last modification(changeCounter)\r\n  redoCounter: number; // Number of redo we can do\r\n  modificationChange = false;\r\n  undoNoChanges = false; // Boolean that indicates if an undo hasn't modifications\r\n  gridOptions;\r\n  someStatusHasChangedToDelete = false;\r\n\r\n\r\n  @Input() eventRefreshSubscription: Observable<boolean>;\r\n  @Input() eventGetSelectedRowsSubscription: Observable<boolean>;\r\n  @Input() eventGetAllRowsSubscription: Observable<string>;\r\n  @Input() eventSaveAgGridStateSubscription: Observable<boolean>;\r\n  @Input() eventModifyStatusOfSelectedCells: Observable<string>;\r\n  @Input() eventAddItemsSubscription: Observable<boolean>;\r\n  @Input() frameworkComponents: any;\r\n  @Input() components: any;\r\n  @Input() columnDefs: any[];\r\n  @Input() getAll: () => Observable<any>;\r\n  @Input() discardChangesButton: boolean;\r\n  @Input() discardNonReverseStatus: boolean;\r\n  @Input() id: any;\r\n  @Input() undoButton: boolean;\r\n  @Input() defaultColumnSorting: string;\r\n  @Input() redoButton: boolean;\r\n  @Input() applyChangesButton: boolean;\r\n  @Input() deleteButton: boolean;\r\n  @Input() newButton: boolean;\r\n  @Input() actionButton: boolean;\r\n  @Input() addButton: boolean;\r\n  @Input() registerButton: boolean;\r\n  @Input() newStatusRegister: string;\r\n  @Input() globalSearch: boolean;\r\n  @Input() changeHeightButton: boolean;\r\n  @Input() defaultHeight: any;\r\n  @Input() themeGrid: any;\r\n  @Input() singleSelection: boolean;\r\n  @Input() nonEditable: boolean;\r\n  @Input() title: string;\r\n  @Input() hideExportButton: boolean;\r\n  @Input() hideDuplicateButton: boolean;\r\n  @Input() hideSearchReplaceButton: boolean;\r\n  @Input() addFieldRestriction: any;\r\n  @Input() allNewElements: any;\r\n  @Input() currentData: Array<any> = null;\r\n  @Input() fieldRestrictionWithDifferentName: string;\r\n\r\n\r\n  @Output() remove: EventEmitter<any[]>;\r\n  @Output() new: EventEmitter<number>;\r\n  @Output() add: EventEmitter<any[]>;\r\n  @Output() discardChanges: EventEmitter<any[]>;\r\n  @Output() sendChanges: EventEmitter<any[]>;\r\n  @Output() duplicate: EventEmitter<any[]>;\r\n  @Output() getSelectedRows: EventEmitter<any[]>;\r\n  @Output() getAllRows: EventEmitter<{data: any[], event:string}>;\r\n  @Output() getAgGridState: EventEmitter<any[]>;\r\n  @Output() gridModified: EventEmitter<boolean>;\r\n\r\n\r\n  constructor(public dialog: MatDialog,\r\n    public translate: TranslateService,\r\n    private elRef: ElementRef) {\r\n    this.translate = translate;\r\n\r\n    this.frameworkComponents = {\r\n      btnEditRendererComponent: BtnEditRenderedComponent,\r\n      btnCheckboxRendererComponent: BtnCheckboxRenderedComponent,\r\n      btnCheckboxFilterComponent: BtnCheckboxFilterComponent\r\n    };\r\n\r\n    this.components = {\r\n      datePicker: this.getDatePicker()\r\n    };\r\n\r\n\r\n    this.remove = new EventEmitter();\r\n    this.new = new EventEmitter();\r\n    this.add = new EventEmitter();\r\n    this.discardChanges= new EventEmitter();\r\n    this.sendChanges = new EventEmitter();\r\n    this.getSelectedRows = new EventEmitter();\r\n    this.duplicate = new EventEmitter();\r\n    this.getAllRows = new EventEmitter();\r\n    this.gridModified = new EventEmitter();\r\n    this.changeCounter = 0;\r\n    this.previousChangeCounter = 0;\r\n    this.redoCounter = 0;\r\n    this.gridOptions = {\r\n      defaultColDef: {\r\n        sortable: true,\r\n        flex: 1,\r\n        filter: true,\r\n        editable: !this.nonEditable,\r\n        suppressMenu: true,\r\n        resizable: true,\r\n        cellStyle: (params) => {\r\n          if(params.value && params.colDef.editable){\r\n            if(this.changesMap.has(params.node.id) && this.changesMap.get(params.node.id).has(params.colDef.field)){\r\n              return {'background-color': '#E8F1DE'};\r\n            }\r\n            else{\r\n              return {'background-color': 'white'};\r\n            }\r\n          }\r\n          else {\r\n            return {'background-color': 'white'};\r\n          }\r\n        } ,\r\n      },\r\n      rowSelection: 'multiple',\r\n      singleClickEdit: true,\r\n      // suppressHorizontalScroll: true,\r\n      localeTextFunc: (key: string, defaultValue: string) => {\r\n        const data = this.translate.instant(key);\r\n        return data === key ? defaultValue : data;\r\n      }\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n\r\n    if (this.eventRefreshSubscription) {\r\n      this._eventRefreshSubscription = this.eventRefreshSubscription.subscribe(() => {\r\n        this.changesMap.clear();\r\n        this.someStatusHasChangedToDelete=false;\r\n        this.changeCounter = 0;\r\n        this.previousChangeCounter = 0;\r\n        this.redoCounter = 0;\r\n        this.getElements();\r\n      });\r\n    }\r\n    if (this.eventGetSelectedRowsSubscription) {\r\n      this._eventGetSelectedRowsSubscription = this.eventGetSelectedRowsSubscription.subscribe(() => {\r\n        this.emitSelectedRows();\r\n      });\r\n    }\r\n    if (this.eventGetAllRowsSubscription) {\r\n      this._eventGetAllRowsSubscription = this.eventGetAllRowsSubscription.subscribe((event: string) => {\r\n        this.emitAllRows(event);\r\n      });\r\n    }\r\n\r\n    if (this.eventSaveAgGridStateSubscription) {\r\n      this._eventSaveAgGridStateSubscription = this.eventSaveAgGridStateSubscription.subscribe(() => {\r\n        this.saveAgGridState();\r\n      });\r\n    }\r\n\r\n    if (this.eventModifyStatusOfSelectedCells) {\r\n      this._eventModifyStatusOfSelectedCells = this.eventModifyStatusOfSelectedCells.subscribe((status: string) => {\r\n        this.modifyStatusSelected(status);\r\n      });\r\n    }\r\n\r\n    if (this.eventAddItemsSubscription) {\r\n      this.eventAddItemsSubscription.subscribe(\r\n        (items: any) => {\r\n          this.addItems(items);\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n\r\n  firstDataRendered(): void {\r\n    if (localStorage.agGridState != undefined) {\r\n      let agGridState = JSON.parse(localStorage.agGridState)\r\n      if (agGridState.idAgGrid != undefined && agGridState.idAgGrid == this.id) {\r\n        this.gridApi.setFilterModel(agGridState.filterState);\r\n        this.gridColumnApi.setColumnState(agGridState.colState);\r\n        this.gridApi.setSortModel(agGridState.sortState);\r\n        this.searchValue = agGridState.valueSearchGeneric;\r\n        this.quickSearch();\r\n        this.removeAgGridState();\r\n      } else if (this.id != undefined) {\r\n        this.removeAgGridState();\r\n      }\r\n    }\r\n  }\r\n\r\n  onGridReady(params): void {\r\n    if (this.singleSelection) { this.gridOptions.rowSelection = 'single' }\r\n    // if (this.nonEditable) {this.gridOptions.defaultColDef.editable = false}\r\n    this.params = params;\r\n    this.gridApi = params.api;\r\n    this.gridColumnApi = params.columnApi;\r\n    for (const col of this.columnDefs) {\r\n      if(!this.someColumnIsEditable && col.editable) { this.someColumnIsEditable = true}\r\n      if (col.field === 'status') {\r\n        this.statusColumn = true;\r\n      }\r\n    }\r\n    this.getElements();\r\n    console.log(this.columnDefs);\r\n    if (this.defaultColumnSorting) {\r\n      if(!Array.isArray(this.defaultColumnSorting))\r\n      {\r\n        const sortModel = [\r\n          { colId: this.defaultColumnSorting, sort: 'asc' }\r\n        ];\r\n        this.gridApi.setSortModel(sortModel);\r\n      }\r\n      else{\r\n        let sortModel = [];\r\n        this.defaultColumnSorting.forEach(element => {\r\n          sortModel.push({ colId: element, sort: 'asc' })\r\n        });\r\n        this.gridApi.setSortModel(sortModel);\r\n      }\r\n\r\n    }\r\n    if(this.defaultHeight != null && this.defaultHeight != undefined){\r\n      this.changeHeight(this.defaultHeight)\r\n    }\r\n  }\r\n\r\n\r\n  getDatePicker() {\r\n    function Datepicker() {}\r\n    Datepicker.prototype.init = function (params) {\r\n      this.eInput = document.createElement('input');\r\n      this.eInput.value = params.value;\r\n      this.eInput.classList.add('ag-input');\r\n      this.eInput.style.height = '100%';\r\n      $(this.eInput).datepicker({ dateFormat: 'mm/dd/yy' });\r\n    };\r\n    Datepicker.prototype.getGui = function () {\r\n      return this.eInput;\r\n    };\r\n    Datepicker.prototype.afterGuiAttached = function () {\r\n      this.eInput.focus();\r\n      this.eInput.select();\r\n    };\r\n    Datepicker.prototype.getValue = function () {\r\n      return this.eInput.value;\r\n    };\r\n    Datepicker.prototype.destroy = function () {};\r\n    Datepicker.prototype.isPopup = function () {\r\n      return false;\r\n    };\r\n    return Datepicker;\r\n  }\r\n\r\n  areRowsSelected(): Boolean {\r\n    return (this.gridApi != null && this.gridApi.getSelectedNodes().length > 0)? true: false;\r\n    // if (this.gridApi != null && this.gridApi.getSelectedNodes().length > 0) {\r\n    //   return true\r\n    // } else {\r\n    //   return false\r\n    // }\r\n  }\r\n\r\n\r\n  emitSelectedRows(): void {\r\n    const selectedNodes = this.gridApi.getSelectedNodes();\r\n    const selectedData = selectedNodes.map(node => node.data);\r\n    this.getSelectedRows.emit(selectedData);\r\n  }\r\n\r\n  emitAllRows(event: string): void {\r\n    // let rowData = [];\r\n    // this.gridApi.forEachNode(node => rowData.push(node.data));\r\n    this.getAllRows.emit({data: this.getAllCurrentData(), event: event});\r\n  }\r\n\r\n  private getAllCurrentData(): Array<any>{\r\n    let rowData = [];\r\n    this.gridApi.forEachNode(node => rowData.push(node.data));\r\n    return rowData;\r\n  }\r\n\r\n  modifyStatusSelected(status?: string): void{\r\n    let newStatus=status?status:this.newStatusRegister;\r\n    const selectedNodes = this.gridApi.getSelectedNodes();\r\n    selectedNodes.map(node => {\r\n      node.data.status=newStatus;\r\n      node.selected=false;\r\n    } );\r\n    this.gridApi.redrawRows();\r\n  }\r\n\r\n  saveAgGridState(): void {\r\n    let agGridState = {\r\n      idAgGrid: this.id,\r\n      colState: this.gridColumnApi.getColumnState(),\r\n      filterState: this.gridApi.getFilterModel(),\r\n      sortState: this.gridApi.getSortModel(),\r\n      valueSearchGeneric: this.searchValue\r\n    };\r\n\r\n    localStorage.setItem(\"agGridState\", JSON.stringify(agGridState));\r\n\r\n  }\r\n  removeAgGridState(): void {\r\n    localStorage.removeItem(\"agGridState\")\r\n  }\r\n\r\n  getColumnKeysAndHeaders(columnkeys: Array<any>): String {\r\n    let header: Array<any> = [];\r\n    if (this.columnDefs.length == 0) { return '' };\r\n\r\n    let allColumnKeys = this.gridOptions.columnApi.getAllDisplayedColumns();\r\n    // console.log(allColumnKeys);\r\n    allColumnKeys.forEach(element => {\r\n      if (element.userProvidedColDef.headerName !== '') {\r\n        columnkeys.push(element.userProvidedColDef.field);\r\n        header.push(element.userProvidedColDef.headerName);\r\n      }\r\n\r\n\r\n    });\r\n\r\n    return header.join(\",\");\r\n  }\r\n\r\n\r\n  exportData(): void {\r\n    let columnkeys: Array<any> = [];\r\n    let customHeader: String = '';\r\n    customHeader = this.getColumnKeysAndHeaders(columnkeys)\r\n    let params = {\r\n      onlySelected: true,\r\n      columnKeys: columnkeys,\r\n      customHeader: customHeader,\r\n      skipHeader: true\r\n    };\r\n    this.gridApi.exportDataAsCsv(params);\r\n  }\r\n\r\n  quickSearch(): void {\r\n    this.gridApi.setQuickFilter(this.searchValue);\r\n  }\r\n\r\n  getElements(): void {\r\n    this.getAll()\r\n      .subscribe((items) => {\r\n        let status = this.allNewElements?'pendingCreation':'statusOK'\r\n        let newItems = [];\r\n        let condition = (this.addFieldRestriction)? this.addFieldRestriction: 'id';\r\n        items.forEach(element => {\r\n          if(this.statusColumn){\r\n            if(element.status != \"notAvailable\" && element.status != \"pendingCreation\" && element.status != \"pendingRegistration\" && element.status != \"unregisteredLayer\"){\r\n              element.status=status\r\n            }\r\n            if(this.allNewElements) { element.new = true; }\r\n          }\r\n          if(this.currentData){\r\n            if (this.checkElementAllowedToAdd(condition,element, this.currentData)) {\r\n                newItems.push(element);\r\n            }\r\n          }\r\n          \r\n        });\r\n\r\n        // if(this.statusColumn){\r\n        //   let status = this.allNewElements?'pendingCreation':'statusOK'\r\n        //   items.forEach(element => {\r\n        //     if(element.status != \"notAvailable\" && element.status != \"pendingCreation\" && element.status != \"pendingRegistration\" && element.status != \"unregisteredLayer\"){\r\n        //       element.status=status\r\n        //     }\r\n        //     if(this.allNewElements) { element.new = true; }\r\n        //   });\r\n        // }\r\n        this.rowData = this.currentData?newItems: items;\r\n        this.gridApi.setRowData(this.rowData);\r\n        this.setSize()\r\n        // this.gridApi.sizeColumnsToFit()\r\n        console.log(this.rowData);\r\n\r\n      });\r\n  }\r\n\r\n  setSize() {\r\n\r\n    var allColumnIds = [];\r\n    let columns = this.gridOptions.columnApi.getAllColumns();\r\n    columns.forEach(function (column) {\r\n      allColumnIds.push(column.colId);\r\n    });\r\n\r\n    this.gridOptions.columnApi.autoSizeColumns(allColumnIds);\r\n\r\n    let grid = this.gridOptions.api\r\n    let availableWidth = grid.gridPanel.eBodyViewport.clientWidth;\r\n\r\n    let usedWidth = grid.gridPanel.columnController.getWidthOfColsInList(columns);\r\n\r\n    if (usedWidth < availableWidth) {\r\n      grid.sizeColumnsToFit();\r\n    }\r\n\r\n  }\r\n\r\n  addItems(newItems: any[]): void {\r\n    console.log(newItems);\r\n    let itemsToAdd: Array<any> = [];\r\n    let condition = (this.addFieldRestriction)? this.addFieldRestriction: 'id';\r\n    \r\n\r\n    newItems.forEach(item => {\r\n\r\n      if (this.checkElementAllowedToAdd(condition,item, this.rowData)) {\r\n        if (this.statusColumn) {\r\n          item.status = 'pendingCreation'\r\n          item.newItem = true;\r\n        }\r\n        itemsToAdd.push(item);\r\n        this.rowData.push(item);\r\n      }\r\n      else {\r\n        console.log(`Item already exists`)\r\n      }\r\n    });\r\n    this.gridApi.updateRowData({ add: itemsToAdd });\r\n\r\n    console.log(this.columnDefs);\r\n    // params.oldValue!=undefined\r\n  }\r\n\r\n  private checkElementAllowedToAdd(condition, item, data){\r\n\r\n    let finalAddition = true;\r\n\r\n    if(Array.isArray(condition)){\r\n\r\n      for(let element of data){\r\n        let canAdd = false;\r\n\r\n        for(let currentCondition of condition){\r\n          if(element[currentCondition] != item[currentCondition]){\r\n            canAdd = true;\r\n            break;\r\n          }\r\n        }\r\n        if(!canAdd) {\r\n           finalAddition = false;\r\n           break;\r\n          }\r\n      }\r\n      return finalAddition;\r\n\r\n    }\r\n    else{\r\n      if(this.fieldRestrictionWithDifferentName){\r\n        return (item[condition] == undefined || (data.find(element => element[this.fieldRestrictionWithDifferentName] == item[condition])) == undefined)\r\n      }\r\n      return (item[condition] == undefined || (data.find(element => element[condition] == item[condition])) == undefined)\r\n    }\r\n\r\n  }\r\n\r\n\r\n  changeHeight(value) {\r\n    let pixels = \"\";\r\n    if (value === '5') {\r\n      pixels = \"200px\"\r\n    } else if (value === '10') {\r\n      pixels = \"315px\"\r\n    } else if (value === '20') {\r\n      pixels = \"630px\"\r\n    } else {\r\n      pixels = \"1550px\"\r\n    }\r\n    this.elRef.nativeElement.parentElement.style.height = pixels;\r\n  }\r\n\r\n  removeData(): void {\r\n    this.gridApi.stopEditing(false);\r\n    const selectedNodes = this.gridApi.getSelectedNodes();\r\n    const selectedData = selectedNodes.map(node => node.data);\r\n    this.remove.emit(selectedData);\r\n\r\n    if (this.statusColumn) {\r\n      const selectedRows = selectedNodes.map(node => node.id);\r\n      if(selectedRows.length>0) {this.someStatusHasChangedToDelete=true;}\r\n      for (const id of selectedRows) {\r\n        this.gridApi.getRowNode(id).data.status = 'pendingDelete';\r\n      }\r\n      this.gridOptions.api.refreshCells();\r\n    }\r\n    this.gridOptions.api.deselectAll();\r\n  }\r\n\r\n  newData(): void {\r\n    this.gridApi.stopEditing(false);\r\n    this.new.emit(-1);\r\n  }\r\n\r\n  onAddButtonClicked(): void {\r\n    this.gridApi.stopEditing(false);\r\n    this.add.emit(this.getAllCurrentData());\r\n  }\r\n\r\n  onDuplicateButtonClicked(): void {\r\n    this.gridApi.stopEditing(false);\r\n    if (this.changeCounter > 0) {\r\n      const dialogRef = this.dialog.open(DialogMessageComponent);\r\n      dialogRef.componentInstance.title = this.translate.instant('caution')\r\n      dialogRef.componentInstance.message = this.translate.instant('duplicateMessage')\r\n      dialogRef.afterClosed().subscribe(result => {\r\n        if (result) {\r\n          if (result.event === 'Accept') {\r\n            const selectedNodes = this.gridApi.getSelectedNodes();\r\n            const selectedData = selectedNodes.map(node => node.data);\r\n            this.duplicate.emit(selectedData);\r\n          }\r\n        }\r\n      });\r\n\r\n    }\r\n    else {\r\n      const selectedNodes = this.gridApi.getSelectedNodes();\r\n      const selectedData = selectedNodes.map(node => node.data);\r\n      this.duplicate.emit(selectedData);\r\n      this.gridOptions.api.deselectAll();\r\n\r\n    }\r\n  }\r\n\r\n\r\n  applyChanges(): void {\r\n    const itemsChanged: any[] = [];\r\n    this.gridApi.stopEditing(false);\r\n    for (const key of this.changesMap.keys()) {\r\n      itemsChanged.push(this.gridApi.getRowNode(key).data);\r\n    }\r\n    this.sendChanges.emit(itemsChanged);\r\n    this.gridModified.emit(false);\r\n    this.changesMap.clear();\r\n    this.changeCounter = 0;\r\n    this.previousChangeCounter = 0;\r\n    this.redoCounter = 0;\r\n    this.someStatusHasChangedToDelete=false;\r\n    // this.params.colDef.cellStyle = { backgroundColor: '#FFFFFF' };\r\n    this.gridApi.redrawRows();\r\n  }\r\n\r\n\r\n\r\n  deleteChanges(): void {\r\n    this.gridApi.stopEditing(false);\r\n    let newElementsActived= this.allNewElements;\r\n\r\n    while (this.changeCounter > 0) {\r\n      this.undo();\r\n    }\r\n\r\n    this.changesMap.clear();\r\n    //this.previousChangeCounter = 0;\r\n    this.redoCounter = 0;\r\n\r\n    if(this.statusColumn && !this.discardNonReverseStatus)\r\n    {\r\n      let rowsWithStatusModified = [];\r\n      this.gridApi.forEachNode(function(node) { \r\n        if(node.data.status === 'pendingModify' || node.data.status === 'pendingDelete') {\r\n          if(node.data.status === 'pendingDelete'){\r\n            rowsWithStatusModified.push(node.data);\r\n          }\r\n          if(node.data.newItem || newElementsActived){\r\n            node.data.status='pendingCreation'\r\n          }\r\n          else{\r\n            node.data.status='statusOK'\r\n          }\r\n        }\r\n        \r\n    });\r\n    this.someStatusHasChangedToDelete=false;\r\n    this.discardChanges.emit(rowsWithStatusModified);\r\n    this.gridModified.emit(false);\r\n  }\r\n  this.gridApi.redrawRows();\r\n\r\n    //this.params.colDef.cellStyle =  {backgroundColor: '#FFFFFF'};\r\n    //this.gridApi.redrawRows();\r\n  }\r\n\r\n\r\n  onFilterModified(): void {\r\n\r\n    this.deleteChanges();\r\n\r\n  }\r\n\r\n\r\n  undo(): void {\r\n    this.gridApi.stopEditing(false);\r\n    this.gridApi.undoCellEditing();\r\n    this.changeCounter -= 1;\r\n    if(this.changeCounter == 0) { this.gridModified.emit(false)}\r\n    this.redoCounter += 1;\r\n  }\r\n\r\n  redo(): void {\r\n    this.gridApi.stopEditing(false);\r\n    this.gridApi.redoCellEditing();\r\n    this.changeCounter += 1;\r\n    this.redoCounter -= 1;\r\n  }\r\n\r\n\r\n  onCellEditingStopped(e) {\r\n    if (this.modificationChange) {\r\n      this.changeCounter++;\r\n      if(this.changeCounter == 1) { this.gridModified.emit(true)}\r\n      this.redoCounter = 0;\r\n      this.onCellValueChanged(e);\r\n      this.modificationChange = false;\r\n    }\r\n  }\r\n\r\n\r\n  onCellValueChanged(params): void {\r\n    this.params = params;\r\n    if (this.changeCounter > this.previousChangeCounter)\r\n    // True if we have edited some cell or we have done a redo \r\n    {\r\n\r\n      if (params.oldValue !== params.value && !(params.oldValue == null && params.value === '')) {\r\n\r\n        if (!this.changesMap.has(params.node.id)) // If it's firts edit of a cell, we add it to the map and we paint it\r\n        {\r\n          const addMap: Map<string, number> = new Map<string, number>();\r\n          addMap.set(params.colDef.field, 1)\r\n          this.changesMap.set(params.node.id, addMap);\r\n          if (this.statusColumn) {\r\n            // if (this.gridApi.getRowNode(params.node.id).data.status !== 'pendingCreation') {\r\n              this.gridApi.getRowNode(params.node.id).data.status = 'pendingModify'\r\n            // }\r\n          }\r\n        }\r\n        else {\r\n          if (!this.changesMap.get(params.node.id).has(params.colDef.field)) {\r\n\r\n            this.changesMap.get(params.node.id).set(params.colDef.field, 1);\r\n          }\r\n\r\n          else {\r\n            // We already had edited this cell, so we only increment number of changes of it on the map \r\n            const currentChanges = this.changesMap.get(params.node.id).get(params.colDef.field);\r\n            this.changesMap.get(params.node.id).set(params.colDef.field, (currentChanges + 1));\r\n          }\r\n\r\n        }\r\n        this.paintCells(params, this.changesMap); //We paint the row of the edited cell \r\n        this.previousChangeCounter++; //We match the current previousChangeCounter with changeCounter\r\n      }\r\n\r\n    }\r\n    else if (this.changeCounter < this.previousChangeCounter) { // True if we have done an undo\r\n      let currentChanges = -1;\r\n      if (this.changesMap.has(params.node.id)) { currentChanges = this.changesMap.get(params.node.id).get(params.colDef.field); }\r\n\r\n      if (currentChanges === 1) { //Once the undo it's done, cell is in his initial status\r\n\r\n        this.changesMap.get(params.node.id).delete(params.colDef.field);\r\n        if (this.changesMap.get(params.node.id).size === 0) { // No more modifications in this row\r\n          this.changesMap.delete(params.node.id);\r\n          const row = this.gridApi.getDisplayedRowAtIndex(params.rowIndex);\r\n          if (this.statusColumn) {\r\n            if (this.gridApi.getRowNode(params.node.id).data.status !== 'pendingCreation') {\r\n              this.gridApi.getRowNode(params.node.id).data.status ='statusOK'\r\n            }\r\n          };\r\n          // We paint it white\r\n          this.gridApi.redrawRows({ rowNodes: [row] });\r\n\r\n        }\r\n        else {\r\n          this.paintCells(params, this.changesMap);\r\n        }\r\n\r\n      }\r\n      else if (currentChanges > 1) // The cell isn't in his initial state yet\r\n      {                                 //We can't do else because we can be doing an undo without changes \r\n        this.changesMap.get(params.node.id).set(params.colDef.field, (currentChanges - 1));\r\n\r\n        this.paintCells(params, this.changesMap);//Not initial state -> green background\r\n\r\n      }\r\n      this.previousChangeCounter--;  //We decrement previousChangeCounter because we have done undo\r\n    }\r\n    else { // Control of modifications without changes\r\n      if (!(params.oldValue == null && params.value === '')) {\r\n        let newValue: string;\r\n        if (params.value == null) { newValue = '' }\r\n        else { newValue = params.value.toString() }\r\n\r\n        if ((params.oldValue != undefined && params.oldValue != null && params.oldValue.toString() !== newValue.toString())\r\n          || ((params.oldValue == undefined || params.oldValue == null) && newValue != null)) {\r\n\r\n          this.modificationChange = true;\r\n          if (params.colDef.cellRenderer == \"btnCheckboxRendererComponent\") {\r\n            var undoRedoActions = {\r\n              cellValueChanges: this.gridApi.undoRedoService.cellValueChanges\r\n            };\r\n            this.gridApi.undoRedoService.pushActionsToUndoStack(undoRedoActions);\r\n            this.gridApi.undoRedoService.isFilling = false;\r\n            this.onCellEditingStopped(params);\r\n          }\r\n        }\r\n        else { this.modificationWithoutChanges(params) }\r\n\r\n      }\r\n      else { this.modificationWithoutChanges(params) }\r\n    }\r\n  }\r\n\r\n  modificationWithoutChanges(params: any) {\r\n\r\n    if (this.changesMap.has(params.node.id)) //Modification without changes in en edited cell\r\n    {\r\n      if (!this.undoNoChanges) {\r\n        this.gridApi.undoCellEditing(); // Undo to delete the change without changes internally \r\n        this.undoNoChanges = true;\r\n        this.paintCells(params, this.changesMap);  //The cell has modifications yet -> green background \r\n      }\r\n      else { this.undoNoChanges = false; }\r\n\r\n\r\n    }\r\n    else {\r\n      //With the internally undo will enter at this function, so we have to control when done the undo or not \r\n      if (!this.undoNoChanges) {\r\n        this.gridApi.undoCellEditing(); // Undo to delete the change internally\r\n        this.undoNoChanges = true;\r\n      }\r\n      else { this.undoNoChanges = false; }\r\n    }\r\n\r\n  }\r\n\r\n  getColumnIndexByColId(api: ColumnApi, colId: string): number {\r\n    return api.getAllColumns().findIndex(col => col.getColId() === colId);\r\n  }\r\n  paintCells(params: any, changesMap: Map<number, Map<string, number>>,) {\r\n    const row = this.gridApi.getDisplayedRowAtIndex(params.rowIndex);\r\n\r\n    // this.changeCellStyleColumns(params, changesMap, '#E8F1DE');\r\n    this.gridApi.redrawRows({ rowNodes: [row] });\r\n    // this.changeCellStyleColumns(params, changesMap, '#FFFFFF');\r\n    // We will define cellStyle white to future modifications (like filter)\r\n  }\r\n\r\n  // changeCellStyleColumns(params: any, changesMap: Map<number, Map<string, number>>, color: string) {\r\n\r\n  //   for (const key of changesMap.get(params.node.id).keys()) {\r\n  //     const columnNumber = this.getColumnIndexByColId(this.gridColumnApi, key);\r\n  //     this.gridColumnApi.columnController.gridColumns[columnNumber].colDef.cellStyle = { backgroundColor: color };\r\n  //   }\r\n\r\n\r\n  // }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {A11yModule} from '@angular/cdk/a11y';\r\nimport {DragDropModule} from '@angular/cdk/drag-drop';\r\nimport {PortalModule} from '@angular/cdk/portal';\r\nimport {ScrollingModule} from '@angular/cdk/scrolling';\r\nimport {CdkStepperModule} from '@angular/cdk/stepper';\r\nimport {CdkTableModule} from '@angular/cdk/table';\r\nimport {CdkTreeModule} from '@angular/cdk/tree';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\nimport {MatBadgeModule} from '@angular/material/badge';\r\nimport {MatBottomSheetModule} from '@angular/material/bottom-sheet';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\r\nimport {MatCardModule} from '@angular/material/card';\r\nimport {MatCheckboxModule} from '@angular/material/checkbox';\r\nimport {MatChipsModule} from '@angular/material/chips';\r\nimport {MatStepperModule} from '@angular/material/stepper';\r\nimport {MatDatepickerModule} from '@angular/material/datepicker';\r\nimport {MatDialogModule} from '@angular/material/dialog';\r\nimport {MatDividerModule} from '@angular/material/divider';\r\nimport {MatExpansionModule} from '@angular/material/expansion';\r\nimport {MatGridListModule} from '@angular/material/grid-list';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatListModule} from '@angular/material/list';\r\nimport {MatMenuModule} from '@angular/material/menu';\r\nimport {MatNativeDateModule, MatRippleModule} from '@angular/material/core';\r\nimport {MatPaginatorModule} from '@angular/material/paginator';\r\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\r\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\r\nimport {MatRadioModule} from '@angular/material/radio';\r\nimport {MatSelectModule} from '@angular/material/select';\r\nimport {MatSidenavModule} from '@angular/material/sidenav';\r\nimport {MatSliderModule} from '@angular/material/slider';\r\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\r\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\r\nimport {MatSortModule} from '@angular/material/sort';\r\nimport {MatTableModule} from '@angular/material/table';\r\nimport {MatTabsModule} from '@angular/material/tabs';\r\nimport {MatToolbarModule} from '@angular/material/toolbar';\r\nimport {MatTooltipModule} from '@angular/material/tooltip';\r\nimport {MatTreeModule} from '@angular/material/tree';\r\nimport {MatFormFieldModule} from '@angular/material/form-field';\r\n\r\n@NgModule({\r\n  exports: [\r\n    A11yModule,\r\n    CdkStepperModule,\r\n    CdkTableModule,\r\n    CdkTreeModule,\r\n    DragDropModule,\r\n    MatAutocompleteModule,\r\n    MatBadgeModule,\r\n    MatBottomSheetModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatStepperModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatDividerModule,\r\n    MatExpansionModule,\r\n    MatGridListModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatMenuModule,\r\n    MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSliderModule,\r\n    MatSlideToggleModule,\r\n    MatSnackBarModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    MatTreeModule,\r\n    PortalModule,\r\n    ScrollingModule,\r\n    MatFormFieldModule\r\n  ]\r\n})\r\nexport class MaterialModule {}\r\n","import { Component, OnInit, Input, Output, EventEmitter, Inject } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\n\r\nexport interface DialogData {\r\n  _GetAllsTable:  Array<() => Observable<any>>;\r\n  _columnDefsTable: Array<any[]>;\r\n  _singleSelectionTable: Array<boolean>;\r\n}\r\n\r\n\r\n@Component({\r\n  selector: 'app-dialog-grid',\r\n  templateUrl: './dialog-grid.component.html',\r\n  styleUrls: ['./dialog-grid.component.scss']\r\n})\r\nexport class DialogGridComponent implements OnInit {\r\n\r\n  title: string;\r\n  getAllRows: Subject<boolean> = new Subject <boolean>();\r\n  private _addButtonClickedSubscription: any;\r\n  tablesReceivedCounter: number;\r\n  allRowsReceived: Array<any[]> = [];\r\n  changeHeightButton : boolean;\r\n  heightByDefault : any;\r\n\r\n  //Inputs\r\n  themeGrid: any;\r\n  getAllsTable: Array<() => Observable<any>>;\r\n  columnDefsTable: Array<any[]>;\r\n  singleSelectionTable: Array<boolean>;\r\n  titlesTable: Array<string>;\r\n  orderTable: Array<string> = [];\r\n  addButtonClickedSubscription: Observable <boolean> ;\r\n  nonEditable: boolean;\r\n  addFieldRestriction: Array<any> = [];\r\n  fieldRestrictionWithDifferentName: Array<any> = [];\r\n  currentData: Array<any> = [];\r\n\r\n  //Outputs\r\n  @Output() joinTables : EventEmitter<Array<any[]>>;\r\n\r\n  \r\n\r\n\r\n  constructor(private dialogRef: MatDialogRef<DialogGridComponent>) {\r\n    \r\n    this.joinTables = new EventEmitter();\r\n    // this.nonEditable = true;\r\n    this.tablesReceivedCounter = 0;\r\n   }\r\n\r\n  ngOnInit() {\r\n\r\n    if (this.addButtonClickedSubscription) {\r\n      this._addButtonClickedSubscription = this.addButtonClickedSubscription.subscribe(() => {\r\n        this.getAllSelectedRows();\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  getAllSelectedRows() {\r\n    this.getAllRows.next(true);\r\n  }\r\n\r\n  joinRowsReceived(data: any[])\r\n  {\r\n      this.allRowsReceived.push(data);\r\n      this.tablesReceivedCounter++;\r\n      if(this.tablesReceivedCounter === this.getAllsTable.length)\r\n      {\r\n        this.doAdd(this.allRowsReceived);\r\n        console.log(this.allRowsReceived);\r\n      }\r\n  }\r\n\r\n  doAdd(rowsToAdd){\r\n    this.dialogRef.close({event:'Add',data: rowsToAdd});\r\n  }\r\n\r\n  closeDialog(){\r\n    this.dialogRef.close({event:'Cancel'});\r\n  }\r\n\r\n}\r\n","import { Component, ElementRef, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\nimport { FormGroup,FormControl,Validators } from '@angular/forms';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog'; \r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { DialogMessageComponent } from '../dialog-message/dialog-message.component';\r\n\r\n@Component({\r\n  selector: 'app-dialog-form',\r\n  templateUrl: './dialog-form.component.html',\r\n  styleUrls: ['./dialog-form.component.scss']\r\n})\r\nexport class DialogFormComponent implements OnInit {\r\n\r\n  form: FormGroup;\r\n  title: string;\r\n  HTMLReceived;\r\n  constructor(\r\n    private dialogRef: MatDialogRef<DialogFormComponent>,\r\n    public dialog: MatDialog,\r\n    private translate: TranslateService) {}\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n\r\n  doAdd(){\r\n    if(this.form.valid) { this.dialogRef.close({event:'Add'}); }\r\n    else {\r\n       const dialogRef = this.dialog.open(DialogMessageComponent);\r\n       dialogRef.componentInstance.title = this.translate.instant(\"atention\")\r\n       dialogRef.componentInstance.message = this.translate.instant(\"requiredFieldMessage\")\r\n       dialogRef.componentInstance.hideCancelButton = true;\r\n       dialogRef.afterClosed().subscribe();\r\n    }\r\n\r\n  }\r\n\r\n  closeDialog(){\r\n    this.dialogRef.close({event:'Cancel'});\r\n  }\r\n\r\n}\r\n","import { FlatTreeControl } from '@angular/cdk/tree';\r\nimport { Component, EventEmitter, Injectable, Input, Output,ElementRef, ViewChild } from '@angular/core';\r\nimport { MatTreeFlatDataSource, MatTreeFlattener } from '@angular/material/tree';\r\nimport { BehaviorSubject, Observable, of as observableOf } from 'rxjs';\r\nimport { CdkDragDrop } from '@angular/cdk/drag-drop';\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\nimport { forEach } from 'jszip';\r\n\r\n/**\r\n * File node data with nested structure.\r\n * Each node has a name, and a type or a list of children.\r\n */\r\nexport class FileNode {\r\n  id: string;\r\n  children: FileNode[];\r\n  name: string;\r\n  type: any;\r\n  active: any\r\n  cartographyId: any\r\n  cartographyName: any\r\n  datasetURL: any\r\n  description: any\r\n  filterGetFeatureInfo: any\r\n  filterGetMap: any\r\n  filterSelectable: any\r\n  isFolder: any\r\n  metadataURL: any\r\n  order: any\r\n  parent: any\r\n  queryableActive: any\r\n  radio: any\r\n  tooltip: any\r\n  _links: any\r\n  status: any\r\n}\r\n\r\n/** Flat node with expandable and level information */\r\nexport class FileFlatNode {\r\n  constructor(\r\n    public expandable: boolean,\r\n    public name: string,\r\n    public level: number,\r\n    public type: any,\r\n    public id: string,\r\n    public status: string\r\n  ) { }\r\n}\r\n\r\n\r\n\r\n/**\r\n * File database, it can build a tree structured Json object from string.\r\n * Each node in Json object represents a file or a directory. For a file, it has name and type.\r\n * For a directory, it has name and children (a list of files or directories).\r\n * The input will be a json object string, and the output is a list of `FileNode` with nested\r\n * structure.\r\n */\r\n@Injectable()\r\nexport class FileDatabase {\r\n  dataChange = new BehaviorSubject<FileNode[]>([]);\r\n  get data(): any { return this.dataChange.value; }\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  initialize(dataObj, allNewElements) {\r\n\r\n    // Build the tree nodes from Json object. The result is a list of `FileNode` with nested\r\n    //     file node as children.\r\n    const data = this.buildFileTree(dataObj, 0, allNewElements);\r\n\r\n    // Notify the change.\r\n    this.dataChange.next(data);\r\n  }\r\n\r\n  /**\r\n   * Build the file structure tree. The `value` is the Json object, or a sub-tree of a Json object.\r\n   * The return value is the list of `FileNode`.\r\n   */\r\n  buildFileTree(arrayTreeNodes: any[], level: number, allNewElements: any) {\r\n    var map = {};\r\n    if(arrayTreeNodes.length===0)\r\n    {\r\n      let root = {\r\n        isFolder:true,\r\n        name:'Root',\r\n        type: 'folder',\r\n        isRoot: true,\r\n        order: 0,\r\n        children: [],\r\n        id:0\r\n      }\r\n      map['root']=root;\r\n    }\r\n    else{\r\n      arrayTreeNodes.forEach((treeNode) => {\r\n        var obj = treeNode;\r\n        obj.children = [];\r\n        obj.type= (treeNode.isFolder)? \"folder\" : \"node\";\r\n        if(allNewElements) {\r\n          obj.status='pendingCreation';\r\n          if(obj.id) { obj.id = obj.id * -1 }\r\n          if(obj.parent) { obj.parent = obj.parent * -1 }\r\n        }\r\n  \r\n        if(!map[obj.id]) {map[obj.id] = obj;}\r\n        else{\r\n          let previousChildren= map[obj.id].children\r\n          map[obj.id] = obj;\r\n          map[obj.id].children=previousChildren\r\n        }\r\n        var parent = obj.parent || 'root';\r\n        if (!map[parent]) {\r\n          map[parent] = {\r\n            children: []\r\n          };\r\n        }\r\n        map[parent].children.push(obj);\r\n      });\r\n      map['root'].type='folder';\r\n      map['root'].name='Root';\r\n      map['root'].order=0;\r\n      map['root'].isFolder=true;\r\n      map['root'].isRoot=true;\r\n    }\r\n\r\n\r\n    return map['root'];\r\n  }\r\n  \r\n\r\n  deleteItem(node: FileNode, changedData:any) {\r\n    this.deleteNode(changedData.children, node);\r\n    this.dataChange.next(changedData);\r\n  }\r\n\r\n  deleteNode(nodes: FileNode[], nodeToDelete: FileNode) {\r\n    const index = nodes.indexOf(nodeToDelete, 0);\r\n    if (index > -1) {\r\n      nodes.splice(index, 1);\r\n    } else {\r\n      nodes.forEach(node => {\r\n        if (node.children && node.children.length > 0) {\r\n          this.deleteNode(node.children, nodeToDelete);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  setOrder(data: any[]){\r\n    for(let i=0; i< data.length; i++){\r\n      data[i].order=i;\r\n      if(! data[i].status) { data[i].status=\"Modified\"; } \r\n    }\r\n    return data;\r\n   }\r\n\r\n  copyPasteItem(from: FileNode, to: FileNode, changedData:any): FileNode {\r\n    const newItem = this.insertItem(to, from,changedData);\r\n\r\n    return newItem;\r\n  }\r\n\r\n  copyPasteItemAbove(from: FileNode, to: FileNode,changedData:any): FileNode {\r\n    const newItem = this.insertItemAbove(to, from,changedData);\r\n\r\n    return newItem;\r\n  }\r\n\r\n  copyPasteItemBelow(from: FileNode, to: FileNode,changedData:any): FileNode {\r\n    const newItem = this.insertItemBelow(to, from,changedData);\r\n\r\n    return newItem;\r\n  }\r\n\r\n  /** Add an item to to-do list */\r\n  \r\n  getNewItem(node:FileNode){\r\n    const newItem = {\r\n      name: node.name,\r\n      children: node.children,\r\n      type: node.type,\r\n      id: node.id, \r\n      active: node.active,\r\n      cartographyId: node.cartographyId,\r\n      cartographyName: node.cartographyName,\r\n      datasetURL: node.datasetURL,\r\n      description: node.description,\r\n      filterGetFeatureInfo: node.filterGetFeatureInfo,\r\n      filterGetMap: node.filterGetMap,\r\n      filterSelectable: node.filterSelectable,\r\n      isFolder: node.isFolder,\r\n      metadataURL: node.metadataURL,\r\n      order: node.order,\r\n      queryableActive: node.queryableActive,\r\n      radio: node.radio,\r\n      tooltip: node.tooltip,\r\n      _links: node._links } as FileNode;\r\n\r\n    return newItem;\r\n  }\r\n\r\n  insertItem(parent: FileNode, node: FileNode,changedData:any): FileNode {\r\n    if (!parent.children) {\r\n      parent.children = [];\r\n    }\r\n    const newItem = this.getNewItem(node)\r\n    newItem.parent = parent==null || parent.id==undefined?null:parent.id;\r\n\r\n    parent.children.push(newItem);\r\n    this.setOrder(parent.children)\r\n    this.dataChange.next(changedData);\r\n    return newItem;\r\n  }\r\n\r\n  insertItemAbove(node: FileNode, nodeDrag: FileNode,changedData:any): FileNode {\r\n    const parentNode = this.getParentFromNodes(node,changedData);\r\n    const newItem = this.getNewItem(nodeDrag)\r\n    newItem.parent = parentNode==null || parentNode.id==undefined?null:parentNode.id;\r\n  \r\n    if (parentNode != null) {\r\n      parentNode.children.splice(parentNode.children.indexOf(node), 0, newItem);\r\n      this.setOrder(parentNode.children)\r\n    } else {\r\n      changedData.children.splice(changedData.children.indexOf(node), 0, newItem);\r\n      this.setOrder(changedData.children)\r\n    }\r\n    this.dataChange.next(changedData);\r\n    return newItem;\r\n  }\r\n\r\n  insertItemBelow(node: FileNode, nodeDrag: FileNode,changedData:any): FileNode {\r\n    const parentNode = this.getParentFromNodes(node,changedData);\r\n   \r\n    const newItem = this.getNewItem(nodeDrag)\r\n    newItem.parent = parentNode==null || parentNode.id==undefined?null:parentNode.id;\r\n\r\n    if (parentNode != null) {\r\n      parentNode.children.splice(parentNode.children.indexOf(node) + 1, 0, newItem);\r\n      this.setOrder(parentNode.children)\r\n    } else {\r\n      changedData.children.splice(changedData.children.indexOf(node) + 1, 0, newItem);\r\n      this.setOrder(changedData.children)\r\n    }\r\n    this.dataChange.next(changedData);\r\n    return newItem;\r\n  }\r\n\r\n  \r\n  getParentFromNodes(node: FileNode,changedData:any): FileNode {\r\n    for (let i = 0; i < changedData.children.length; ++i) {\r\n      const currentRoot =  changedData.children[i];\r\n      const parent = this.getParent(currentRoot, node);\r\n      if (parent != null) {\r\n        return parent;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  \r\n  getParent(currentRoot: FileNode, node: FileNode): FileNode {\r\n    if (currentRoot.children && currentRoot.children.length > 0) {\r\n      for (let i = 0; i < currentRoot.children.length; ++i) {\r\n        const child = currentRoot.children[i];\r\n        if (child === node) {\r\n          return currentRoot;\r\n        } else if (child.children && child.children.length > 0) {\r\n          const parent = this.getParent(child, node);\r\n          if (parent != null) {\r\n            return parent;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * @title Tree with flat nodes\r\n */\r\n@Component({\r\n  selector: 'app-data-tree',\r\n  templateUrl: 'data-tree.component.html',\r\n  styleUrls: ['data-tree.component.scss'],\r\n  providers: [FileDatabase]\r\n})\r\nexport class DataTreeComponent {\r\n  @Output() createNode: EventEmitter<any>;\r\n  @Output() createFolder: EventEmitter<any>;\r\n  @Output() emitNode: EventEmitter<any>;\r\n  @Output() emitAllNodes: EventEmitter<any>;\r\n  @Input() eventNodeUpdatedSubscription: Observable <any> ;\r\n  @Input() eventCreateNodeSubscription: Observable <any> ;\r\n  @Input() eventGetAllRowsSubscription: Observable <any> ;\r\n  @Input() eventRefreshSubscription: Observable <any> ;\r\n  private _eventNodeUpdatedSubscription: any;\r\n  private _eventCreateNodeSubscription: any;\r\n  private _eventGetAllRowsSubscription: any;\r\n  private _eventRefreshSubscription: any;\r\n  treeControl: FlatTreeControl<FileFlatNode>;\r\n  treeFlattener: MatTreeFlattener<FileNode, FileFlatNode>;\r\n  dataSource: MatTreeFlatDataSource<FileNode, FileFlatNode>;\r\n  // expansion model tracks expansion state\r\n  expansionModel = new SelectionModel<string>(true);\r\n  dragging = false;\r\n  expandTimeout: any;\r\n  expandDelay = 1000;\r\n  validateDrop = false;\r\n  treeData: any;\r\n\r\n  @Input() getAll: () => Observable<any>;\r\n  @Input() allNewElements: any;\r\n\r\n\r\n  /* Drag and drop */\r\n  dragNode: any;\r\n  dragNodeExpandOverWaitTimeMs = 1500;\r\n  dragNodeExpandOverNode: any;\r\n  dragNodeExpandOverTime: number;\r\n  dragNodeExpandOverArea: string;\r\n  @ViewChild('emptyItem') emptyItem: ElementRef;\r\n\r\n    /** Map from flat node to nested node. This helps us finding the nested node to be modified */\r\n    flatNodeMap = new Map<FileFlatNode, FileNode>();\r\n\r\n    /** Map from nested node to flattened node. This helps us to keep the same object for selection */\r\n    nestedNodeMap = new Map<FileNode, FileFlatNode>();\r\n\r\n\r\n  constructor(public database: FileDatabase) {\r\n    this.emitNode = new EventEmitter();\r\n    this.createNode = new EventEmitter();\r\n    this.createFolder = new EventEmitter();\r\n    this.emitAllNodes = new EventEmitter();\r\n    this.treeFlattener = new MatTreeFlattener(this.transformer, this._getLevel,\r\n      this._isExpandable, this._getChildren);\r\n    this.treeControl = new FlatTreeControl<FileFlatNode>(this._getLevel, this._isExpandable);\r\n    this.dataSource = new MatTreeFlatDataSource(this.treeControl, this.treeFlattener);\r\n \r\n  }\r\n\r\n  ngOnInit(){\r\n\r\n    if(this.eventNodeUpdatedSubscription)\r\n    {\r\n      this.eventNodeUpdatedSubscription.subscribe(\r\n        (node) => {\r\n          this.updateNode(node);\r\n        }\r\n      )\r\n    }\r\n    if(this.eventCreateNodeSubscription)\r\n    {\r\n      this.eventCreateNodeSubscription.subscribe(\r\n        (node) => {\r\n          if(node.isFolder) this.createNewFolder(node);\r\n          else this.createNewNode(node);\r\n        }\r\n      )\r\n    }\r\n\r\n    if (this.eventGetAllRowsSubscription) {\r\n      this._eventGetAllRowsSubscription = this.eventGetAllRowsSubscription.subscribe(() => {\r\n        this.emitAllRows();\r\n      });\r\n    }\r\n\r\n    if (this.eventRefreshSubscription) {\r\n      this._eventRefreshSubscription = this.eventRefreshSubscription.subscribe(() => {\r\n        this.getElements();\r\n      });\r\n    }\r\n    \r\n    this.getElements();\r\n  }\r\n\r\n  getElements(): void {\r\n    this.getAll()\r\n    .subscribe((items) => {\r\n      this.treeData = items;\r\n      this.database.initialize(this.treeData, this.allNewElements);\r\n      this.database.dataChange.subscribe(data => this.rebuildTreeForData([data]));\r\n    });\r\n  }\r\n\r\n\r\n  transformer = (node: FileNode, level: number) => {\r\n    const existingNode = this.nestedNodeMap.get(node);\r\n    const flatNode = existingNode && existingNode.name === node.name\r\n      ? existingNode\r\n      : new FileFlatNode((node.children && node.children.length > 0),node.name,level,node.type,node.id,node.status);\r\n\r\n    this.flatNodeMap.set(flatNode, node);\r\n    this.nestedNodeMap.set(node, flatNode);\r\n    return flatNode;\r\n  \r\n  }\r\n  private _getLevel = (node: FileFlatNode) => node.level;\r\n  private _isExpandable = (node: FileFlatNode) => node.expandable;\r\n  private _getChildren = (node: FileNode): Observable<FileNode[]> => observableOf(node.children);\r\n  hasChild = (_: number, _nodeData: FileFlatNode) => _nodeData.expandable;\r\n\r\n\r\n  /**\r\n   * This constructs an array of nodes that matches the DOM\r\n   */\r\n  visibleNodes(): FileNode[] {\r\n    const result = [];\r\n\r\n    function addExpandedChildren(node: FileNode, expanded: string[]) {\r\n      result.push(node);\r\n      if (expanded.indexOf(node.id) != -1) {\r\n        node.children.map((child) => addExpandedChildren(child, expanded));\r\n      }\r\n    }\r\n    this.dataSource.data.forEach((node) => {\r\n      addExpandedChildren(node, this.expansionModel.selected);\r\n    });\r\n    return result;\r\n  }\r\n\r\n\r\n   findNodeSiblings(arr: Array<any>, id: string): Array<any> {\r\n    let result, subResult;\r\n    arr.forEach((item, i) => {\r\n      if (item.id === id) {\r\n        result = arr;\r\n      } else if (item.children) {\r\n        subResult = this.findNodeSiblings(item.children, id);\r\n        if (subResult) result = subResult;\r\n      }\r\n    });\r\n    return result;\r\n\r\n  }\r\n\r\n\r\n  handleDragStart(event, node) {\r\n    // Required by Firefox (https://stackoverflow.com/questions/19055264/why-doesnt-html5-drag-and-drop-work-in-firefox)\r\n    event.dataTransfer.setData('foo', 'bar');\r\n    event.dataTransfer.setDragImage(this.emptyItem.nativeElement, 0, 0);\r\n    this.dragNode = node;\r\n    this.treeControl.collapse(node);\r\n  }\r\n\r\n  handleDragOver(event, node) {\r\n    event.preventDefault();\r\n\r\n    // Handle node expand\r\n    if (node === this.dragNodeExpandOverNode) {\r\n      if (this.dragNode !== node && !this.treeControl.isExpanded(node)) {\r\n        if ((new Date().getTime() - this.dragNodeExpandOverTime) > this.dragNodeExpandOverWaitTimeMs) {\r\n          this.treeControl.expand(node);\r\n        }\r\n      }\r\n    } else {\r\n      this.dragNodeExpandOverNode = node;\r\n      this.dragNodeExpandOverTime = new Date().getTime();\r\n    }\r\n\r\n    // Handle drag area\r\n    const percentageX = event.offsetX / event.target.clientWidth;\r\n    const percentageY = event.offsetY / event.target.clientHeight;\r\n    if (percentageY < 0.25) {\r\n      this.dragNodeExpandOverArea = 'above';\r\n    } else if (percentageY > 0.75) {\r\n      this.dragNodeExpandOverArea = 'below';\r\n    } else {\r\n      this.dragNodeExpandOverArea = 'center';\r\n    }\r\n  }\r\n\r\n  handleDrop(event, node) {\r\n    event.preventDefault();\r\n    const changedData = JSON.parse(JSON.stringify(this.dataSource.data))\r\n\r\n    \r\n    let toFlatNode;\r\n    if(node.id === undefined) { toFlatNode=changedData[0] }\r\n    else{\r\n      toFlatNode= this.findNodeSiblings(changedData[0].children, node.id).find(nodeAct => nodeAct.id === node.id);\r\n    }\r\n    let fromFlatNode;\r\n    if( this.dragNode.id === undefined) { fromFlatNode=changedData[0] }\r\n    else{\r\n      fromFlatNode = this.findNodeSiblings(changedData[0].children, this.dragNode.id).find(nodeAct => nodeAct.id === this.dragNode.id);\r\n    }\r\n    if (this.dragNode.status!=\"pendingDelete\" && node !== this.dragNode && (this.dragNodeExpandOverArea !== 'center' || (this.dragNodeExpandOverArea === 'center' && toFlatNode.isFolder))) {\r\n      let newItem: FileNode;\r\n\r\n      if (this.dragNodeExpandOverArea === 'above') {\r\n        newItem = this.database.copyPasteItemAbove(fromFlatNode,toFlatNode,changedData[0]);\r\n      } else if (this.dragNodeExpandOverArea === 'below') {\r\n        newItem = this.database.copyPasteItemBelow(fromFlatNode,toFlatNode,changedData[0]);\r\n      } else {\r\n        newItem = this.database.copyPasteItem(fromFlatNode, toFlatNode,changedData[0]);\r\n      }    \r\n      let parentLvl=this.treeControl.dataNodes.find((n) => n.id === fromFlatNode.id).level;\r\n      fromFlatNode.children.forEach(child=>{\r\n        this.treeControl.dataNodes.find((n) => n.id === child.id).level=parentLvl+1\r\n      });\r\n      this.database.deleteItem(fromFlatNode,changedData[0]);\r\n      this.treeControl.expandDescendants(this.nestedNodeMap.get(newItem));\r\n    }\r\n   \r\n    this.dragNode = null;\r\n    this.dragNodeExpandOverNode = null;\r\n    this.dragNodeExpandOverTime = 0;\r\n  }\r\n\r\n  handleDragEnd(event) {\r\n    this.dragNode = null;\r\n    this.dragNodeExpandOverNode = null;\r\n    this.dragNodeExpandOverTime = 0;\r\n  }\r\n\r\n  /**\r\n   * The following methods are for persisting the tree expand state\r\n   * after being rebuilt\r\n   */\r\n\r\n   sortByOrder(data: any[]){\r\n    // data.sort((a,b) => a.order.toString().localeCompare( b.order.toString()));\r\n    data.sort((a,b) => (a.order > b.order) ? 1 : ((b.order > a.order) ? -1 : 0));\r\n    data.forEach((item) => {\r\n      if (item.children.length>0) {\r\n        this.sortByOrder(item.children);\r\n      }\r\n\r\n    });\r\n   }\r\n\r\n   setOrder(data: any[]){\r\n    for(let i=0; i< data.length; i++){\r\n      data[i].order=i;\r\n      if(! data[i].status) { data[i].status=\"Modified\"; } \r\n    }\r\n    return data;\r\n   }\r\n\r\n  rebuildTreeForData(data: any[]) {\r\n    //this.dataSource.data = data;\r\n    this.sortByOrder(data);\r\n    this.dataSource.data = [];\r\n    this.dataSource.data = data;\r\n    this.treeControl.expansionModel.selected.forEach((nodeAct) => {\r\n      if(nodeAct){\r\n        const node = this.treeControl.dataNodes.find((n) => n.id === nodeAct.id);\r\n        this.treeControl.expand(node);\r\n      }\r\n    });\r\n  }\r\n\r\n  private getParentNode(node: FileFlatNode): FileFlatNode | null {\r\n    const currentLevel = node.level;\r\n    if (currentLevel < 1) {\r\n      return null;\r\n    }\r\n    const startIndex = this.treeControl.dataNodes.indexOf(node) - 1;\r\n    for (let i = startIndex; i >= 0; i--) {\r\n      const currentNode = this.treeControl.dataNodes[i];\r\n      if (currentNode.level < currentLevel) {\r\n        return currentNode;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  updateNode(nodeUpdated)\r\n  {\r\n    const dataToChange = JSON.parse(JSON.stringify(this.dataSource.data))\r\n    const siblings = this.findNodeSiblings(dataToChange, nodeUpdated.id);\r\n    let index= siblings.findIndex(node => node.id === nodeUpdated.id)\r\n    siblings[index]=nodeUpdated;\r\n    this.rebuildTreeForData(dataToChange);\r\n\r\n  }\r\n\r\n  createNewFolder(newFolder)\r\n  {\r\n    newFolder.type=\"folder\";\r\n    const dataToChange = JSON.parse(JSON.stringify(this.dataSource.data))\r\n    if(newFolder.parent === null) {\r\n      newFolder.order=dataToChange[0].children.length;\r\n      dataToChange[0].children.push(newFolder)\r\n    }\r\n    else{\r\n      const siblings = this.findNodeSiblings(dataToChange, newFolder.parent);\r\n      let index= siblings.findIndex(node => node.id === newFolder.parent);\r\n      newFolder.order=siblings[index].children.length;\r\n      siblings[index].children.push(newFolder)\r\n    }\r\n    this.rebuildTreeForData(dataToChange);\r\n\r\n  }\r\n\r\n  createNewNode(newNode)\r\n  {\r\n    newNode.type=\"node\";\r\n    const dataToChange = JSON.parse(JSON.stringify(this.dataSource.data))\r\n    if(newNode.parent === null) {\r\n      newNode.order=dataToChange[0].children.length;\r\n      dataToChange[0].children.push(newNode)\r\n    }\r\n    else{\r\n    const siblings = this.findNodeSiblings(dataToChange, newNode.parent);\r\n    let index= siblings.findIndex(node => node.id === newNode.parent);\r\n    newNode.order=siblings[index].children.length;\r\n    siblings[index].children.push(newNode)\r\n    }\r\n\r\n    this.rebuildTreeForData(dataToChange);\r\n\r\n  }\r\n\r\n\r\n\r\n  onButtonClicked(id, button: string)\r\n  {\r\n    const changedData = JSON.parse(JSON.stringify(this.dataSource.data))\r\n    const siblings = this.findNodeSiblings(changedData, id);\r\n    let nodeClicked= siblings.find(node => node.id === id);\r\n    if(button ==='edit')  {this.emitNode.emit(nodeClicked)}\r\n    else if(button === 'newFolder') {this.createFolder.emit(nodeClicked)}\r\n    else if(button === 'newNode') {this.createNode.emit( nodeClicked)}\r\n    else if(button === 'delete') {\r\n      // let children= this.getAllChildren(nodeClicked.children)\r\n      // children.forEach(children => {\r\n      //   children.status='pendingDelete';\r\n      // });\r\n      this.deleteChildren(nodeClicked.children);\r\n      // nodeClicked.children=children\r\n      nodeClicked.status='pendingDelete'\r\n      \r\n      this.rebuildTreeForData(changedData);\r\n    }\r\n\r\n  }\r\n\r\n  emitAllRows()\r\n  {\r\n    const dataToEmit = JSON.parse(JSON.stringify(this.dataSource.data))\r\n    let allRows = this.getAllChildren(dataToEmit); \r\n    this.emitAllNodes.emit(allRows);\r\n  }\r\n\r\n  getAllChildren(arr)\r\n  {\r\n    let result = [];\r\n    let subResult;\r\n    arr.forEach((item, i) => {\r\n      if (item.children.length>0) {\r\n        subResult = this.getAllChildren(item.children);\r\n        if (subResult) result.push(...subResult);\r\n      }\r\n      result.push(item);\r\n\r\n    });\r\n    return result;\r\n  }\r\n\r\n  deleteChildren(arr)\r\n  {\r\n    arr.forEach((item, i) => {\r\n      if (item.children.length>0) {\r\n        this.deleteChildren(item.children);\r\n      }\r\n      item.status='pendingDelete'\r\n\r\n    });\r\n  }\r\n\r\n}\r\n\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatIconRegistry } from \"@angular/material/icon\";\r\nimport { DomSanitizer } from \"@angular/platform-browser\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-dialog-translation',\r\n  templateUrl: './dialog-translation.component.html',\r\n  styleUrls: ['./dialog-translation.component.scss']\r\n})\r\nexport class DialogTranslationComponent implements OnInit {\r\n\r\n  translationForm: FormGroup;\r\n  translationsMap:  Map<string, any>;\r\n  languageByDefault:  string;\r\n  languagesAvailables: Array<any>;\r\n  catalanAvailable = false;\r\n  catalanValue: string;\r\n  spanishAvailable = false;\r\n  spanishValue: string;\r\n  englishAvailable = false;\r\n  englishValue: string;\r\n  araneseAvailable = false;\r\n  araneseValue: string;\r\n  frenchAvailable = false;\r\n  frenchValue: string;\r\n\r\n  constructor(private dialogRef: MatDialogRef<DialogTranslationComponent>,\r\n    private matIconRegistry: MatIconRegistry,\r\n    private domSanitizer: DomSanitizer) { \r\n    this.initializeTranslationForm();\r\n    this.matIconRegistry.addSvgIcon(\r\n      `icon_lang_ca`,\r\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/img/flag_ca.svg')\r\n    );\r\n    this.matIconRegistry.addSvgIcon(\r\n      `icon_lang_es`,\r\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/img/flag_es.svg')\r\n    );\r\n    this.matIconRegistry.addSvgIcon(\r\n      `icon_lang_en`,\r\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/img/flag_en.svg')\r\n    );\r\n    this.matIconRegistry.addSvgIcon(\r\n      `icon_lang_oc`,\r\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/img/flag_oc.svg')\r\n    );\r\n    this.matIconRegistry.addSvgIcon(\r\n      `icon_lang_fr`,\r\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/img/flag_fr.svg')\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.checkLanguagesAvailables();\r\n    this.checkTranslationsAlreadyDone();\r\n    // if(this.catalanValue != null){\r\n    //   this.translationForm.patchValue({\r\n    //     catalanValue: this.catalanValue\r\n    //   })\r\n    // }\r\n    // if(this.spanishValue != null){\r\n    //   this.translationForm.patchValue({\r\n    //     spanishValue: this.spanishValue\r\n    //   })\r\n    // }\r\n    // if(this.englishValue != null){\r\n    //   this.translationForm.patchValue({\r\n    //     englishValue: this.englishValue\r\n    //   })\r\n    // }\r\n    // if(this.araneseValue != null){\r\n    //   this.translationForm.patchValue({\r\n    //     araneseValue: this.araneseValue\r\n    //   })\r\n    // }\r\n    // if(this.frenchValue != null){\r\n    //   this.translationForm.patchValue({\r\n    //     frenchValue: this.frenchValue\r\n    //   })\r\n    // }\r\n  }\r\n\r\n  checkLanguagesAvailables(): void {\r\n    this.languagesAvailables.forEach(element => {\r\n      if(element.shortname == 'ca' && this.languageByDefault!= 'ca') {  this.catalanAvailable = true }\r\n      if(element.shortname == 'es' && this.languageByDefault!= 'es') {  this.spanishAvailable = true }\r\n      if(element.shortname == 'en' && this.languageByDefault!= 'en') {  this.englishAvailable = true }\r\n      if(element.shortname == 'oc-aranes' && this.languageByDefault!= 'oc-aranes') {  this.araneseAvailable = true }\r\n      if(element.shortname == 'fr' && this.languageByDefault!= 'fr') {  this.frenchAvailable = true }\r\n    });\r\n  }\r\n\r\n  checkTranslationsAlreadyDone(): void {\r\n    this.translationsMap.forEach((value: any, key: string) => {\r\n      if(key == 'ca' && value && value.translation) { this.translationForm.patchValue({ catalanValue: value.translation }) }\r\n      if(key == 'es' && value && value.translation) { this.translationForm.patchValue({ spanishValue: value.translation }) }\r\n      if(key == 'en' && value && value.translation) { this.translationForm.patchValue({ englishValue: value.translation }) }\r\n      if(key == 'oc-aranes' && value && value.translation) { this.translationForm.patchValue({ araneseValue: value.translation }) }\r\n      if(key == 'fr' && value && value.translation) { this.translationForm.patchValue({ frenchValue: value.translation }) }\r\n  });\r\n  }\r\n\r\n  initializeTranslationForm(): void {\r\n\r\n    this.translationForm = new FormGroup({\r\n      catalanValue: new FormControl(null, []),\r\n      spanishValue: new FormControl(null, []),\r\n      englishValue: new FormControl(null, []),\r\n      araneseValue: new FormControl(null, []),\r\n      frenchValue: new FormControl(null, []),\r\n    })\r\n  }\r\n\r\n  doAccept(){\r\n    if (this.translationsMap.has(\"ca\") && this.translationForm.value.catalanValue) { this.translationsMap.get('ca').translation = this.translationForm.value.catalanValue }\r\n    if (this.translationsMap.has(\"es\") && this.translationForm.value.spanishValue) { this.translationsMap.get('es').translation = this.translationForm.value.spanishValue }\r\n    if (this.translationsMap.has(\"en\") && this.translationForm.value.englishValue) { this.translationsMap.get('en').translation = this.translationForm.value.englishValue }\r\n    if (this.translationsMap.has(\"oc-aranes\") && this.translationForm.value.araneseValue) { this.translationsMap.get('oc-aranes').translation = this.translationForm.value.araneseValue }\r\n    if (this.translationsMap.has(\"fr\") && this.translationForm.value.frenchValue) { this.translationsMap.get('fr').translation = this.translationForm.value.frenchValue }\r\n    this.dialogRef.close({event:'Accept', data: this.translationsMap});\r\n  }\r\n\r\n  closeDialog(){\r\n    this.dialogRef.close({event:'Cancel'});\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, OnChanges, ViewChild, ElementRef, Input, ViewEncapsulation } from '@angular/core';\r\nimport * as d3 from 'd3';\r\n\r\n\r\n@Component({\r\n  selector: 'app-datagraph',\r\n  templateUrl: './datagraph.component.html',\r\n  styleUrls: ['./datagraph.component.scss']\r\n})\r\nexport class DatagraphComponent implements OnInit {\r\n\r\n  @ViewChild('chart',{static: true}) private chartContainer: ElementRef;\r\n  @Input() private data: Array<any>;\r\n  @Input() private type;\r\n  private margin: any = { top: 20, bottom: 60, left: 40, right: 40};\r\n  private margin2 = 80;\r\n  private chart: any;\r\n  private width: number;\r\n  private height: number;\r\n  private xScale: any;\r\n  private yScale: any;\r\n  private colors: any;\r\n  private xAxis: any;\r\n  private yAxis: any;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n\r\n      if(this.type == \"bar\"){\r\n        this.createBarChart();\r\n        if (this.data) {\r\n          this.updateBarChart(); \r\n        }\r\n      }\r\n      \r\n  }\r\n  \r\n\r\n  ngOnChanges() {\r\n    if(this.type == \"bar\")\r\n    {\r\n      if (this.chart) {\r\n        this.updateBarChart();\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  createBarChart() {\r\n    let element = this.chartContainer.nativeElement;\r\n    this.width = element.offsetWidth - this.margin.left - this.margin.right;\r\n    this.height = element.offsetHeight - this.margin.top - this.margin.bottom;\r\n    let svg = d3.select(element).append('svg')\r\n      .attr('width', '100%')\r\n      .attr(\"height\", '100%')\r\n\r\n    // chart plot area\r\n    this.chart = svg.append('g')\r\n      .attr('class', 'bars')\r\n      .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\r\n      \r\n      const barGroups = this.chart.selectAll()\r\n      .data(this.data)\r\n      .enter()\r\n      .append('g')\r\n\r\n  \r\n\r\n    // define X & Y domains\r\n    let xDomain = this.data.map(d => d.index);\r\n    let yDomain = [0, (d3.max(this.data, d => d.value))];\r\n\r\n    // create scales\r\n    this.xScale = d3.scaleBand().padding(0.3).domain(xDomain).rangeRound([0, this.width]);\r\n    this.yScale = d3.scaleLinear().domain(yDomain).range([this.height, 0]);\r\n\r\n    // bar colors\r\n   // this.colors = d3.scaleLinear().domain([0, this.data.length]).range(<any[]>['red', 'blue']);\r\n    \r\n    barGroups \r\n      .append('text')\r\n      .attr('class', 'value')\r\n      .attr('x', (a) => this.xScale(a.index) + this.xScale.bandwidth() / 2)\r\n      .attr('y', (a) => this.yScale(a.value)-5)\r\n      .attr('text-anchor', 'middle')\r\n      .style(\"font-size\", 9)\r\n      .style(\"fill\", \"black\")\r\n      .text((a) => `${a.value}`)\r\n\r\n\r\n    // x & y axis\r\n    this.xAxis = svg.append('g')\r\n      .attr('class', 'axis axis-x')\r\n      .attr('transform', `translate(${this.margin.left}, ${this.margin.top + this.height})`)\r\n      .call(d3.axisBottom(this.xScale))\r\n      .selectAll(\"text\")\r\n      .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\r\n      .style(\"text-anchor\", \"end\")\r\n      .style(\"font-size\", 9)\r\n      .style(\"fill\", \"black\")\r\n\r\n      \r\n    this.yAxis = svg.append('g')\r\n      .attr('class', 'axis axis-y')\r\n      .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`)\r\n      .call(d3.axisLeft(this.yScale))\r\n      .selectAll(\"text\")\r\n      .style(\"font-size\", 9)\r\n      .style(\"fill\", \"black\")\r\n\r\n      \r\n  }\r\n\r\n  updateBarChart() {\r\n    // update scales & axis\r\n    this.xScale.domain(this.data.map(d => d.index));\r\n    this.yScale.domain([0,(d3.max(this.data, d => d.value))]);\r\n    this.xAxis.transition().call(d3.axisBottom(this.xScale));\r\n    this.yAxis.transition().call(d3.axisLeft(this.yScale));\r\n\r\n    let update = this.chart.selectAll('.bar')\r\n      .data(this.data);\r\n\r\n    // remove exiting bars\r\n    update.exit().remove();\r\n\r\n    // update existing bars\r\n    this.chart.selectAll('.bar').transition()\r\n      .attr('x', d => this.xScale(d.index))\r\n      .attr('y', d => this.yScale(d.value))\r\n      .attr('width', d => this.xScale.bandwidth())\r\n      .attr('height', d => this.height - this.yScale(d[1]))\r\n      .style('fill', '#be7d27');\r\n\r\n    // add new bars\r\n    update\r\n      .enter()\r\n      .append('rect')\r\n      .attr('class', 'bar')\r\n      .attr('x', d => this.xScale(d.index))\r\n      .attr('y', d => this.yScale(d.value))\r\n      .attr('height', d => this.height - this.yScale(d.value))\r\n      .attr('width', this.xScale.bandwidth())\r\n      .style('fill', '#be7d27')\r\n      .transition()\r\n      .delay((d, i) => i * 10)\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpClientModule, HttpClient, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { BrowserAnimationsModule, NoopAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\n//import * as ol from 'openlayers';\r\nimport { TranslateModule, TranslateLoader, TranslateService } from '@ngx-translate/core';\r\nimport { registerLocaleData } from '@angular/common';\r\nimport { AngularHalModule } from '@sitmun/frontend-core';\r\n\r\n\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport localeCa from '@angular/common/locales/ca';\r\nimport localeEs from '@angular/common/locales/es';\r\nimport { SitmunFrontendCoreModule } from '@sitmun/frontend-core';\r\nimport { DataGridComponent } from './data-grid/data-grid.component';\r\n\r\nimport { AgGridModule } from '@ag-grid-community/angular';\r\n\r\nimport {MaterialModule} from './material-module';\r\n\r\nimport { BtnEditRenderedComponent } from './btn-edit-rendered/btn-edit-rendered.component';\r\nimport { BtnCheckboxRenderedComponent } from './btn-checkbox-rendered/btn-checkbox-rendered.component';\r\nimport { BtnCheckboxFilterComponent } from './btn-checkbox-filter/btn-checkbox-filter.component';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { DialogGridComponent } from './dialog-grid/dialog-grid.component';\r\nimport { DialogFormComponent } from './dialog-form/dialog-form.component';\r\nimport { DialogMessageComponent } from './dialog-message/dialog-message.component';\r\nimport { DataTreeComponent } from './data-tree/data-tree.component';\r\nimport { DialogTranslationComponent } from './dialog-translation/dialog-translation.component';\r\nimport { DatagraphComponent } from './data-graph/datagraph.component';\r\n\r\n\r\nregisterLocaleData(localeCa, 'ca');\r\nregisterLocaleData(localeEs, 'es');\r\n\r\n/** Load translation assets */\r\nexport function createTranslateLoader(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, '../assets/i18n/', '.json');\r\n}\r\n\r\n\r\n/** SITMUN plugin core module */\r\n@NgModule({\r\n  imports: [\r\n    RouterModule,\r\n    HttpClientModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    NoopAnimationsModule,\r\n    AngularHalModule,\r\n    ReactiveFormsModule,\r\n    BrowserAnimationsModule,\r\n    AgGridModule,\r\n    SitmunFrontendCoreModule,\r\n    MaterialModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: (createTranslateLoader),\r\n        deps: [HttpClient]\r\n      }\r\n    })\r\n\r\n  ],\r\n  declarations: [\r\n    DataGridComponent,\r\n    DataTreeComponent,\r\n    BtnEditRenderedComponent,\r\n    BtnCheckboxRenderedComponent,\r\n    BtnCheckboxFilterComponent,\r\n    DialogGridComponent,\r\n    DialogFormComponent,\r\n    DialogMessageComponent,\r\n    DialogTranslationComponent,\r\n    DatagraphComponent\r\n  ],\r\n  entryComponents: [\r\n  ],\r\n  providers: [\r\n  ],\r\n  exports: [\r\n    HttpClientModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    NoopAnimationsModule,\r\n    AngularHalModule,\r\n    TranslateModule,\r\n    ReactiveFormsModule,\r\n    DataGridComponent,\r\n    DataTreeComponent,\r\n    DialogGridComponent,\r\n    DialogFormComponent,\r\n    DialogMessageComponent,\r\n    DialogTranslationComponent,\r\n    DatagraphComponent,\r\n    SitmunFrontendCoreModule\r\n  ]\r\n})\r\nexport class SitmunFrontendGuiModule {\r\n}\r\n","/*\r\n * Public API Surface of sitmun-frontend-gui\r\n */\r\nexport * from './data-grid/data-grid.component';\r\nexport * from './sitmun-frontend-gui.module';\r\nexport * from './btn-edit-rendered/btn-edit-rendered.component';\r\nexport * from './btn-checkbox-rendered/btn-checkbox-rendered.component';\r\nexport * from './btn-checkbox-filter/btn-checkbox-filter.component';\r\nexport * from './dialog-grid/dialog-grid.component';\r\nexport * from './dialog-message/dialog-message.component';\r\nexport * from './data-tree/data-tree.component';\r\nexport * from './dialog-form/dialog-form.component';\r\nexport * from './dialog-translation/dialog-translation.component';\r\nexport * from './data-graph/datagraph.component';\r\n\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {MaterialModule as a} from './material-module';"],"names":["Component","ViewChild","ViewContainerRef","MatDialogRef","AllCommunityModules","EventEmitter","MatDialog","TranslateService","ElementRef","Input","Output","NgModule","A11yModule","CdkStepperModule","CdkTableModule","CdkTreeModule","DragDropModule","MatAutocompleteModule","MatBadgeModule","MatBottomSheetModule","MatButtonModule","MatButtonToggleModule","MatCardModule","MatCheckboxModule","MatChipsModule","MatStepperModule","MatDatepickerModule","MatDialogModule","MatDividerModule","MatExpansionModule","MatGridListModule","MatIconModule","MatInputModule","MatListModule","MatMenuModule","MatNativeDateModule","MatPaginatorModule","MatProgressBarModule","MatProgressSpinnerModule","MatRadioModule","MatRippleModule","MatSelectModule","MatSidenavModule","MatSliderModule","MatSlideToggleModule","MatSnackBarModule","MatSortModule","MatTableModule","MatTabsModule","MatToolbarModule","MatTooltipModule","MatTreeModule","PortalModule","ScrollingModule","MatFormFieldModule","Subject","BehaviorSubject","Injectable","SelectionModel","observableOf","MatTreeFlattener","FlatTreeControl","MatTreeFlatDataSource","FormGroup","FormControl","MatIconRegistry","DomSanitizer","d3","registerLocaleData","localeCa","localeEs","TranslateHttpLoader","RouterModule","HttpClientModule","CommonModule","FormsModule","NoopAnimationsModule","AngularHalModule","ReactiveFormsModule","BrowserAnimationsModule","AgGridModule","SitmunFrontendCoreModule","TranslateModule","TranslateLoader","HttpClient"],"mappings":"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"}