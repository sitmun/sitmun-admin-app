!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs"),require("rxjs/operators"),require("@angular/common/http"),require("url"),require("util"),require("@angular/core"),require("rxjs-compat"),require("@angular/router"),require("@ngx-translate/http-loader"),require("@ngx-translate/core")):"function"==typeof define&&define.amd?define("@sitmun/frontend-core",["exports","rxjs","rxjs/operators","@angular/common/http","url","util","@angular/core","rxjs-compat","@angular/router","@ngx-translate/http-loader","@ngx-translate/core"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).sitmun=t.sitmun||{},t.sitmun["frontend-core"]={}),t.rxjs,t.rxjs.operators,t.ng.common.http,t.url,t.util,t.ng.core,t.rxjsCompat,t.ng.router,t.httpLoader,t.i1$2)}(this,(function(t,e,r,n,i,o,s,u,c,a,l){"use strict";var p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}Object.create;function h(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}Object.create;"function"==typeof SuppressedError&&SuppressedError;var d=function(){function t(){var n=this;this.totalElements=0,this.totalPages=1,this.pageNumber=1,this.result=[],this.push=function(t){n.result.push(t)},this.length=function(){return n.result.length},this.init=function(t,e,r){var i=g.createEmptyResult(n._embedded);return i.sortInfo=r,g.instantiateResourceCollection(t,e,i),i},this.next=function(t){return n.next_uri?g.getHttp().get(g.getProxy(n.next_uri),{headers:g.headers}).pipe(r.map((function(e){return n.init(t,e,n.sortInfo)})),r.catchError((function(t){return e.throwError(t)}))):e.throwError("no next defined")},this.prev=function(t){return n.prev_uri?g.getHttp().get(g.getProxy(n.prev_uri),{headers:g.headers}).pipe(r.map((function(e){return n.init(t,e,n.sortInfo)})),r.catchError((function(t){return e.throwError(t)}))):e.throwError("no prev defined")},this.first=function(t){return n.first_uri?g.getHttp().get(g.getProxy(n.first_uri),{headers:g.headers}).pipe(r.map((function(e){return n.init(t,e,n.sortInfo)})),r.catchError((function(t){return e.throwError(t)}))):e.throwError("no first defined")},this.last=function(t){return n.last_uri?g.getHttp().get(g.getProxy(n.last_uri),{headers:g.headers}).pipe(r.map((function(e){return n.init(t,e,n.sortInfo)})),r.catchError((function(t){return e.throwError(t)}))):e.throwError("no last defined")},this.page=function(o,s){n.self_uri=n.self_uri.replace("{?page,size,sort}",""),n.self_uri=n.self_uri.replace("{&sort}","");var u=i.parse(g.getProxy(n.self_uri)),c=t.replaceOrAdd(u.query,"size",n.pageSize.toString());c=t.replaceOrAdd(c,"page",s.toString());var a=u.query?g.getProxy(n.self_uri).replace(u.query,c):g.getProxy(n.self_uri).concat(c);return a=n.addSortInfo(a),g.getHttp().get(a,{headers:g.headers}).pipe(r.map((function(t){return n.init(o,t,n.sortInfo)})),r.catchError((function(t){return e.throwError(t)})))},this.sortElements=function(t){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];n.self_uri=n.self_uri.replace("{?page,size,sort}",""),n.self_uri=n.self_uri.replace("{&sort}","");var s=g.getProxy(n.self_uri).concat("?","size=",n.pageSize.toString(),"&page=",n.pageNumber.toString());return s=n.addSortInfo(s),g.getHttp().get(s,{headers:g.headers}).pipe(r.map((function(e){return n.init(t,e,i)})),r.catchError((function(t){return e.throwError(t)})))},this.size=function(t,i){var o=g.getProxy(n.self_uri).concat("?","size=",i.toString());return o=n.addSortInfo(o),g.getHttp().get(o,{headers:g.headers}).pipe(r.map((function(e){return n.init(t,e,n.sortInfo)})),r.catchError((function(t){return e.throwError(t)})))}}return t.prototype.addSortInfo=function(t){var e,r;if(this.sortInfo)try{for(var n=h(this.sortInfo),i=n.next();!i.done;i=n.next()){var o=i.value;t=t.concat("&sort=",o.path,",",o.order)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t},t.replaceOrAdd=function(t,e,r){if(t){var n=t.indexOf(e),i=-1==t.indexOf("&",n)?t.indexOf("/",n):t.indexOf("&",n);if(-1!=n){var o=t.substring(n,i);t=t.replace(o,e+"="+r)}else t=t.concat("&"+e+"="+r)}else t="?"+e+"="+r;return t},t}(),g=function(){function t(){}return t.optionParams=function(t,e){var r,n,i,o;if(e){if(e.params)try{for(var s=h(e.params),u=s.next();!u.done;u=s.next()){var c=u.value;t=t.append(c.key,c.value.toString())}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}if(e.size&&(t=t.append("size",e.size.toString())),e.sort)try{for(var a=h(e.sort),l=a.next();!l.done;l=a.next()){var p=l.value,f="";f=p.path?f.concat(p.path):f,f=p.order?f.concat(",").concat(p.order):f,t=t.append("sort",f)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}return t},t.resolveRelations=function(e){var r=this,n={},i=function(i){if(!o.isNullOrUndefined(e[i]))if(t.className(e[i]).find((function(t){return"Resource"==t})))e[i]._links&&(n[i]=e[i]._links.self.href);else if(Array.isArray(e[i])){var s=e[i];s&&(n[i]=new Array,s.forEach((function(t){o.isPrimitive(t)?n[i].push(t):n[i].push(r.resolveRelations(t))})))}else n[i]=e[i]};for(var s in e)i(s);return n},t.createEmptyResult=function(t){var e=new d;return e._embedded=t,e},t.getClassName=function(t){var e=/function (.+?)\(/.exec(t.constructor.toString());return e&&e.length>1?e[1]:""},t.className=function(e){for(var r,n=[],i=Object.getPrototypeOf(e);"Object"!==(r=t.getClassName(i));)n.push(r),i=Object.getPrototypeOf(i);return n},t.instantiateResourceCollection=function(t,e,r,n,i){var o,s,u,c;try{for(var a=h(Object.keys(e[r._embedded])),l=a.next();!l.done;l=a.next()){var p=l.value;if(!i||i&&p==i){var f=e[r._embedded][p];try{for(var y=(u=void 0,h(f)),v=y.next();!v.done;v=y.next()){var d=v.value,g=new t;g=this.searchSubtypes(n,p,g),this.instantiateResource(g,d),r.push(g)}}catch(t){u={error:t}}finally{try{v&&!v.done&&(c=y.return)&&c.call(y)}finally{if(u)throw u.error}}}}}catch(t){o={error:t}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return r.totalElements=e.page?e.page.totalElements:r.length,r.totalPages=e.page?e.page.totalPages:1,r.pageNumber=e.page?e.page.number:1,r.pageSize=e.page?e.page.size:20,r.self_uri=e._links&&e._links.self?e._links.self.href:void 0,r.next_uri=e._links&&e._links.next?e._links.next.href:void 0,r.prev_uri=e._links&&e._links.prev?e._links.prev.href:void 0,r.first_uri=e._links&&e._links.first?e._links.first.href:void 0,r.last_uri=e._links&&e._links.last?e._links.last.href:void 0,r},t.searchSubtypes=function(t,e,r){if(t&&t.subtypes){var n=t.subtypes.keys();Array.from(n).forEach((function(n){if(e.toLowerCase().startsWith(n.toLowerCase())){var i=t.subtypes.get(n);r=new i}}))}return r},t.instantiateResource=function(t,e){for(var r in e)t[r]=e[r];return t},t.setProxyUri=function(e){t.proxy_uri=e},t.setRootUri=function(e){t.root_uri=e},t.getURL=function(){return t.proxy_uri&&""!=t.proxy_uri?t.addSlash(t.proxy_uri):t.addSlash(t.root_uri)},t.addSlash=function(t){var e=i.parse(t);return o.isNullOrUndefined(e.search)&&t&&"/"!=t[t.length-1]?t+"/":t},t.getProxy=function(e){return t.proxy_uri&&""!=t.proxy_uri?t.addSlash(e.replace(t.root_uri,t.proxy_uri)):e},t.setHttp=function(e){t.http=e},t.getHttp=function(){return t.http},t.getRootUri=function(){return t.root_uri},t}();g.headers=new n.HttpHeaders,g.proxy_uri=null,g.root_uri=null,g.http=null;var _=function(){function t(){}return Object.defineProperty(t.prototype,"subtypes",{get:function(){return this._subtypes},set:function(t){this._subtypes=t},enumerable:!1,configurable:!0}),t.prototype.getRelationArray=function(t,i,s,u,c){var a=g.optionParams(new n.HttpParams,u),l=g.createEmptyResult(o.isNullOrUndefined(s)?"_embedded":s);return o.isNullOrUndefined(this._links)||o.isNullOrUndefined(this._links[i])?e.of([]):g.getHttp().get(g.getProxy(this._links[i].href),{headers:g.headers,params:a}).pipe(r.map((function(e){return g.instantiateResourceCollection(t,e,l,c)})),r.map((function(t){return t.result})))},t.prototype.getRelation=function(t,n,i){var s=new t;return o.isNullOrUndefined(this._links)||o.isNullOrUndefined(this._links[n])?e.of(null):g.getHttp().get(g.getProxy(this._links[n].href),{headers:g.headers}).pipe(r.map((function(t){var e,r;if(i)try{for(var n=h(Object.keys(t._links)),o=n.next();!o.done;o=n.next()){var u=o.value;if("self"==u){var c=t._links[u].href,a=c.lastIndexOf("/"),l=c.replace(g.getRootUri(),"").substring(0,a);s=g.searchSubtypes(i,l,s);break}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return g.instantiateResource(s,t)})))},t.prototype.addRelation=function(t,r){if(o.isNullOrUndefined(this._links)||o.isNullOrUndefined(this._links[t]))return e.throwError("no relation found");var n=g.headers.append("Content-Type","text/uri-list");return g.getHttp().post(g.getProxy(this._links[t].href),r._links.self.href,{headers:n})},t.prototype.updateRelation=function(t,r){if(o.isNullOrUndefined(this._links)||o.isNullOrUndefined(this._links[t]))return e.throwError("no relation found");var n=g.headers.append("Content-Type","text/uri-list");return g.getHttp().patch(g.getProxy(this._links[t].href),r._links.self.href,{headers:n})},t.prototype.substituteRelation=function(t,r){if(o.isNullOrUndefined(this._links)||o.isNullOrUndefined(this._links[t]))return e.throwError("no relation found");var n=g.headers.append("Content-Type","text/uri-list");return g.getHttp().put(g.getProxy(this._links[t].href),r._links.self.href,{headers:n})},t.prototype.substituteAllRelation=function(t,r){if(o.isNullOrUndefined(this._links)||o.isNullOrUndefined(this._links[t]))return e.throwError("no relation found");var n=g.headers.append("Content-Type","text/uri-list");return g.getHttp().put(g.getProxy(this._links[t].href),r.map((function(t){return t._links.self.href})),{headers:n})},t.prototype.deleteRelation=function(t,r){if(o.isNullOrUndefined(this._links)||o.isNullOrUndefined(r._links))return e.throwError("no relation found");var n=r._links.self.href,i=n.lastIndexOf("/")+1;if(-1==i)return e.throwError("no relation found");var s=n.substring(i);return g.getHttp().delete(g.getProxy(this._links[t].href+"/"+s),{headers:g.headers})},t.prototype.deleteAllRelation=function(t){return g.getHttp().delete(g.getProxy(this._links[t].href),{headers:g.headers})},t}();_.ɵfac=function(t){return new(t||_)},_.ɵprov=s.ɵɵdefineInjectable({token:_,factory:_.ɵfac});var k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),b=function(){function t(t){this.externalConfigurationService=t,g.setProxyUri(t.getProxyUri()),g.setRootUri(t.getRootUri()),g.setHttp(t.getHttp())}return t.prototype.updateExternalConfigurationHandlerInterface=function(t){this.externalConfigurationService=t,g.setProxyUri(t.getProxyUri()),g.setRootUri(t.getRootUri()),g.setHttp(t.getHttp())},t.prototype.getExternalConfiguration=function(){return this.externalConfigurationService.getExternalConfiguration()},t.prototype.getProxyUri=function(){return this.externalConfigurationService.getProxyUri()},t.prototype.getRootUri=function(){return this.externalConfigurationService.getRootUri()},t.prototype.getURL=function(){return g.getURL()},t.prototype.getHttp=function(){return g.getHttp()},t}();b.ɵfac=function(t){return new(t||b)(s.ɵɵinject("ExternalConfigurationService"))},b.ɵprov=s.ɵɵdefineInjectable({token:b,factory:b.ɵfac});var A=function(){function t(t){this.externalService=t}return t.getURL=function(){return g.getURL()},t.prototype.getAll=function(t,i,o,s,u,c,a){var l=this.getResourceUrl(i);a||(l=l.concat("?projection=view"));var p=g.optionParams(new n.HttpParams,s),f=g.createEmptyResult(o);return this.setUrls(f),f.sortInfo=s?s.sort:void 0,g.getHttp().get(l,{headers:g.headers,params:p}).pipe(r.map((function(e){return g.instantiateResourceCollection(t,e,f,u,c)})),r.catchError((function(t){return e.throwError(t)})))},t.prototype.get=function(t,n,i){var o=this.getResourceUrl(n).concat("/",i,"?projection=view"),s=new t;return this.setUrlsResource(s),g.getHttp().get(o,{headers:g.headers}).pipe(r.map((function(t){return g.instantiateResource(s,t)})),r.catchError((function(t){return e.throwError(t)})))},t.prototype.getBySelfLink=function(t,n){var i=new t;return this.setUrlsResource(i),g.getHttp().get(g.getProxy(n),{headers:g.headers}).pipe(r.map((function(t){return g.instantiateResource(i,t)})),r.catchError((function(t){return e.throwError(t)})))},t.prototype.search=function(t,i,o,s,u){var c=this.getResourceUrl(o).concat("/search/",i),a=g.optionParams(new n.HttpParams,u),l=g.createEmptyResult(s);return this.setUrls(l),g.getHttp().get(c,{headers:g.headers,params:a}).pipe(r.map((function(e){return g.instantiateResourceCollection(t,e,l)})),r.catchError((function(t){return e.throwError(t)})))},t.prototype.searchSingle=function(t,i,o,s){var u=this.getResourceUrl(o).concat("/search/",i),c=g.optionParams(new n.HttpParams,s),a=new t;return this.setUrlsResource(a),g.getHttp().get(u,{headers:g.headers,params:c}).pipe(r.map((function(t){return g.instantiateResource(a,t)})),r.catchError((function(t){return e.throwError(t)})))},t.prototype.customQuery=function(t,i,o,s,u){var c=this.getResourceUrl(o+i),a=g.optionParams(new n.HttpParams,u),l=g.createEmptyResult(s);return this.setUrls(l),g.getHttp().get(c,{headers:g.headers,params:a}).pipe(r.map((function(e){return g.instantiateResourceCollection(t,e,l)})),r.catchError((function(t){return e.throwError(t)})))},t.prototype.getByRelation=function(t,n){var i=new t;return this.setUrlsResource(i),g.getHttp().get(n,{headers:g.headers}).pipe(r.map((function(t){return g.instantiateResource(i,t)})),r.catchError((function(t){return e.throwError(t)})))},t.prototype.getByRelationArray=function(t,n,i,o){var s=g.createEmptyResult(i);return this.setUrls(s),g.getHttp().get(n,{headers:g.headers}).pipe(r.map((function(e){return g.instantiateResourceCollection(t,e,s,o)})),r.catchError((function(t){return e.throwError(t)})))},t.prototype.count=function(t){var n=this.getResourceUrl(t).concat("/search/countAll");return g.getHttp().get(n,{headers:g.headers,observe:"body"}).pipe(r.map((function(t){return Number(t.body)})),r.catchError((function(t){return e.throwError(t)})))},t.prototype.create=function(t,n){var i=g.getURL()+t,o=g.resolveRelations(n);return this.setUrlsResource(n),g.getHttp().post(i,o,{headers:g.headers,observe:"response"}).pipe(r.map((function(t){if(t.status>=200&&t.status<=207)return g.instantiateResource(n,t.body);if(500==t.status){var r=t.body;return e.throwError(r.error)}})),r.catchError((function(t){return e.throwError(t)})))},t.prototype.update=function(t){var n=g.getProxy(t._links.self.href),i=g.resolveRelations(t);return this.setUrlsResource(t),g.getHttp().put(n,i,{headers:g.headers,observe:"response"}).pipe(r.map((function(r){if(r.status>=200&&r.status<=207)return g.instantiateResource(t,r.body);if(500==r.status){var n=r.body;return e.throwError(n.error)}})),r.catchError((function(t){return e.throwError(t)})))},t.prototype.updateCollection=function(t,n){var i=g.getProxy(n),o=g.headers;return o.set("Content-Type","text/uri-list"),g.getHttp().put(i,t,{headers:o,observe:"response"}).pipe(r.map((function(t){if(t.status>=200&&t.status<=207)return"";if(500==t.status){var r=t.body;return e.throwError(r.error)}})),r.catchError((function(t){return e.throwError(t)})))},t.prototype.patch=function(t){var n=g.getProxy(t._links.self.href),i=g.resolveRelations(t);return this.setUrlsResource(t),g.getHttp().patch(n,i,{headers:g.headers,observe:"response"}).pipe(r.map((function(r){if(r.status>=200&&r.status<=207)return g.instantiateResource(t,r.body);if(500==r.status){var n=r.body;return e.throwError(n.error)}})),r.catchError((function(t){return e.throwError(t)})))},t.prototype.delete=function(t){var n=g.getProxy(t._links.self.href);return g.getHttp().delete(n,{headers:g.headers}).pipe(r.catchError((function(t){return e.throwError(t)})))},t.prototype.hasNext=function(t){return null!=t.next_uri},t.prototype.hasPrev=function(t){return null!=t.prev_uri},t.prototype.hasFirst=function(t){return null!=t.first_uri},t.prototype.hasLast=function(t){return null!=t.last_uri},t.prototype.next=function(t,e){return t.next(e)},t.prototype.prev=function(t,e){return t.prev(e)},t.prototype.first=function(t,e){return t.first(e)},t.prototype.last=function(t,e){return t.last(e)},t.prototype.page=function(t,e,r){return t.page(e,r)},t.prototype.sortElements=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return t.sortElements.apply(t,v([e],r))},t.prototype.size=function(t,e,r){return t.size(e,r)},t.prototype.getResourceUrl=function(e){var r=t.getURL();return r.endsWith("/")||(r=r.concat("/")),e?r.concat(e):r},t.prototype.setUrls=function(t){t.proxyUrl=this.externalService.getProxyUri(),t.rootUrl=this.externalService.getRootUri()},t.prototype.setUrlsResource=function(t){t.proxyUrl=this.externalService.getProxyUri(),t.rootUrl=this.externalService.getRootUri()},t}();A.ɵfac=function(t){return new(t||A)(s.ɵɵinject(b))},A.ɵprov=s.ɵɵdefineInjectable({token:A,factory:A.ɵfac});var I=function(){function t(t,e,r,n){this.injector=r,this._embedded="_embedded",this.type=t,this.resource=e,this.resourceService=r.get(A),o.isNullOrUndefined(n)||(this._embedded=n)}return t.prototype.handleError=function(e){return t.handleError(e)},t.handleError=function(t){return e.throwError(t)},t.prototype.getAll=function(t,n,i,s){var u=this;return this.resourceService.getAll(this.type,this.resource,this._embedded,t,n,i,s).pipe(r.mergeMap((function(r){return t&&t.notPaged&&!o.isNullOrUndefined(r.first_uri)?(t.notPaged=!1,t.size=r.totalElements,u.getAll(t)):(u.resourceArray=r,e.of(r.result))})))},t.prototype.get=function(t){return this.resourceService.get(this.type,this.resource,t)},t.prototype.getBySelfLink=function(t){return this.resourceService.getBySelfLink(this.type,t)},t.prototype.search=function(t,n){var i=this;return this.resourceService.search(this.type,t,this.resource,this._embedded,n).pipe(r.mergeMap((function(r){return n&&n.notPaged&&!o.isNullOrUndefined(r.first_uri)?(n.notPaged=!1,n.size=r.totalElements,i.search(t,n)):(i.resourceArray=r,e.of(r.result))})))},t.prototype.searchSingle=function(t,e){return this.resourceService.searchSingle(this.type,t,this.resource,e)},t.prototype.customQuery=function(t,n){var i=this;return this.resourceService.customQuery(this.type,t,this.resource,this._embedded,n).pipe(r.mergeMap((function(r){return n&&n.notPaged&&!o.isNullOrUndefined(r.first_uri)?(n.notPaged=!1,n.size=r.totalElements,i.customQuery(t,n)):(i.resourceArray=r,e.of(r.result))})))},t.prototype.getByRelationArray=function(t,e){var n=this;return this.resourceService.getByRelationArray(this.type,t,this._embedded,e).pipe(r.map((function(t){return n.resourceArray=t,t.result})))},t.prototype.getByRelation=function(t){return this.resourceService.getByRelation(this.type,t)},t.prototype.count=function(){return this.resourceService.count(this.resource)},t.prototype.create=function(t){return this.resourceService.create(this.resource,t)},t.prototype.update=function(t){return this.resourceService.update(t)},t.prototype.patch=function(t){return this.resourceService.patch(t)},t.prototype.delete=function(t){return this.resourceService.delete(t)},t.prototype.totalElement=function(){return this.resourceArray&&this.resourceArray.totalElements?this.resourceArray.totalElements:0},t.prototype.hasFirst=function(){return!!this.resourceArray&&this.resourceService.hasFirst(this.resourceArray)},t.prototype.hasNext=function(){return!!this.resourceArray&&this.resourceService.hasNext(this.resourceArray)},t.prototype.hasPrev=function(){return!!this.resourceArray&&this.resourceService.hasPrev(this.resourceArray)},t.prototype.hasLast=function(){return!!this.resourceArray&&this.resourceService.hasLast(this.resourceArray)},t.prototype.next=function(){var t=this;if(this.resourceArray)return this.resourceService.next(this.resourceArray,this.type).pipe(r.map((function(e){return t.resourceArray=e,e.result})));e.throwError("no resourceArray found")},t.prototype.prev=function(){var t=this;if(this.resourceArray)return this.resourceService.prev(this.resourceArray,this.type).pipe(r.map((function(e){return t.resourceArray=e,e.result})));e.throwError("no resourceArray found")},t.prototype.first=function(){var t=this;if(this.resourceArray)return this.resourceService.first(this.resourceArray,this.type).pipe(r.map((function(e){return t.resourceArray=e,e.result})));e.throwError("no resourceArray found")},t.prototype.last=function(){var t=this;if(this.resourceArray)return this.resourceService.last(this.resourceArray,this.type).pipe(r.map((function(e){return t.resourceArray=e,e.result})));e.throwError("no resourceArray found")},t.prototype.page=function(t){var n=this;if(this.resourceArray)return this.resourceService.page(this.resourceArray,this.type,t).pipe(r.map((function(t){return n.resourceArray=t,t.result})));e.throwError("no resourceArray found")},t}(),R=function(t){function e(e,r){var n=t.call(this,k,"account",e)||this;return n.http=r,n.ACCOUNT_API="account",n}return f(e,t),e.prototype.get=function(){return this.http.get(this.resourceService.getResourceUrl(this.ACCOUNT_API))},e.prototype.save=function(t){return this.http.post(this.resourceService.getResourceUrl(this.ACCOUNT_API),t)},e.prototype.changePassword=function(t){return this.http.post(this.resourceService.getResourceUrl(this.ACCOUNT_API+"/change-password"),t)},e}(I);R.ɵfac=function(t){return new(t||R)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},R.ɵprov=s.ɵɵdefineInjectable({token:R,factory:R.ɵfac});var S=function(){function t(t,e){this.http=t,this.resourceService=e,this.AUTH_API="authenticate"}return t.prototype.getToken=function(){return sessionStorage.getItem("authenticationToken")},t.prototype.login=function(t){var e={username:t.username,password:t.password};return this.http.post(this.resourceService.getResourceUrl(this.AUTH_API),e,{observe:"response"}).map(function(t){if(t.ok){var e=t.body.id_token;return this.storeAuthenticationToken(e),e}}.bind(this))},t.prototype.loginWithToken=function(t){return t?(this.storeAuthenticationToken(t),Promise.resolve(t)):Promise.reject("auth-jwt-service Promise reject")},t.prototype.storeAuthenticationToken=function(t){sessionStorage.setItem("authenticationToken",t)},t.prototype.isLoggedIn=function(){return this.getToken()},t.prototype.isLoggedOut=function(){return!this.isLoggedIn()},t.prototype.logout=function(){return new u.Observable((function(t){sessionStorage.removeItem("authenticationToken"),t.complete()}))},t}();S.ɵfac=function(t){return new(t||S)(s.ɵɵinject(n.HttpClient),s.ɵɵinject(A))},S.ɵprov=s.ɵɵdefineInjectable({token:S,factory:S.ɵfac});var m=function(){function t(){}return t.prototype.intercept=function(t,e){var r=sessionStorage.getItem("authenticationToken");return r&&(t=t.clone({setHeaders:{Authorization:"Bearer "+r}})),e.handle(t)},t}(),j=function(){function t(t){this.account=t,this.authenticated=!1,this.authenticationState=new e.Subject}return t.prototype.authenticate=function(t){this.userIdentity=t,this.authenticated=null!==t,this.authenticationState.next(this.userIdentity)},t.prototype.hasAnyAuthority=function(t){return Promise.resolve(this.hasAnyAuthorityDirect(t))},t.prototype.hasAnyAuthorityOnTerritory=function(t,e){return Promise.resolve(this.hasAnyAuthorityDirectOnTerritory(t,e))},t.prototype.hasAnyAuthorityDirect=function(t){if(!this.authenticated||!this.userIdentity||!this.userIdentity.authorities)return!1;for(var e=0;e<t.length;e++)if(this.userIdentity.authorities.includes(t[e]))return!0;return!1},t.prototype.hasAnyAuthorityDirectOnTerritory=function(t,e){if(!this.authenticated||!this.userIdentity||!this.userIdentity.authorities)return!1;for(var r=0;r<t.length;r++)if(this.userIdentity.authoritiesPerTerritory[e]&&this.userIdentity.authoritiesPerTerritory[e].includes(t[r]))return!0;return!1},t.prototype.hasAuthority=function(t){return this.authenticated?this.identity().then((function(e){return Promise.resolve(e.authorities&&e.authorities.includes(t))}),(function(){return Promise.resolve(!1)})):Promise.resolve(!1)},t.prototype.hasAuthorityOnTerritory=function(t,e){return this.authenticated?this.identity().then((function(r){return Promise.resolve(r.authoritiesPerTerritory&&r.authoritiesPerTerritory[e]&&r.authoritiesPerTerritory[e].includes(t))}),(function(){return Promise.resolve(!1)})):Promise.resolve(!1)},t.prototype.identity=function(t){var e=this;return!0===t&&(this.userIdentity=void 0),this.userIdentity?Promise.resolve(this.userIdentity):this.account.get().toPromise().then((function(t){var r=t;return r?(e.userIdentity=r,e.authenticated=!0):(e.userIdentity=null,e.authenticated=!1),e.authenticationState.next(e.userIdentity),e.userIdentity})).catch((function(t){return e.userIdentity=null,e.authenticated=!1,e.authenticationState.next(e.userIdentity),null}))},t.prototype.isAuthenticated=function(){return this.authenticated},t.prototype.isIdentityResolved=function(){return void 0!==this.userIdentity},t.prototype.getAuthenticationState=function(){return this.authenticationState.asObservable()},t}();j.ɵfac=function(t){return new(t||j)(s.ɵɵinject(R))},j.ɵprov=s.ɵɵdefineInjectable({token:j,factory:j.ɵfac});var P=function(){function t(t,e,r){this.router=t,this.authService=e,this.principal=r}return t.prototype.intercept=function(t,e){var r=this;return e.handle(t).do((function(t){}),(function(e){-1!=t.url.indexOf("/api/")&&e instanceof n.HttpErrorResponse&&401===e.status&&(r.authService.logout().subscribe(),r.principal.authenticate(null),r.router.navigate(["/"]))}))},t}();P.ɵfac=function(t){return new(t||P)(s.ɵɵinject(c.Router),s.ɵɵinject(S),s.ɵɵinject(j))},P.ɵprov=s.ɵɵdefineInjectable({token:P,factory:P.ɵfac});var C=function(){function t(t,e){this.authServerProvider=t,this.principal=e}return t.prototype.login=function(t,e){var r=this,n=e||function(){};return new Promise((function(e,i){r.authServerProvider.login(t).subscribe((function(t){return r.principal.identity(!0).then((function(r){e(t)})),n()}),(function(t){return r.logout(),i(t),n(t)}))}))},t.prototype.loginWithToken=function(t){return this.authServerProvider.loginWithToken(t)},t.prototype.logout=function(){this.authServerProvider.logout().subscribe(),this.principal.authenticate(null)},t}();C.ɵfac=function(t){return new(t||C)(s.ɵɵinject(S),s.ɵɵinject(j))},C.ɵprov=s.ɵɵdefineInjectable({token:C,factory:C.ɵfac});var E=function(){function t(t,e){this.http=t,this.resourceService=e,this.DASHBOARD_API="dashboard/info",this.DASHBOARD_EMBEDDED="dashboard"}return t.prototype.getAll=function(){var t=this;return this.http.get(this.resourceService.getResourceUrl(this.DASHBOARD_API)).map((function(e){return e[t.DASHBOARD_EMBEDDED]}))},t}();E.ɵfac=function(t){return new(t||E)(s.ɵɵinject(n.HttpClient),s.ɵɵinject(A))},E.ɵprov=s.ɵɵdefineInjectable({token:E,factory:E.ɵfac,providedIn:"root"});var T=function(t){function e(e,r){var n=t.call(this,k,"users",e)||this;return n.http=r,n.USER_API="users",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){return null!=t._links?this.http.put(t._links.self.href,t):this.http.post(this.resourceService.getResourceUrl(this.USER_API),t)},e.prototype.changePassword=function(t,e){return this.http.post(this.resourceService.getResourceUrl(this.USER_API+"/"+t+"/change-password"),e)},e}(I);T.ɵfac=function(t){return new(t||T)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},T.ɵprov=s.ɵɵdefineInjectable({token:T,factory:T.ɵfac});var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),w=function(t){function e(e,r){var n=t.call(this,O,"user-positions",e)||this;return n.http=r,n.USER_POSITION_API="user-positions",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e;return null!=t._links?(e=this.http.put(t._links.self.href,t),null!=t.user&&t.substituteRelation("user",t.user).subscribe((function(t){}),(function(t){return console.error(t)})),null!=t.territory&&t.substituteRelation("territory",t.territory).subscribe((function(t){}),(function(t){return console.error(t)}))):(t.territory=t.territory._links.self.href,t.user=t.user._links.self.href,e=this.http.post(this.resourceService.getResourceUrl(this.USER_POSITION_API),t)),e},e}(I);w.ɵfac=function(t){return new(t||w)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},w.ɵprov=s.ɵɵdefineInjectable({token:w,factory:w.ɵfac});var U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),x=function(t){function e(e,r){var n=t.call(this,U,"user-configurations",e)||this;return n.http=r,n.USER_CONFIGURATION_API="user-configurations",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e;return null!=t._links?e=this.http.put(t._links.self.href,t):(t.territory=t.territory._links.self.href,t.role=null!=t.role?t.role._links.self.href:null,t.user=t.user._links.self.href,t.roleChildren=null!=t.roleChildren?t.roleChildren._links.self.href:null,e=this.http.post(this.resourceService.getResourceUrl(this.USER_CONFIGURATION_API),t)),e},e}(I);x.ɵfac=function(t){return new(t||x)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},x.ɵprov=s.ɵɵdefineInjectable({token:x,factory:x.ɵfac});var H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),L=function(t){function e(e,r){var n=t.call(this,H,"territories",e)||this;return n.http=r,n.TERRITORY_API="territories",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e,r={_links:{}};r._links.self={},r._links.self.href="";var n={_links:{}};return n._links.self={},n._links.self.href="",null!=t.type&&(n=t.type,void 0!==t.type._links&&(t.type=t.type._links.self.href)),null!=t._links?(delete t.groupType,""==n._links.self.href?t.deleteRelation("type",n).subscribe((function(t){}),(function(t){return console.error(t)})):t.substituteRelation("type",n).subscribe((function(t){}),(function(t){return console.error(t)})),delete t.type,e=this.http.put(t._links.self.href,t)):e=this.http.post(this.resourceService.getResourceUrl(this.TERRITORY_API),t),e},e}(I);L.ɵfac=function(t){return new(t||L)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},L.ɵprov=s.ɵɵdefineInjectable({token:L,factory:L.ɵfac});var N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),M=function(t){function e(e,r){var n=t.call(this,N,"territory-types",e)||this;return n.http=r,n.TERRITORYTYPE_API="territory-types",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){return null!=t._links?this.http.put(t._links.self.href,t):this.http.post(this.resourceService.getResourceUrl(this.TERRITORYTYPE_API),t)},e}(I);M.ɵfac=function(t){return new(t||M)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},M.ɵprov=s.ɵɵdefineInjectable({token:M,factory:M.ɵfac});var G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),B=function(t){function e(e,r){var n=t.call(this,G,"territory-group-types",e)||this;return n.http=r,n.TERRITORYGROUPTYPE_API="territory-group-types",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){return null!=t._links?this.http.put(t._links.self.href,t):this.http.post(this.resourceService.getResourceUrl(this.TERRITORYGROUPTYPE_API),t)},e}(I);B.ɵfac=function(t){return new(t||B)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},B.ɵprov=s.ɵɵdefineInjectable({token:B,factory:B.ɵfac,providedIn:"root"});var D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),Y=function(t){function e(e,r){var n=t.call(this,D,"roles",e)||this;return n.http=r,n.ROLE_API="roles",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){return null!=t._links?this.http.put(t._links.self.href,t):this.http.post(this.resourceService.getResourceUrl(this.ROLE_API),t)},e}(I);Y.ɵfac=function(t){return new(t||Y)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},Y.ɵprov=s.ɵɵdefineInjectable({token:Y,factory:Y.ɵfac});var V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),z=function(t){function e(e,r){var n=t.call(this,V,"connections",e)||this;return n.http=r,n.CONNECTION_API="connections",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){return null!=t._links?this.http.put(t._links.self.href,t):this.http.post(this.resourceService.getResourceUrl(this.CONNECTION_API),t)},e.prototype.testConnection=function(t){return this.http.post(this.resourceService.getResourceUrl(this.CONNECTION_API)+"/test",t)},e}(I);z.ɵfac=function(t){return new(t||z)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},z.ɵprov=s.ɵɵdefineInjectable({token:z,factory:z.ɵfac});var F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),q=function(t){function e(e,r){var n=t.call(this,F,"tasks",e)||this;return n.http=r,n.CONNECTION_API="tasks",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e;if(null!=t._links){if(t.service)t.service._links.self.href=t.service._links.self.href.split("{")[0],t.substituteRelation("service",t.service).subscribe((function(t){}),(function(t){return console.error(t)})),t.service=t.service._links.self.href;else{var r={_links:{}};r._links.self={},r._links.self.href="",t.deleteRelation("service",r).subscribe((function(t){}),(function(t){return console.error(t)}))}if(t.cartography)t.cartography._links.self.href=t.cartography._links.self.href.split("{")[0],t.substituteRelation("cartography",t.cartography).subscribe((function(t){}),(function(t){return console.error(t)})),t.cartography=t.cartography._links.self.href;else{var n={_links:{}};n._links.self={},n._links.self.href="",t.deleteRelation("cartography",n).subscribe((function(t){}),(function(t){return console.error(t)}))}if(t.connection)t.connection._links.self.href=t.connection._links.self.href.split("{")[0],t.substituteRelation("connection",t.connection).subscribe((function(t){}),(function(t){return console.error(t)})),t.connection=t.connection._links.self.href;else{var i={_links:{}};i._links.self={},i._links.self.href="",t.deleteRelation("connection",i).subscribe((function(t){}),(function(t){return console.error(t)}))}if(t.ui&&(t.ui._links.self.href=t.ui._links.self.href.split("{")[0],t.substituteRelation("ui",t.ui).subscribe((function(t){}),(function(t){return console.error(t)})),t.ui=t.ui._links.self.href),t.group&&(t.group._links.self.href=t.group._links.self.href.split("{")[0],t.substituteRelation("group",t.group).subscribe((function(t){}),(function(t){return console.error(t)})),t.group=t.group._links.self.href),t.type&&(t.type._links.self.href=t.type._links.self.href.split("{")[0],t.substituteRelation("type",t.type).subscribe((function(t){}),(function(t){return console.error(t)})),t.type=t.type._links.self.href),t.roles){var o=v(t.roles);delete t.roles,t.substituteAllRelation("roles",o).subscribe((function(t){}),(function(t){return console.error(t)}))}e=this.http.put(t._links.self.href,t)}else t.cartography&&(t.cartography=t.cartography._links.self.href),t.connection&&(t.connection=t.connection._links.self.href),t.service&&(t.service=t.service._links.self.href),t.ui&&(t.ui=t.ui._links.self.href),t.group&&(t.group=t.group._links.self.href),t.type&&(t.type=t.type._links.self.href),e=this.http.post(this.resourceService.getResourceUrl(this.CONNECTION_API),t);return e},e}(I);q.ɵfac=function(t){return new(t||q)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},q.ɵprov=s.ɵɵdefineInjectable({token:q,factory:q.ɵfac});var K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),W=function(t){function e(e,r){var n=t.call(this,K,"task-types",e)||this;return n.http=r,n.CONNECTION_API="task-types",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){return null!=t._links?this.http.put(t._links.self.href,t):this.http.post(this.resourceService.getResourceUrl(this.CONNECTION_API),t)},e}(I);W.ɵfac=function(t){return new(t||W)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},W.ɵprov=s.ɵɵdefineInjectable({token:W,factory:W.ɵfac});var J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),Q=function(t){function e(e,r){var n=t.call(this,J,"task-groups",e)||this;return n.http=r,n.CONNECTION_API="task-groups",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){return null!=t._links?this.http.put(t._links.self.href,t):this.http.post(this.resourceService.getResourceUrl(this.CONNECTION_API),t)},e}(I);Q.ɵfac=function(t){return new(t||Q)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},Q.ɵprov=s.ɵɵdefineInjectable({token:Q,factory:Q.ɵfac});var $=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),X=function(t){function e(e,r){var n=t.call(this,$,"task-parameters",e)||this;return n.http=r,n.TASK_PARAMETER_API="task-parameters",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e;return null!=t._links?(e=this.http.put(t._links.self.href,t),null!=t.task&&t.substituteRelation("task",t.task).subscribe((function(t){}),(function(t){return console.error(t)}))):(t.task=t.task._links.self.href,e=this.http.post(this.resourceService.getResourceUrl(this.TASK_PARAMETER_API),t)),e},e}(I);X.ɵfac=function(t){return new(t||X)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},X.ɵprov=s.ɵɵdefineInjectable({token:X,factory:X.ɵfac});var Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),tt=function(t){function e(e,r){var n=t.call(this,Z,"task-availabilities",e)||this;return n.http=r,n.TASK_AVAILABILITY_API="task-availabilities",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e;return null!=t._links?(e=this.http.put(t._links.self.href,t),null!=t.task&&t.substituteRelation("task",t.task).subscribe((function(t){}),(function(t){return console.error(t)})),null!=t.territory&&t.substituteRelation("territory",t.territory).subscribe((function(t){}),(function(t){return console.error(t)}))):(t.territory=t.territory._links.self.href,t.task=t.task._links.self.href,e=this.http.post(this.resourceService.getResourceUrl(this.TASK_AVAILABILITY_API),t)),e},e}(I);tt.ɵfac=function(t){return new(t||tt)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},tt.ɵprov=s.ɵɵdefineInjectable({token:tt,factory:tt.ɵfac});var et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),rt=function(t){function e(e,r){var n=t.call(this,et,"task-uis",e)||this;return n.http=r,n.CONNECTION_API="task-uis",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){return null!=t._links?this.http.put(t._links.self.href,t):this.http.post(this.resourceService.getResourceUrl(this.CONNECTION_API),t)},e}(I);rt.ɵfac=function(t){return new(t||rt)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},rt.ɵprov=s.ɵɵdefineInjectable({token:rt,factory:rt.ɵfac});var nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),it=function(t){function e(e,r){var n=t.call(this,nt,"translations",e)||this;return n.http=r,n.TRANSLATION_API="translations",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e,r={_links:{}};return r._links.self={},r._links.self.href="",null!=t.language&&(r=t.language,void 0!==t.language._links&&(t.language=t.language._links.self.href)),null!=t._links?(delete t.language,e=this.http.put(t._links.self.href,t)):e=this.http.post(this.resourceService.getResourceUrl(this.TRANSLATION_API),t),e},e}(I);it.ɵfac=function(t){return new(t||it)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},it.ɵprov=s.ɵɵdefineInjectable({token:it,factory:it.ɵfac,providedIn:"root"});var ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),st=function(t){function e(e,r){var n=t.call(this,ot,"languages",e)||this;return n.http=r,n.LANGUAGES_API="languages",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){return null!=t._links?this.http.put(t._links.self.href,t):this.http.post(this.resourceService.getResourceUrl(this.LANGUAGES_API),t)},e}(I);st.ɵfac=function(t){return new(t||st)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},st.ɵprov=s.ɵɵdefineInjectable({token:st,factory:st.ɵfac,providedIn:"root"});var ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),ct=function(t){function e(e,r){var n=t.call(this,ut,"services",e)||this;return n.http=r,n.SERVICE_API="services",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e=t.connection;return null!=t.connection&&(void 0!==t.connection._links?t.connection=t.connection._links.self.href:(e._links={},e._links.self={},e._links.self.href="")),null!=t._links?this.http.put(t._links.self.href,t):this.http.post(this.resourceService.getResourceUrl(this.SERVICE_API),t)},e}(I);ct.ɵfac=function(t){return new(t||ct)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},ct.ɵprov=s.ɵɵdefineInjectable({token:ct,factory:ct.ɵfac});var at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),lt=function(t){function e(e,r){var n=t.call(this,at,"configuration-parameters",e)||this;return n.http=r,n.CONFIGURATION_PARAMETERS_API="configuration-parameters",n}return f(e,t),e}(I);lt.ɵfac=function(t){return new(t||lt)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},lt.ɵprov=s.ɵɵdefineInjectable({token:lt,factory:lt.ɵfac,providedIn:"root"});var pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),ft=function(t){function e(e,r){var n=t.call(this,pt,"service-parameters",e)||this;return n.http=r,n.SERVICE_PARAMETER_API="service-parameters",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e;if(null!=t._links){if(null!=t.service){var r=t.service;delete t.service,t.substituteRelation("service",r).subscribe((function(t){}),(function(t){return console.error(t)}))}e=this.http.put(t._links.self.href,t)}else t.service=t.service._links.self.href,e=this.http.post(this.resourceService.getResourceUrl(this.SERVICE_PARAMETER_API),t);return e},e}(I);ft.ɵfac=function(t){return new(t||ft)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},ft.ɵprov=s.ɵɵdefineInjectable({token:ft,factory:ft.ɵfac});var ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),yt=function(t){function e(e,r){var n=t.call(this,ht,"helpers/capabilities?url=",e)||this;return n.http=r,n.CAPABILITIES_API="helpers/capabilities?url=",n}return f(e,t),e.prototype.getInfo=function(t){var e;if(t){var r={headers:new n.HttpHeaders({Charset:"UTF-8"})},i=this.resourceService.getResourceUrl(this.CAPABILITIES_API);i=i.concat(t),console.log(i),e=this.http.get(i,r)}return e},e}(I);yt.ɵfac=function(t){return new(t||yt)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},yt.ɵprov=s.ɵɵdefineInjectable({token:yt,factory:yt.ɵfac,providedIn:"root"});var vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),dt=function(t){function e(e,r){var n=t.call(this,vt,"helpers/feature-type?url=",e)||this;return n.http=r,n.INFO_API="helpers/feature-type?url=",n}return f(e,t),e.prototype.getInfo=function(t){var e;if(t){var r={headers:new n.HttpHeaders({Charset:"UTF-8"})},i=this.resourceService.getResourceUrl(this.INFO_API);i=i.concat(t),console.log(i),e=this.http.get(i,r)}return e},e}(I);dt.ɵfac=function(t){return new(t||dt)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},dt.ɵprov=s.ɵɵdefineInjectable({token:dt,factory:dt.ɵfac,providedIn:"root"});var gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),_t=function(t){function e(e,r){var n=t.call(this,gt,"cartographies",e)||this;return n.http=r,n.CARTOGRAPHY_API="cartographies",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e,r={_links:{}};r._links.self={},r._links.self.href="";var n={_links:{}};n._links.self={},n._links.self.href="";var i={_links:{}};return i._links.self={},i._links.self.href="",null!=t.service&&(n=t.service,void 0!==t.service._links&&(t.service=t.service._links.self.href)),null!=t.selectionService&&(i=t.selectionService,void 0!==t.selectionService._links&&(t.selectionService=t.selectionService._links.self.href)),null!=t.connection&&(r=t.connection,void 0!==t.connection._links&&(t.connection=t.connection._links.self.href)),null!=t._links?(delete t.connection,delete t.service,delete t.selectionService,""==n._links.self.href?t.deleteRelation("service",n).subscribe((function(t){}),(function(t){return console.error(t)})):t.substituteRelation("service",n).subscribe((function(t){}),(function(t){return console.error(t)})),""==i._links.self.href&&i?t.deleteRelation("spatialSelectionService",i).subscribe((function(t){}),(function(t){return console.error(t)})):t.substituteRelation("spatialSelectionService",i).subscribe((function(t){}),(function(t){return console.error(t)})),e=this.http.put(t._links.self.href,t)):e=this.http.post(this.resourceService.getResourceUrl(this.CARTOGRAPHY_API),t),e},e}(I);_t.ɵfac=function(t){return new(t||_t)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},_t.ɵprov=s.ɵɵdefineInjectable({token:_t,factory:_t.ɵfac});var kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),bt=function(t){function e(e,r){var n=t.call(this,kt,"cartography-groups",e)||this;return n.http=r,n.CARTOGRAPHY_GROUP_API="cartography-groups",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){return null!=t._links?this.http.put(t._links.self.href,t):this.http.post(this.resourceService.getResourceUrl(this.CARTOGRAPHY_GROUP_API),t)},e}(I);bt.ɵfac=function(t){return new(t||bt)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},bt.ɵprov=s.ɵɵdefineInjectable({token:bt,factory:bt.ɵfac});var At=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),It=function(t){function e(e,r){var n=t.call(this,At,"cartography-availabilities",e)||this;return n.http=r,n.CARTOGRAPHY_AVAILABILITY_API="cartography-availabilities",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e;return null!=t._links?(e=this.http.put(t._links.self.href,t),null!=t.cartography&&t.substituteRelation("cartography",t.cartography).subscribe((function(t){}),(function(t){return console.error(t)})),null!=t.territory&&t.substituteRelation("territory",t.territory).subscribe((function(t){}),(function(t){return console.error(t)}))):(t.territory=t.territory._links.self.href,t.cartography=t.cartography._links.self.href,e=this.http.post(this.resourceService.getResourceUrl(this.CARTOGRAPHY_AVAILABILITY_API),t)),e},e}(I);It.ɵfac=function(t){return new(t||It)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},It.ɵprov=s.ɵɵdefineInjectable({token:It,factory:It.ɵfac});var Rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),St=function(t){function e(e,r){var n=t.call(this,Rt,"cartography-filters",e)||this;return n.http=r,n.CARTOGRAPHY_FILTER_API="cartography-filters",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e;return null!=t._links?(e=this.http.put(t._links.self.href,t),null!=t.cartography&&t.substituteRelation("cartography",t.cartography).subscribe((function(t){}),(function(t){return console.error(t)})),null!=t.territorialLevel&&null!=t.territorialLevel&&t.substituteRelation("territorialLevel",t.territorialLevel).subscribe((function(t){}),(function(t){return console.error(t)}))):(t.cartography=t.cartography._links.self.href,t.territorialLevel=t.territorialLevel._links.self.href,e=this.http.post(this.resourceService.getResourceUrl(this.CARTOGRAPHY_FILTER_API),t)),e},e}(I);St.ɵfac=function(t){return new(t||St)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},St.ɵprov=s.ɵɵdefineInjectable({token:St,factory:St.ɵfac});var mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),jt=function(t){function e(e,r){var n=t.call(this,mt,"cartography-parameters",e)||this;return n.http=r,n.CARTOGRAPHY_PARAMETER_API="cartography-parameters",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e;if(null!=t._links){if(null!=t.cartography){var r=t.cartography;delete t.cartography,t.substituteRelation("cartography",r).subscribe((function(t){}),(function(t){return console.error(t)}))}e=this.http.put(t._links.self.href,t)}else t.cartography=t.cartography._links.self.href,e=this.http.post(this.resourceService.getResourceUrl(this.CARTOGRAPHY_PARAMETER_API),t);return e},e}(I);jt.ɵfac=function(t){return new(t||jt)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},jt.ɵprov=s.ɵɵdefineInjectable({token:jt,factory:jt.ɵfac});var Pt=function(t){function e(e,r){var n=t.call(this,mt,"cartography-spatial-selection-parameters",e)||this;return n.http=r,n.CARTOGRAPHY_SPATIAL_SELECTION_PARAMETER_API="cartography-spatial-selection-parameters",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e;if(null!=t._links){if(null!=t.cartography){var r=t.cartography;delete t.cartography,t.substituteRelation("cartography",r).subscribe((function(t){}),(function(t){return console.error(t)}))}e=this.http.put(t._links.self.href,t)}else t.cartography=t.cartography._links.self.href,e=this.http.post(this.resourceService.getResourceUrl(this.CARTOGRAPHY_SPATIAL_SELECTION_PARAMETER_API),t);return e},e}(I);Pt.ɵfac=function(t){return new(t||Pt)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},Pt.ɵprov=s.ɵɵdefineInjectable({token:Pt,factory:Pt.ɵfac});var Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),Et=function(t){function e(e,r){var n=t.call(this,Ct,"cartography-styles",e)||this;return n.http=r,n.CARTOGRAPHY_STYLES_API="cartography-styles",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e;if(null!=t._links){if(null!=t.cartography){var r=t.cartography;delete t.cartography,t.substituteRelation("cartography",r).subscribe((function(t){}),(function(t){return console.error(t)}))}e=this.http.put(t._links.self.href,t)}else t.cartography=t.cartography._links.self.href,e=this.http.post(this.resourceService.getResourceUrl(this.CARTOGRAPHY_STYLES_API),t);return e},e}(I);Et.ɵfac=function(t){return new(t||Et)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},Et.ɵprov=s.ɵɵdefineInjectable({token:Et,factory:Et.ɵfac,providedIn:"root"});var Tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),Ot=function(t){function e(e,r){var n=t.call(this,Tt,"backgrounds",e)||this;return n.http=r,n.BACKGROUND_API="backgrounds",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e,r={_links:{}};return r._links.self={},r._links.self.href="",t.cartographyGroup,null!=t.cartographyGroup&&(r=t.cartographyGroup,void 0!==t.cartographyGroup._links&&(t.cartographyGroup=t.cartographyGroup._links.self.href)),null!=t._links?(delete t.cartographyGroup,""==r._links.self.href?t.deleteRelation("cartographyGroup",r).subscribe((function(t){}),(function(t){return console.error(t)})):t.substituteRelation("cartographyGroup",r).subscribe((function(t){}),(function(t){return console.error(t)})),e=this.http.put(t._links.self.href,t)):e=this.http.post(this.resourceService.getResourceUrl(this.BACKGROUND_API),t),e},e}(I);Ot.ɵfac=function(t){return new(t||Ot)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},Ot.ɵprov=s.ɵɵdefineInjectable({token:Ot,factory:Ot.ɵfac});var wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),Ut=function(t){function e(e,r){var n=t.call(this,wt,"trees",e)||this;return n.http=r,n.TREE_API="trees",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){return null!=t._links?this.http.put(t._links.self.href,t):this.http.post(this.resourceService.getResourceUrl(this.TREE_API),t)},e}(I);Ut.ɵfac=function(t){return new(t||Ut)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},Ut.ɵprov=s.ɵɵdefineInjectable({token:Ut,factory:Ut.ɵfac});var xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),Ht=function(t){function e(e,r){var n=t.call(this,xt,"tree-nodes",e)||this;return n.http=r,n.TREE_NODE_API="tree-nodes",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e;if(null!=t._links){var r=t.tree,n=t.cartography,i=t.parent;if(delete t.tree,delete t.cartography,delete t.parent,e=this.http.put(t._links.self.href,t),null!=r&&t.substituteRelation("tree",r).subscribe((function(t){}),(function(t){return console.error(t)})),null!=n&&t.substituteRelation("cartography",n).subscribe((function(t){}),(function(t){return console.error(t)})),null!=i)t.substituteRelation("parent",i).subscribe((function(t){}),(function(t){return console.error(t)}));else{var o={_links:{}};o._links.self={},o._links.self.href="",t.deleteRelation("parent",o).subscribe((function(t){}),(function(t){return console.error(t)}))}}else t.tree&&t.tree._links&&t.tree._links.self&&(t.tree=t.tree._links.self.href),t.cartography&&t.cartography._links&&t.cartography._links.self&&(t.cartography=t.cartography._links.self.href),e=this.http.post(this.resourceService.getResourceUrl(this.TREE_NODE_API),t);return e},e}(I);Ht.ɵfac=function(t){return new(t||Ht)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},Ht.ɵprov=s.ɵɵdefineInjectable({token:Ht,factory:Ht.ɵfac});var Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),Nt=function(t){function e(e,r){var n=t.call(this,Lt,"applications",e)||this;return n.http=r,n.APPLICATION_API="applications",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e,r={_links:{}};return r._links.self={},r._links.self.href="",null!=t.situationMap&&(r=t.situationMap,void 0!==t.situationMap._links&&(t.situationMap=t.situationMap._links.self.href)),null!=t._links?(delete t.situationMap,""==r._links.self.href?t.deleteRelation("situationMap",r).subscribe((function(t){}),(function(t){return console.error(t)})):t.substituteRelation("situationMap",r).subscribe((function(t){}),(function(t){return console.error(t)})),e=this.http.put(t._links.self.href,t)):e=this.http.post(this.resourceService.getResourceUrl(this.APPLICATION_API),t),e},e}(I);Nt.ɵfac=function(t){return new(t||Nt)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},Nt.ɵprov=s.ɵɵdefineInjectable({token:Nt,factory:Nt.ɵfac});var Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),Gt=function(t){function e(e,r){var n=t.call(this,Mt,"application-backgrounds",e)||this;return n.http=r,n.APPLICATION_BACKGROUND_API="application-backgrounds",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e;return null!=t._links?(e=this.http.put(t._links.self.href,t),null!=t.application&&t.substituteRelation("application",t.application).subscribe((function(t){}),(function(t){return console.error(t)})),null!=t.background&&t.substituteRelation("background",t.background).subscribe((function(t){}),(function(t){return console.error(t)}))):(t.application=t.application._links.self.href,t.background=t.background._links.self.href,e=this.http.post(this.resourceService.getResourceUrl(this.APPLICATION_BACKGROUND_API),t)),e},e}(I);Gt.ɵfac=function(t){return new(t||Gt)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},Gt.ɵprov=s.ɵɵdefineInjectable({token:Gt,factory:Gt.ɵfac});var Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),Dt=function(t){function e(e,r){var n=t.call(this,Bt,"application-parameters",e)||this;return n.http=r,n.APPLICATION_PARAMETER_API="application-parameters",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){var e;return null!=t._links?(e=this.http.put(t._links.self.href,t),null!=t.application&&t.substituteRelation("application",t.application).subscribe((function(t){}),(function(t){return console.error(t)}))):(t.application=t.application._links.self.href,e=this.http.post(this.resourceService.getResourceUrl(this.APPLICATION_PARAMETER_API),t)),e},e}(I);Dt.ɵfac=function(t){return new(t||Dt)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},Dt.ɵprov=s.ɵɵdefineInjectable({token:Dt,factory:Dt.ɵfac});var Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(_),Vt=function(t){function e(e,r){var n=t.call(this,Yt,"codelist-values",e)||this;return n.http=r,n.CODELIST_API="codelist-values",n}return f(e,t),e.prototype.remove=function(t){return this.http.delete(t._links.self.href)},e.prototype.save=function(t){return null!=t._links?this.http.put(t._links.self.href,t):this.http.post(this.resourceService.getResourceUrl(this.CODELIST_API),t)},e}(I);Vt.ɵfac=function(t){return new(t||Vt)(s.ɵɵinject(s.Injector),s.ɵɵinject(n.HttpClient))},Vt.ɵprov=s.ɵɵdefineInjectable({token:Vt,factory:Vt.ɵfac});var zt=function(){this.visibility=!1,this.opacity=1,this.attributions="",this.desc="",this.url_transparent="true",this.url_bgcolor="0x000000",this.extent=null,this.queryable=!1},Ft=function(){},qt=function(){},Kt=function(){},Wt=function(){},Jt=function(){this.loaded=!1},Qt=function(){function t(){this.layersSubject=new e.BehaviorSubject([]),this.layers=null,this.baseLayerGroupsSubject=new e.BehaviorSubject([]),this.baseLayerGroups=null,this.layerConfigurationSubject=new e.BehaviorSubject([]),this.addLayersSubject=new e.BehaviorSubject([]),this.removeLayersSubject=new e.BehaviorSubject([]),this.situationMapConfigurationSubject=new e.BehaviorSubject([]),this.mapOptionsConfigurationSubject=new e.BehaviorSubject([]),this.mapComponentStatusSubject=new e.BehaviorSubject([]),this.count=0}return t.prototype.loadLayersConfiguration=function(t){null!=this.layers&&this.clearLayers(!1),this.setLayers(t)},t.prototype.loadBaseLayersConfiguration=function(t){this.setBaseLayerGroups(t)},t.prototype.getBaseLayerGroups=function(){return this.baseLayerGroupsSubject.asObservable()},t.prototype.setBaseLayerGroups=function(t){this.baseLayerGroups=t,this.refreshBaseLayerGroups()},t.prototype.refreshBaseLayerGroups=function(){this.baseLayerGroupsSubject.next(this.baseLayerGroups)},t.prototype.getLayers=function(){return this.layersSubject.asObservable()},t.prototype.clearLayers=function(t){for(;this.layers.length;)this.layers.pop();t&&this.refreshLayers()},t.prototype.setLayers=function(t){this.layers=t,this.refreshLayers()},t.prototype.addLayer=function(t){this.layers.push(t),this.refreshAddLayers(t)},t.prototype.addLayerAt=function(t,e){0==e?this.layers=[t].concat(this.layers):e>=this.layers.length?this.layers.push(t):this.layers=this.layers.slice(0,e).concat([t]).concat(this.layers.slice(e,this.layers.length)),this.refreshAddLayers(t),this.refreshLayerConfiguration(t.id,null,null,e)},t.prototype.removeLayer=function(t){var e=this.layers.indexOf(t);this.removeLayerIndex(e)},t.prototype.removeLayerId=function(t){for(var e=-1,r=0,n=this.layers.length;r<n;r++)if(this.layers[r].id==t){e=r;break}this.removeLayerIndex(e)},t.prototype.removeLayerIndex=function(t){var e=this.layers[t];this.layers.splice(t,1),this.refreshRemoveLayers(e)},t.prototype.refreshLayers=function(){this.layersSubject.next(this.layers)},t.prototype.getLayersAdded=function(){return this.addLayersSubject.asObservable()},t.prototype.refreshAddLayers=function(t){this.addLayersSubject.next([t])},t.prototype.getLayersRemoved=function(){return this.removeLayersSubject.asObservable()},t.prototype.refreshRemoveLayers=function(t){this.removeLayersSubject.next([t])},t.prototype.getLayerConfigurationListener=function(){return this.layerConfigurationSubject.asObservable()},t.prototype.getLayerIndexById=function(t){for(var e=-1,r=0,n=this.layers.length;r<n;r++)if(this.layers[r].id==t){e=r;break}return e},t.prototype.moveLayer=function(t,e){var r=this.getLayerIndexById(t);if(-1!=r){var n=this.layers.splice(r,1);this.layers=this.layers.slice(0,e).concat(n).concat(this.layers.slice(e,this.layers.length))}this.refreshLayerConfiguration(t,null,null,e)},t.prototype.changeLayerVisibility=function(t,e){this.refreshLayerConfiguration(t,null,e,null)},t.prototype.changeLayerOpacity=function(t,e){this.refreshLayerConfiguration(t,e,null,null)},t.prototype.refreshLayerConfiguration=function(t,e,r,n){var i=new qt;i.id=t,i.opacity=e,i.visibility=r,i.position=n,this.layerConfigurationSubject.next([i])},t.prototype.getSituationMapConfigurationListener=function(){return this.situationMapConfigurationSubject.asObservable()},t.prototype.loadSituationMapConfiguration=function(t){this.situationMapConfigurationSubject.next(t)},t.prototype.getMapOptionsConfigurationListener=function(){return this.mapOptionsConfigurationSubject.asObservable()},t.prototype.loadMapOptionsConfiguration=function(t){this.mapOptionsConfigurationSubject.next([t])},t.prototype.getMapComponentStatusListener=function(){return this.mapComponentStatusSubject.asObservable()},t.prototype.setMapComponentStatus=function(t){this.mapComponentStatusSubject.next([t])},t}();Qt.ɵfac=function(t){return new(t||Qt)},Qt.ɵprov=s.ɵɵdefineInjectable({token:Qt,factory:Qt.ɵfac,providedIn:"root"});var $t=function(){function t(t,e,r){this.principal=t,this.templateRef=e,this.viewContainerRef=r}return Object.defineProperty(t.prototype,"sitmunHasAnyAuthority",{set:function(t){var e=this;this.authorities="string"==typeof t?[t]:t,this.updateView(),this.principal.getAuthenticationState().subscribe((function(t){return e.updateView()}))},enumerable:!1,configurable:!0}),t.prototype.updateView=function(){var t=this;this.territory?this.principal.hasAnyAuthorityOnTerritory(this.authorities,this.territory).then((function(e){t.viewContainerRef.clear(),e&&t.viewContainerRef.createEmbeddedView(t.templateRef)})):this.principal.hasAnyAuthority(this.authorities).then((function(e){t.viewContainerRef.clear(),e&&t.viewContainerRef.createEmbeddedView(t.templateRef)}))},t}();$t.ɵfac=function(t){return new(t||$t)(s.ɵɵdirectiveInject(j),s.ɵɵdirectiveInject(s.TemplateRef),s.ɵɵdirectiveInject(s.ViewContainerRef))},$t.ɵdir=s.ɵɵdefineDirective({type:$t,selectors:[["","sitmunHasAnyAuthority",""]],inputs:{territory:"territory",sitmunHasAnyAuthority:"sitmunHasAnyAuthority"}});var Xt=function(){function t(t,e,r){this.principal=t,this.templateRef=e,this.viewContainerRef=r}return Object.defineProperty(t.prototype,"sitmunHasAnyAuthorityOnTerritory",{set:function(t){var e=this;this.authorities="string"==typeof t.authorities?[t.authorities]:t.authorities,this.territory=t.territory,this.updateView(),this.principal.getAuthenticationState().subscribe((function(t){return e.updateView()}))},enumerable:!1,configurable:!0}),t.prototype.updateView=function(){var t=this;this.territory?this.principal.hasAnyAuthorityOnTerritory(this.authorities,this.territory).then((function(e){t.viewContainerRef.clear(),e&&t.viewContainerRef.createEmbeddedView(t.templateRef)})):this.principal.hasAnyAuthority(this.authorities).then((function(e){t.viewContainerRef.clear(),e&&t.viewContainerRef.createEmbeddedView(t.templateRef)}))},t}();function Zt(t){return new a.TranslateHttpLoader(t,"./assets/i18n/",".json")}Xt.ɵfac=function(t){return new(t||Xt)(s.ɵɵdirectiveInject(j),s.ɵɵdirectiveInject(s.TemplateRef),s.ɵɵdirectiveInject(s.ViewContainerRef))},Xt.ɵdir=s.ɵɵdefineDirective({type:Xt,selectors:[["","sitmunHasAnyAuthorityOnTerritory",""]],inputs:{sitmunHasAnyAuthorityOnTerritory:"sitmunHasAnyAuthorityOnTerritory"}});var te=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Vt,L,M,B,Y,R,S,T,z,q,W,rt,Q,X,tt,ct,lt,yt,dt,ft,_t,bt,It,jt,Pt,Et,St,Ot,Ut,Ht,Nt,Dt,Gt,m,P,j,w,x,C,it,st,E,Qt,{provide:n.HTTP_INTERCEPTORS,useClass:m,multi:!0},{provide:n.HTTP_INTERCEPTORS,useClass:P,multi:!0}]}},t}();te.ɵmod=s.ɵɵdefineNgModule({type:te}),te.ɵinj=s.ɵɵdefineInjector({factory:function(t){return new(t||te)},imports:[[l.TranslateModule.forRoot({loader:{provide:l.TranslateLoader,useFactory:Zt,deps:[n.HttpClient]}})],l.TranslateModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&s.ɵɵsetNgModuleScope(te,{declarations:[$t,Xt],imports:[l.TranslateModule],exports:[$t,Xt,l.TranslateModule]});var ee=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[b,n.HttpClient,{provide:A,useClass:A,deps:[b]}]}},t}();ee.ɵmod=s.ɵɵdefineNgModule({type:ee}),ee.ɵinj=s.ɵɵdefineInjector({factory:function(t){return new(t||ee)},providers:[b,n.HttpClient,{provide:A,useClass:A,deps:[b]}],imports:[[n.HttpClientModule],n.HttpClientModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&s.ɵɵsetNgModuleScope(ee,{imports:[n.HttpClientModule],exports:[n.HttpClientModule]}),t.AccountService=R,t.AngularHalModule=ee,t.Application=Lt,t.ApplicationBackground=Mt,t.ApplicationBackgroundService=Gt,t.ApplicationParameter=Bt,t.ApplicationParameterService=Dt,t.ApplicationService=Nt,t.AuthExpiredInterceptor=P,t.AuthInterceptor=m,t.AuthService=S,t.Background=Tt,t.BackgroundService=Ot,t.Capabilitie=ht,t.CapabilitiesService=yt,t.Cartography=gt,t.CartographyAvailability=At,t.CartographyAvailabilityService=It,t.CartographyFilter=Rt,t.CartographyFilterService=St,t.CartographyGroup=kt,t.CartographyGroupService=bt,t.CartographyParameter=mt,t.CartographyParameterService=jt,t.CartographyService=_t,t.CartographySpatialSelectionParameterService=Pt,t.CartographyStyle=Ct,t.CartographyStyleService=Et,t.CodeList=Yt,t.CodeListService=Vt,t.ConfigurationParameter=at,t.ConfigurationParametersService=lt,t.Connection=V,t.ConnectionService=z,t.DashboardService=E,t.ExternalService=b,t.GEOADMIN_TREE_TASK_ID="geoadmin",t.GetInfoService=dt,t.HasAnyAuthorityDirective=$t,t.HasAnyAuthorityOnTerritoryDirective=Xt,t.Info=vt,t.Language=ot,t.LanguageService=st,t.Layer=zt,t.LayerConfiguration=qt,t.LayerGroup=Kt,t.LoginService=C,t.MapComponentStatus=Jt,t.MapConfigurationManagerService=Qt,t.MapOptionsConfiguration=Wt,t.OptionalParameter=Ft,t.Principal=j,t.Resource=_,t.ResourceArray=d,t.ResourceHelper=g,t.ResourceService=A,t.RestService=I,t.Role=D,t.RoleService=Y,t.Service=ut,t.ServiceParameter=pt,t.ServiceParameterService=ft,t.ServiceService=ct,t.SitmunFrontendCoreModule=te,t.TERRITORIAL_APP_NAME="Aplicación Territorial",t.Task=F,t.TaskAvailability=Z,t.TaskAvailabilityService=tt,t.TaskGroup=J,t.TaskGroupService=Q,t.TaskParameter=$,t.TaskParameterService=X,t.TaskService=q,t.TaskType=K,t.TaskTypeService=W,t.TaskUI=et,t.TaskUIService=rt,t.Territory=H,t.TerritoryGroupType=G,t.TerritoryGroupTypeService=B,t.TerritoryService=L,t.TerritoryType=N,t.TerritoryTypeService=M,t.Translation=nt,t.TranslationService=it,t.Tree=wt,t.TreeNode=xt,t.TreeNodeService=Ht,t.TreeService=Ut,t.User=k,t.UserConfiguration=U,t.UserConfigurationService=x,t.UserPosition=O,t.UserPositionService=w,t.UserService=T,t.createTranslateLoader=Zt,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=sitmun-frontend-core.umd.min.js.map